#\u67E5\u6570\u636E\u8868\u662F\u5426\u5B58\u5728
sys.S100001=SELECT * FROM bdo_base.base_deftable where tableNm = ? 
#\u67E5\u5B58\u50A8\u672C\u5730json\u7684\u4FE1\u606F(\u8868\uFF09
sys.S100002=SELECT a.dbNm,a.tableNm,a.tableNmCn,a.containWho,a.containMenuId FROM bdo_base.base_deftable a,bdo_base.base_defdatabase b WHERE b.dbNm = a.dbNm AND b.active_flag = 1 AND a.active_flag = 1 AND a.tableNm NOT LIKE 'gaofeng%' ORDER BY b.dbNm,a.tableNm 
#\u67E5\u5B58\u50A8\u672C\u5730json\u7684\u4FE1\u606F(\u8868\u4E2D\u5217\uFF09
sys.S100003=SELECT colNm,colNmCn,IFNULL(colDesc,'') AS colDesc,dataType,dataLen,dataScale,IFNULL(defaultValue,'') AS defaultValue,isNullable,sortNum,src,IFNULL(srcDetail,'') AS srcDetail,IFNULL(srcDetail2,'') AS srcDetail2,IFNULL(srcDetail3,'') AS srcDetail3,IFNULL(srcDetail4,'') AS srcDetail4,IFNULL(srcDetail5,'') AS srcDetail5,IFNULL(renderer,'') AS renderer,filterType,IFNULL(filterSrc,'') AS filterSrc,fieldType,authFlg,IFNULL(cusCfg,'') AS cusCfg FROM bdo_base.base_defcolumn WHERE dbNm = ? AND tableNm = ? /*START #param1# and colNm='{param1}' #param1# END*/ AND active_flag = 1 ORDER BY dbNm,tableNm,sortNum 
#\u6839\u636E\u8868\u540D\u67E5\u627EJAVA\u89E6\u53D1\u5668\u7C7B
sys.S100004=SELECT * FROM bdo_base.base_defjavatriger WHERE active_flag = 1 AND(tableNm = ? OR CONCAT(dbNm,'.',tableNm) = ?) and trigerType = ? 
#\u67E5\u6570\u636E\u5E93\u662F\u5426\u5B58\u5728
sys.S100005=SELECT 1 FROM information_schema.SCHEMATA where schema_name = ?
#\u5224\u65AD\u636E\u5E93\u4E2D\u67D0\u4E2A\u5E93\u4E2D\u67D0\u4E2A\u8868\u662F\u5426\u5B58\u5728
sys.S100006=SELECT 1 FROM information_schema.TABLES WHERE 1 =1 /*START #param1# and table_schema = ?  #param1# END*/ /*START #param2# and table_Name = ?  #param2# END*/
#\u67E5\u8BE2\u8868\u5904\u7406\u7684\u4E3B\u754C\u9762
sys.S100007=SELECT a.* FROM bdo_base.base_deftable a WHERE 1 = 1 /*START #param1# and a.dbNm = '{param1}' #param1# END*/ order by a.dbNm,a.tableNm 
#\u67E5\u8BE2\u8868\u5904\u7406\u7684\u5B57\u6BB5\u4E3B\u754C\u9762
sys.S100008=SELECT a.* FROM bdo_base.base_defcolumn a WHERE 1 =1 /*START #param1# and a.dbNm = '{param1}' and a.tableNm = '{param2}' #param1# END*/ order by a.sortNum 
#\u67E5\u770B\u6240\u6709\u4EBA\u767B\u5F55\u8BB0\u5F55\uFF08\u9664\u7BA1\u7406\u5458\uFF09
sys.S100009=select b.firstItemId as __dOffice,b.autoid as __ddepartment,c.name,a.logTime from bdo_log.log_login a,bdo_base.base_department b,bdo_base.base_user c where a.loginout = 0 and c.id = a.userId and c.departmentId = b.autoid and a.userId <> 19 and b.autoId in({canDeparts}) 
#\u67E5\u7CFB\u7EDF\u7684\u5E93\u5B9A\u4E49
sys.S100010=SELECT DISTINCT TABLE_SCHEMA AS dbNm FROM information_schema.tables WHERE table_schema NOT IN ( 'information_schema', 'performance_schema', 'mysql' )
#\u67E5\u7CFB\u7EDF\u7684\u6570\u636E\u8868\u5B9A\u4E49
sys.S100011=SELECT TABLE_SCHEMA AS dbNm, TABLE_NAME AS tableNm, table_comment AS tableNmCn FROM information_schema.tables WHERE table_schema = ?  and TABLE_NAME not like 'gaofengdrop%' ORDER BY table_name
#\u67E5\u7CFB\u7EDF\u7684\u6570\u636E\u8868\u5B57\u6BB5\u5B9A\u4E49
#S100012=SELECT table_schema AS dbNm , table_name AS tableNm, column_name AS columnNm , ordinal_position AS sortNum, column_default AS defaultValue, is_nullable AS isNullable, column_comment AS columnNmCn , character_maximum_length AS dataLen, column_type AS dataType , numeric_precision AS numericPresision, numeric_scale AS numericScale, data_type , column_key , extra FROM information_schema.columns WHERE table_schema NOT IN ( 'information_schema', 'performance_schema', 'mysql' ) ORDER BY table_schema, table_name, ordinal_position
sys.S100012=SELECT column_name AS colNm, column_comment AS colNmCn, column_type AS dataType, IFNULL(character_maximum_length,numeric_precision) AS dataLen, numeric_scale AS dataScale, column_default AS defaultValue, IF(is_nullable='YES',1,0) AS isNullable, ordinal_position AS sortNum, IF(extra = 'auto_increment','01','') AS src FROM information_schema.columns WHERE table_schema =? and table_name = ? ORDER BY table_schema, table_name, ordinal_position
#\u67E5\u8BE2\u6700\u9876\u5C42\u90E8\u95E8
sys.S100013=select distinct a.id as cid,a.id AS id,a.name,a.name as label,a.shortName,a.contact,a.contactPhone,a.id AS value,'false' as leaf,a.sortNum from bdo_base.base_company a left join bdo_base.base_department b on b.parentid = a.id where 1 = 1 and a.active_flag='1' /*START #param1# AND a.id = {param1} #param1# END*/ /*START #param18# AND(a.id = '{param18}' OR a.name = '{param18}') #param18# END*/ /*START #param19# AND a.name like '%{param19}%' #param19# END*/ 
sys.S100014=SELECT autoid,autoid AS id,autoid AS VALUE,departname,departname AS label,parentid AS __dparentid,parentid,sortNum,level0,fullpath,url,ltype,address,ProjectPopedom,areaid,isleaf,IF(isleaf = '0','false','true') AS leaf,enname,isRH,firstItemId AS __dfirstItemId,firstItemId,firstItemName,topManageDepId AS __dtopManageDepId,topManageDepId,deptManager AS __udeptManager,deptManager,hrDeptId,hrDeptCode,hrDeptName,isVisable FROM bdo_base.base_department WHERE 1 = 1 AND active_flag = '1' /*START #param1# and parentid='{param1}' #param1# END*/ /*START #param19# AND departname like '%{param19}%' #param19# END*/ ORDER BY sortNum ASC 
#\u6839\u636E\u83DC\u5355ID\u67E5\u770B\u6709\u6548\u7684\u83DC\u5355\u4FE1\u606F
sys.S100015= select * from bdo_base.base_menu where id = ? and active_flag = 1 
#\u67E5\u770B\u8868\u5B9A\u4E49
sys.S100016= select * from bdo_base.base_deftable where active_flag= 1 /*START #param1# and dbNm in({dbNm}) #param1# END*/ /*START #param2# and tableNm in({tableNm}) #param2# END*/ order by dbNm,tableNm 
#\u67E5\u770B\u8868\u5B57\u6BB5\u5B9A\u4E49
sys.S100017= select * from bdo_base.base_defcolumn where active_flag= 1 /*START #param1# and dbNm in({dbNm}) #param1# END*/ /*START #param2# and tableNm in({tableNm}) #param2# END*/ order by dbNm,tableNm,colNm 
#\u67E5\u770B\u8868\u7D22\u5F15\u5B9A\u4E49
sys.S100018= select * from bdo_base.base_deftableindex where active_flag= 1 /*START #param1# and dbNm in({dbNm}) #param1# END*/ /*START #param2# and tableNm in({tableNm}) #param2# END*/ order by dbNm,tableNm 
#\u67E5\u770B\u8868Java\u89E6\u53D1\u5668\u5B9A\u4E49
sys.S100019= select * from bdo_base.base_defjavatriger where active_flag= 1 /*START #param1# and dbNm in({dbNm}) #param1# END*/ /*START #param2# and tableNm in({tableNm}) #param2# END*/ order by dbNm,tableNm 
# \u4EBA\u5458\u5217\u8868 #  ProjSQLID.S000007
sys.S200007=SELECT DISTINCT a.id AS value,CONCAT(CONCAT(CONCAT(a.name,'('),a.loginid),') ','_',b.departname) AS label FROM bdo_base.base_user a INNER JOIN(SELECT b.autoid,b.departname FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON INSTR(CONCAT('|',b.fullpath),CONCAT('|',a.autoId,'|')) > 0 WHERE a.autoid IN({param2})) b ON b.autoid = a.departmentid WHERE a.id <> 19 AND a.isActive = 1 and a.active_flag = 1 ORDER BY /*START #param3#(a.name = '{param3}') DESC,#param3# END*/ /*START #param4#(a.id = {param4}) DESC,#param4# END*/ b.autoid,a.loginid 
# \u90E8\u95E8\u4FE1\u606F \u7528\u4E8E\u90E8\u95E8\u6811 #  ProjSQLID.S000013
sys.S200013=SELECT DISTINCT CONCAT('department_',a.autoid) AS id,a.departname AS label,a.parentId,IF(a.isLeaf = '1','true','false') AS leaf,a.autoid AS VALUE,'department' AS typeName,a.sortNum AS property FROM bdo_base.base_department a WHERE 1 = {param20} AND a.ACTIVE_FLAG='1' /*START #param10# AND(a.autoId IN({canDeparts}) OR(a.autoid IN(SELECT topManageDepId FROM bdo_base.base_department WHERE autoId IN({canDeparts})))) #param10# END*/ /*START #param1# and a.parentid = '{param1}' #param1# END*/ /*START #param18# AND(a.autoid = '{param18}' OR a.departname = '{param18}') #param18# END*/ /*START #param19# AND a.departname like '%{param19}%' #param19# END*/ UNION SELECT DISTINCT CONCAT('department_',a.id) AS id,a.name AS label,a.id,'false' AS leaf,a.id AS VALUE,'department' AS typeName,a.id AS property FROM bdo_base.base_company a WHERE 1 = {param21} AND a.ACTIVE_FLAG='1' /*START #param1# and a.id = '{param1}' #param1# END*/ ORDER BY property,id 
# \u90E8\u95E8\u4FE1\u606F \u7528\u4E8E\u4EBA\u5458\u6811 #  ProjSQLID.S000014
sys.S200014=SELECT DISTINCT CONCAT('department_',a.autoid) AS id,a.departname AS label,a.parentId,'false' AS leaf,IF(a.isLeaf = '1','true','false') AS switchNode,a.autoid AS VALUE,'department' AS typeName,a.sortNum FROM bdo_base.base_department a WHERE 1 = 1 /*START #param10# AND a.autoId IN({canDeparts}) #param10# END*/ /*START #param1# and a.parentid = '{param1}' #param1# END*/ UNION SELECT DISTINCT CONCAT('department_',a.id) AS id,a.name AS label,a.id,'false' AS leaf,'false' AS switchNode,a.id AS VALUE,'department' AS typeName,a.sortNum FROM bdo_base.base_company a WHERE -1 = {param1} AND a.ACTIVE_FLAG = '1' ORDER BY sortNum,VALUE 
# \u4EBA\u5458\u4FE1\u606F \u7528\u4E8E\u4EBA\u5458\u6811 #  ProjSQLID.S000015
sys.S200015=SELECT DISTINCT CONCAT('user_',a.id) AS id,CONCAT(a.name,'(',a.hrLoginId,') ') AS label,a.departmentid AS parentId,'true' AS leaf,a.id AS VALUE,'user' AS typeName FROM bdo_base.base_user a WHERE 1 = 1 AND a.isActive = 1 AND a.active_flag = 1 /*START #param10# AND a.departmentid IN({canDeparts}) #param10# END*/ /*START #param1# and a.departmentid = '{param1}' #param1# END*/ /*START #param18# AND a.id = '{param18}' #param18# END*/ /*START #param19# AND(a.loginid like '%{param19}%' OR a.name like '%{param19}%') #param19# END*/ ORDER BY a.loginid 
# \u83B7\u53D6\u83DC\u5355\u4FE1\u606F ProjSQLID S000026
sys.S200026=SELECT * from bdo_base.base_menu where id = {param1} 
#  ProjSQLID.S000059
sys.S200059=SELECT CONCAT('auditType_',a.id) AS id,a.attributeValue1 AS label,a.attributeName AS parentid,a.attributeValue1 AS VALUE,"false" AS leaf,'auditType_1' AS typeName,'false' AS checked,IF(a.attributeValue1 = '\u96C6\u56E2\u5BA2\u6237','false','true') AS ischeckbox FROM bdo_base.base_dic a WHERE 1 = 1 AND attributeType IN('customerType') 
#  ProjSQLID.S000060
sys.S200060=SELECT DISTINCT CONCAT('customerType_', b.groupid) AS id, b.groupName AS label, IF( b.parentid = '0', '\u96C6\u56E2\u5BA2\u6237', b.parentid ) AS parentid, b.groupid AS VALUE, IF( b.parentid = '0', 'false', IF((c.num) > 0, 'false', 'true') ) AS leaf, 'customerType' AS typeName , 'false' AS checked FROM asdb.k_group b LEFT JOIN asdb.k_customer a ON a.groupName = b.groupId LEFT JOIN (SELECT COUNT(1) AS num, a.groupName FROM asdb.k_customer a WHERE a.departmentid IN ({canDeparts}) GROUP BY a.groupName) c ON c.groupName = b.groupid WHERE ( b.departmentid IN ({canDeparts}) OR a.departmentid IN ({canDeparts}) ) AND a.groupName > '' /*START #param10# AND b.parentid='{param10}' #param10# END*/ /*START #param11# AND b.parentid='0' #param11# END*/ /*START #param19# AND b.groupName like '%{param19}%' AND b.parentid <> '0' AND c.num <= 0 #param19# END*/ /*START #param13# UNION ALL select CONCAT('customerType_', a.DepartID) AS id, a.DepartName AS label, a.groupName AS parentid, a.DepartID AS VALUE, 'true' AS leaf, 'customerType' AS typeName,'false' AS checked FROM asdb.k_customer a LEFT JOIN asdb.k_group b ON a.groupName = b.groupId WHERE ( b.departmentid IN ({canDeparts}) OR a.departmentid IN ({canDeparts}) ) AND a.groupName>'' /*START #param12# AND a.groupName='{param12}' #param12# END*/ /*START #param19# AND a.DepartName like '%{param19}%' #param19# END*/ #param13# END*/
#  ProjSQLID.S000061
sys.S200061=SELECT CONCAT('customerType_', a.DepartID) AS id, a.DepartName AS label, b.parentid AS parentid, a.DepartID AS VALUE, IF(b.parentid > '0', 'false', 'true') AS leaf, 'customerType' AS typeName FROM asdb.k_customer a LEFT JOIN asdb.k_group b ON a.groupname = b.groupid LEFT JOIN k_industry c ON c.industryid = a.vocationid LEFT JOIN bdo_base.base_department d ON a.departmentid = d.autoid WHERE a.DepartID <> '555555' AND a.departmentid IN ({canDeparts}) /*START #param10# AND a.groupname >'' #param10# END*/ /*START #param11# AND (a.groupname IS NULL OR a.groupname='') #param11# END*/ /*START #param19# AND a.DepartName like '%{param19}%' #param19# END*/
#\u53EF\u7528\u83DC\u5355\u67E5\u8BE2 #  ProjSQLID.S000064
sys.S200064=SELECT CONCAT(IF(i.name IS NULL,'',CONCAT(i.name,'-')),IF(h.name IS NULL,'',CONCAT(h.name,'-')),IF(g.name IS NULL,'',CONCAT(g.name,'-')),IF(f.name IS NULL,'',CONCAT(f.name,'-')),IF(e.name IS NULL,'',CONCAT(e.name,'-')),IF(d.name IS NULL,'',CONCAT(d.name,'-')),IF(c.name IS NULL,'',CONCAT(c.name,'-')),IF(b.name IS NULL,'',b.name)) AS pathName,IFNULL(i.id,(ifnull(h.id,ifnull(g.id,ifnull(f.id,ifnull(e.id,IFNULL(d.id,IFNULL(c.id,IFNULL(b.id,a.id))))))))) baseMenuId,a.id,a.name FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id LEFT JOIN bdo_base.base_menu f ON e.parentid = f.id LEFT JOIN bdo_base.base_menu g ON f.parentid = g.id LEFT JOIN bdo_base.base_menu h ON g.parentid = h.id LEFT JOIN bdo_base.base_menu i ON h.parentid = i.id WHERE a.act <> '' and a.act not like 'function%' and a.ctype <> '000' AND a.active_flag = 1 AND a.isDisplay = 1 and a.id in({param1}) /*START #param25# AND a.id not in({param25}) #param25# END*/ ORDER BY pathName,a.sortnum 
#\u7528\u6237\u81EA\u5B9A\u4E49\u684C\u9762\u4FE1\u606F\u67E5\u8BE2   #  ProjSQLID.S000065
sys.S200065=SELECT userDesk.*,menuInfo.*,CONCAT('./',icon.path,'/',icon.iconFile,'_24.',icon.ext) AS imageFile FROM bdo_base.base_personaldeskinfo userDesk LEFT JOIN bdo_base.base_icon icon ON userDesk.iconId = icon.id INNER JOIN(SELECT REPLACE(REPLACE(CONCAT(IFNULL(e.name,''),'-',IFNULL(d.name,''),'-',IFNULL(c.name,''),'-',IFNULL(b.name,'')),'---',''),'--','') AS pathName,IFNULL(e.id,IFNULL(d.id,IFNULL(c.id,IFNULL(b.id,a.id)))) baseMenuId,a.id,a.name,a.sortnum FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id WHERE a.act <> '' AND a.active_flag = 1 AND a.isDisplay = 1 AND a.id IN({param1}) ORDER BY pathName,a.sortnum) menuInfo ON userDesk.menuid = menuInfo.id WHERE userDesk.userid = {userId} AND userDesk.ctype IN('0','1') ORDER BY userDesk.no /*,menuInfo.baseMenuId,menuInfo.sortnum*/ 
#\u7528\u6237\u53EF\u7528\u80CC\u666F\u67E5\u8BE2#  ProjSQLID.S000066
sys.S200066=SELECT id,iconFileCn,CONCAT('./',path,'/',iconFile,'.',ext) AS deskbackImg FROM bdo_base.base_icon WHERE iconType = '9' AND active_flag = '1' ORDER BY sortNo 
#\u56FE\u7247Icon\u67E5\u8BE2#  ProjSQLID.S000067
sys.S200067=SELECT id,CONCAT('./',path,'/',iconFile,'_48.',ext) AS imageFile FROM bdo_base.base_icon WHERE iconType = '0' and active_flag = 1 order by sortNo 
#\u7CFB\u7EDF\u7EF4\u62A4
#\u67E5\u770B\u6570\u636E\u5E93\u8FDB\u7A0B
sys.S200900=SELECT * FROM information_schema.PROCESSLIST ORDER BY state DESC, id ASC
#\u67E5\u770B\u6570\u636E\u5E93\u53C2\u6570
sys.S200901=SELECT * FROM information_schema.SESSION_VARIABLES ORDER BY VARIABLE_NAME ASC
sys.S200902=SELECT * FROM information_schema.SESSION_STATUS ORDER BY VARIABLE_NAME ASC
sys.S200903=SELECT * FROM information_schema.GLOBAL_VARIABLES ORDER BY VARIABLE_NAME ASC
sys.S200904=SELECT * FROM information_schema.GLOBAL_STATUS ORDER BY VARIABLE_NAME ASC
#\u85AA\u916C\u7EA7\u522B\u4E0B\u62C9\u6846 #  ProjSQLID.S000075
sys.S200075=SELECT DISTINCT a.rank AS label,a.rank AS value FROM bdo_base.base_user a INNER JOIN(SELECT b.autoid FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON INSTR(CONCAT('|',b.fullpath),CONCAT('|',a.autoId,'|')) > 0 WHERE a.autoid IN({canDeparts})) b ON b.autoid = a.departmentid WHERE a.rank IS NOT NULL AND a.rank <> '' AND a.rank <> 'N/A' ORDER BY a.rank 
#\u4EBA\u5458\u5206\u7EC4\u4E0B\u62C9\u6846 #  ProjSQLID.S000076
#sys.S200076=SELECT CONCAT(departmentid,'|',groupName) as value,groupName as label FROM k_scheduling_usergroup WHERE departmentid IN ({canDeparts}) ORDER BY InitFlag
sys.S200076=SELECT CONCAT(departmentid,'|',groupName) as value,groupName as label FROM z_departgroup WHERE typeId = 1 and departmentid IN ({canDeparts})
#\u6743\u9650\u5185\u90E8\u95E8\u6811\uFF0C\u914D\u5408\u4EBA\u5458\u6811SQL #  ProjSQLID.S000095
sys.S200095=SELECT DISTINCT CONCAT('department_',a.autoid) AS id,a.departname AS label,a.parentId,'false' AS leaf,IF(a.isLeaf = '1','true','false') AS switchNode,a.autoid AS VALUE,'department' AS typeName FROM bdo_base.base_department a WHERE 1 = 1 AND a.autoId IN({canDeparts}) ORDER BY a.sortNum,a.autoid 
#\u67E5\u8BE2\u6D88\u606F # ProjSQLID.S000118
sys.S200118=SELECT a.id,IF(a.userId = '0','\u5168\u4F53\u5E7F\u64AD',u.name) AS userName,a.message,a.postDate,a.postuser AS __upostuser,a.isReaded,a.relateMenuId,b.name AS menuName FROM bdo_base.base_balloon a LEFT JOIN bdo_base.base_user u ON a.userid = u.id LEFT JOIN bdo_base.base_user c ON a.postuser = c.id LEFT JOIN bdo_base.base_menu b ON a.relateMenuId = b.id WHERE(a.userid = '{param1}' OR('{param3}' = '1' AND a.userId = 0)) AND a.isActive = 1 /*START #param2# and a.isReaded = '{param2}' #param2# END*/ ORDER BY a.userId = 0 DESC,a.isReaded,a.postDate DESC 
#\u67E5\u8BE2\u65B9\u6CD5 #  ProjSQLID.S000123 \u4F5C\u5E9F\u4E86
#sys.S200123=SELECT * FROM k_function
#\u6743\u9650\u5185\u90E8\u95E8\u6811\uFF0C\u914D\u5408\u4EBA\u5458\u6811SQL #  ProjSQLID.S000124
sys.S200124=SELECT DISTINCT CONCAT('user_',a.id) AS id,CONCAT(a.name,'(',a.hrloginid,') ') AS label,a.departmentid AS parentId,'true' AS leaf,a.id AS VALUE,'user' AS typeName FROM bdo_base.base_user a,bdo_base.base_department b WHERE a.departmentid = b.autoid AND a.isActive = 1 AND a.ACTIVE_FLAG = 1 AND b.autoId IN({canDeparts}) /*START #param10# AND a.departmentid IN({canDeparts}) #param10# END*/ /*START #param1# and a.departmentid = '{param1}' #param1# END*/ /*START #param18# AND a.id = '{param18}' #param18# END*/ /*START #param19# AND(a.loginid like '%{param19}%' OR a.name like '%{param19}%') #param19# END*/ ORDER BY a.sortNum 
#\u67E5\u627E\u7528\u6237\u89D2\u8272\u6743\u9650 #  ProjSQLID.S000140
sys.S200140=SELECT a.id as userId,GROUP_CONCAT(c.menus) as menuIds FROM bdo_base.base_user a,bdo_base.base_userrole b,bdo_base.base_roledeskmenus c WHERE a.isactive = 1 /*START #param1# AND a.id = ? #param1# END*/ AND a.id = b.userid AND b.rid = c.roleId GROUP BY a.id ORDER BY a.id,c.sortNum 
#\u67E5\u627E\u672A\u6388\u6743\u83DC\u5355 #  ProjSQLID.S000141
sys.S200141=SELECT DISTINCT a.id AS menuId,a.name AS menuName,a.imageIndex FROM bdo_base.base_menu a,bdo_base.base_roledeskmenus c,bdo_base.base_userrole d WHERE a.id IN({menus}) AND a.active_flag = 1 AND IFNULL(a.act,'') <> '' AND CONCAT(',',c.menus,',') LIKE CONCAT('%,',a.id,',%') AND c.roleId = d.rid AND d.userid = ? AND NOT EXISTS(SELECT menuId FROM bdo_base.base_personaldeskinfo b WHERE b.userId = ? AND b.menuId = a.id) ORDER BY c.sortnum,a.sortnum 
#\u83DC\u5355\u6811 \u7BA1\u7406\u83DC\u5355\u754C\u9762#  ProjSQLID.S000143
sys.S200143=SELECT a.active_flag,a.id AS id,a.id AS VALUE,a.parentid AS parentId,CONCAT(a.parentid,'') AS parentIdView,a.depth,a.lowerState,a.ctype,a.canAgent,a.agentAuditFlag,a.isDisplay,a.isProtected,a.isCanDep,a.menuAuthType,IF('{param19}' <> '' AND '{param19}' <> 'NULL','true',IF(a.ctype = '02' OR(a.lowerState <> '2' AND a.act <> ''),'true','false')) AS leaf,a.name AS label,IFNULL(a.act,'') AS act,IFNULL(a.helpact,'') AS helpact,a.imageIndex,a.sortNum,IF(icon.id IS NULL,'',CONCAT('./',icon.path,'/',icon.iconFile,'_48.',icon.ext)) AS imageFile,IFNULL(a.authMenuId,'') AS authMenuId FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_icon icon ON icon.id = a.imageIndex AND iconType = '0' AND icon.active_flag = 1 WHERE a.menuAuthType <= {menuAuthType} AND(a.active_flag = 1 /*START #param10# or a.active_flag = 0 #param10# END*/) /*START #param11# AND a.lowerState <> 0 #param11# END*/ /*START #param12# AND a.id like '%{param12}%' #param12# END*/ /*START #param13# AND a.isDisplay = '{param13}' #param13# END*/ /*START #param14# AND a.menuAuthType = '{param14}' #param14# END*/ /*START #param15# AND a.authMenuId like '%{param15}%' #param15# END*/ /*START #param1# and a.parentid = '{param1}' #param1# END*/ /*START #param18# AND a.id = '{param18}' #param18# END*/ /*START #param19# AND(a.name like '%{param19}%' or a.id like '%{param19}%') #param19# END*/ ORDER BY a.sortNum 
#\u53EF\u6388\u6743\u7EF4\u62A4\u7684\u83DC\u5355 param1\u662F\u53EF\u6388\u6743\u83DC\u5355ID #  ProjSQLID.S000144
sys.S200144=SELECT /*START #param10# IF(role.id IS NULL,'false','true') AS roleAuthed,if(rdep.menuId is null,'false','true') as roleDepAuthed,#param10# END*/ CONCAT(IF(i.name IS NULL,'',CONCAT(i.name,'-')),IF(h.name IS NULL,'',CONCAT(h.name,'-')),IF(g.name IS NULL,'',CONCAT(g.name,'-')),IF(f.name IS NULL,'',CONCAT(f.name,'-')),IF(e.name IS NULL,'',CONCAT(e.name,'-')),IF(d.name IS NULL,'',CONCAT(d.name,'-')),IF(c.name IS NULL,'',CONCAT(c.name,'-')),IF(b.name IS NULL,'',b.name)) AS pathName,CONCAT(IF(i.sortNum IS NULL,'',CONCAT(i.sortNum,'-')),IF(h.sortNum IS NULL,'',CONCAT(h.sortNum,'-')),IF(g.sortNum IS NULL,'',CONCAT(g.sortNum,'-')),IF(f.sortNum IS NULL,'',CONCAT(f.sortNum,'-')),IF(e.sortNum IS NULL,'',CONCAT(e.sortNum,'-')),IF(d.sortNum IS NULL,'',CONCAT(d.sortNum,'-')),IF(c.sortNum IS NULL,'',CONCAT(c.sortNum,'-')),IF(b.sortNum IS NULL,'',CONCAT(b.sortNum,'-')),IF(a.sortNum IS NULL,'',a.sortNum)) AS fullSortNum,CONCAT(IF(i.id IS NULL,'',CONCAT(i.id,',')),IF(h.id IS NULL,'',CONCAT(h.id,',')),IF(g.id IS NULL,'',CONCAT(g.id,',')),IF(f.id IS NULL,'',CONCAT(f.id,',')),IF(e.id IS NULL,'',CONCAT(e.id,',')),IF(d.id IS NULL,'',CONCAT(d.id,',')),IF(c.id IS NULL,'',CONCAT(c.id,',')),IF(b.id IS NULL,'',CONCAT(b.id,',')),IF(a.id IS NULL,'',a.id)) AS fullId,a.id,a.name,a.lowerstate,a.ctype,IF(ss.id IS NULL,'false','true') AS authed,IFNULL(po.departmentid,'') AS authedDep,IF(po.departmentid IS NULL OR po.departmentId = '','false','true') AS isAuthedDep FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu ss ON ss.id IN({param2}) AND a.id = ss.id /*START #param10# LEFT JOIN bdo_base.base_menu role ON role.id IN({param10}) and a.id = role.id left join(select distinct menuId from bdo_base.base_userrole a inner join bdo_base.base_rolemenudepauth b on b.roleId = a.rid where userid = '{param4}') rdep on rdep.menuId = a.id #param10# END*/ LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id LEFT JOIN bdo_base.base_menu f ON e.parentid = f.id LEFT JOIN bdo_base.base_menu g ON f.parentid = g.id LEFT JOIN bdo_base.base_menu h ON g.parentid = h.id LEFT JOIN bdo_base.base_menu i ON h.parentid = i.id LEFT JOIN bdo_base.base_userpopedom po ON po.menuid = a.id AND po.property = '{param3}' AND po.userid = '{param4}' WHERE a.active_flag = 1 /*START #param5# and a.menuAuthType <= {param5} #param5# END*/ AND(a.act <> '' OR a.ctype = '02') AND IFNULL(a.ACTIVE_FLAG,1) + IFNULL(b.ACTIVE_FLAG,1) + IFNULL(c.ACTIVE_FLAG,'1') + IFNULL(d.ACTIVE_FLAG,1) + IFNULL(e.ACTIVE_FLAG,1) + IFNULL(f.ACTIVE_FLAG,'1') + IFNULL(g.ACTIVE_FLAG,1) + IFNULL(h.ACTIVE_FLAG,1) + IFNULL(i.ACTIVE_FLAG,'1') = 9 /*START #param1# AND a.id in({param1}) #param1# END*/ ORDER BY fullSortNum,pathName 
#\u67E5\u627E\u83DC\u5355(\u5728param1\u4E2D\u6709\uFF0Cparam2\u4E2D\u6CA1\u6709 #  ProjSQLID.S000145
sys.S200145=select group_concat(id) as notSettedId from bdo_base.base_menu where id not in ({param1}) and id in ({param2})
#\u5728\u6307\u5B9A\u8303\u56F4\u5185\u5224\u65AD\u662F\u5426\u5B58\u5728\u5B50\u76EE\u5F55  #  ProjSQLID.S000146
sys.S200146=SELECT COUNT(1) FROM bdo_base.base_menu WHERE  parentId =? and id in ({param1})
#\u67E5\u627E\u4E0B\u7EA7\u83DC\u5355 #  ProjSQLID.S000147
sys.S200147=Select id from bdo_base.base_menu where parentId = ?
#\u67E5\u627E\u6388\u6743\u90E8\u95E8 #  ProjSQLID.S000148
#sys.S200148=SELECT * FROM (SELECT '${office}' AS autoId, '\u6240\u5C5E\u673A\u6784' AS departName, '' AS firstItemId, '-' AS firstItemName, '-' AS fullName, '1' AS isOffice, /*START #param2# IF( '{param11}' LIKE '%${office}%', 'true', 'false' ) AS authed, #param2# END*/ /*START #param12# 'false' AS authed2, #param12# END*/ /*START #param13# IF( '{param13}' LIKE '%90000000%', 'true', 'false' ) AS authed3, #param13# END*/ '0' AS sortNum UNION SELECT '${department}' AS autoId, '\u6240\u5C5E\u90E8\u95E8' AS departName, '' AS firstItemId, '-' AS firstItemName, '-' AS fullName, '0' AS isOffice, /*START #param2# IF( '{param11}' LIKE '%${department}%', 'true', 'false' ) AS authed, #param2# END*/ /*START #param12# 'false' AS authed2, #param12# END*/ /*START #param13# IF( '{param13}' LIKE '%90000001%', 'true', 'false' ) AS authed3, #param13# END*/ '0' AS sortNum UNION SELECT a.autoid, a.departName, a.firstItemId, a.firstItemName, CONCAT( IF( d.departName IS NULL, '', CONCAT(d.departName, '-') ), IF( c.departName IS NULL, '', CONCAT(c.departName, '-') ), IF( b.departName IS NULL, '', CONCAT(b.departName, '-') ), a.departName ) AS fullName, IF(a.autoid = a.firstItemId, '1', '0') AS isOffice, /*START #param2# IF(po.autoid IS NULL, 'false', 'true') AS authed, #param2# END*/ /*START #param12# IF(po2.autoid IS NULL, 'false', 'true') AS authed2, #param12# END*/ /*START #param13# IF(po3.autoid IS NULL, 'false', 'true') AS authed3, #param13# END*/ a.sortNum FROM base_department a LEFT JOIN base_department b ON a.parentId = b.autoid LEFT JOIN base_department c ON b.parentId = c.autoid LEFT JOIN base_department d ON c.parentId = d.autoid /*START #param2# LEFT JOIN base_department po ON a.autoid = po.autoid AND po.autoid IN ({param2}) #param2# END*/ /*START #param12# LEFT JOIN base_department po2 ON a.autoid = po2.autoid AND po2.autoid IN ({param12}) #param12# END*/ /*START #param13# LEFT JOIN base_department po3 ON a.autoid = po3.autoid AND po3.autoid IN ({param13}) #param13# END*/ WHERE 1 = 1 /*START #param10# AND a.autoId IN ({param10}) #param10# END*/ /*START #param14# AND a.autoId IN ({canDeparts}) #param14# END*/ ) tmp WHERE 1 = 1 /*START #param10# and autoId not like '$%' #param10# END*/ ORDER BY sortNum
sys.S200148=SELECT * from (SELECT '${all}' AS autoId,'\u5168\u90E8' AS departName,'' AS firstItemId,'-' AS firstItemName,'-' AS fullName,'-1' AS isOffice,/*START #param2# IF('{param11}' LIKE '%${all}%','true','false') AS authed,#param2# END*/ /*START #param12# 'false' AS authed2,#param12# END*/ /*START #param13# IF('{param13}' LIKE '%90000002%','true','false') AS authed3,#param13# END*/ '-1' AS sortNum UNION SELECT '${office}' AS autoId,'\u6240\u5C5E\u673A\u6784' AS departName,'' AS firstItemId,'-' AS firstItemName,'-' AS fullName,'1' AS isOffice,/*START #param2# IF('{param11}' LIKE '%${office}%','true','false') AS authed,#param2# END*/ /*START #param12# 'false' AS authed2,#param12# END*/ /*START #param13# IF('{param13}' LIKE '%90000000%','true','false') AS authed3,#param13# END*/ '-1' AS sortNum UNION SELECT '${department}' AS autoId,'\u6240\u5C5E\u90E8\u95E8' AS departName,'' AS firstItemId,'-' AS firstItemName,'-' AS fullName,'0' AS isOffice,/*START #param2# IF('{param11}' LIKE '%${department}%','true','false') AS authed,#param2# END*/ /*START #param12# 'false' AS authed2,#param12# END*/ /*START #param13# IF('{param13}' LIKE '%90000001%','true','false') AS authed3,#param13# END*/ '-1' AS sortNum UNION SELECT a.autoid,a.departName,a.firstItemId,a.firstItemName,CONCAT(IF(d.departName IS NULL,'',CONCAT(d.departName,'-')),IF(c.departName IS NULL,'',CONCAT(c.departName,'-')),IF(b.departName IS NULL,'',CONCAT(b.departName,'-')),a.departName) AS fullName,IF(a.autoid = a.firstItemId,'1','0') AS isOffice,/*START #param2# IF(po.autoid IS NULL,'false','true') AS authed,#param2# END*/ /*START #param12# IF(po2.autoid IS NULL,'false','true') AS authed2,#param12# END*/ /*START #param13# IF(po3.autoid IS NULL,'false','true') AS authed3,#param13# END*/ a.sortNum FROM bdo_base.base_department a LEFT JOIN bdo_base.base_department b ON a.parentId = b.autoid LEFT JOIN bdo_base.base_department c ON b.parentId = c.autoid LEFT JOIN bdo_base.base_department d ON c.parentId = d.autoid /*START #param2# LEFT JOIN bdo_base.base_department po ON a.autoid = po.autoid AND po.autoid IN({param2}) #param2# END*/ /*START #param12# LEFT JOIN bdo_base.base_department po2 ON a.autoid = po2.autoid AND po2.autoid IN({param12}) #param12# END*/ /*START #param13# LEFT JOIN bdo_base.base_department po3 ON a.autoid = po3.autoid AND po3.autoid IN({param13}) #param13# END*/ WHERE 1 = 1 /*START #param10# AND a.autoId IN({param10}) #param10# END*/ /*START #param14# AND a.autoId IN({canDeparts}) #param14# END*/) tmp WHERE 1 = 1 /*START #param10# and autoId not like '$%' #param10# END*/ ORDER BY sortNum 
#\u67E5\u627E\u4EBA\u5458 # ProjSQLID.S000149
sys.S200149=SELECT a.hrLoginId,b.firstItemName,b.departname AS departname,a.id,a.name,a.rank,a.mobilePhone,CASE WHEN a.sex = 'M' OR a.sex = '\u7537' THEN '\u7537' ELSE '\u5973' END AS sex,a.ipPhone,a.phone,a.email,a.cpano,a.isLXCpa,a.cpaRelation,hrdeptcode019,hrDepart FROM bdo_base.base_user a INNER JOIN bdo_base.base_department b ON b.autoid = a.departmentid WHERE a.isActive = 1 AND a.active_flag = 1 /*START #param1# and departmentid IN({canDeparts}) #param1# END*/ ORDER BY b.sortNum,a.sortNum 
# ProjSQLID.S000151
sys.S200151=SELECT * from (SELECT a.id,a.rolename,a.rolevalue,a.popedom,a.levelNum,a.canDistByDep,a.innername,a.departmentId AS __ddepartmentId,a.isPublic,a.needUserLevel,IF(GROUP_CONCAT(c.name) IS NULL,'',GROUP_CONCAT(c.name)) AS authedUsers,IF(IFNULL(a.popedom,'') = '','','\u5DF2\u6388\u6743\u83DC\u5355') AS pop,d.sortNum FROM bdo_base.base_role a LEFT JOIN bdo_base.base_userrole b ON a.id = b.rid LEFT JOIN bdo_base.base_user c ON b.userid = c.id /*START #param1# and c.departmentid IN({canDeparts}) #param1# END*/ LEFT JOIN bdo_base.base_department d ON d.autoid = a.departmentId WHERE 1 = 1 /*START #param1# and(a.departmentId in({canDeparts}) or(a.isPublic=1 and needUserLevel <= {param1})) #param1# END*/ GROUP BY a.id) a ORDER BY sortNum,needUserLevel DESC 
# ProjSQLID.S000152
sys.S200152=SELECT a.id AS __uuserid,a.departmentid AS __ddepartmentid,c.rolename,a.rank,c.id AS roleid FROM bdo_base.base_user a INNER JOIN bdo_base.base_userrole b ON a.id = b.userid LEFT JOIN bdo_base.base_role c ON c.id = b.rid WHERE 1 = 1 /*START #param1# and c.id ={param1} #param1# END*/ /*START #param2# and a.departmentid IN({canDeparts}) #param2# END*/ ORDER BY a.departmentid,a.id 
#\u4EBA\u5458\u7BA1\u7406 # ProjSQLID.S000153
sys.S200153=SELECT * from (SELECT a.id,a.name,a.loginid,IF(a.password = MD5(1),'\u672A\u4FEE\u6539\u7F3A\u7701\u5BC6\u7801','\u5DF2\u4FEE\u6539') AS pwd,CASE WHEN a.sex = 'M' OR a.sex = '\u7537' THEN '\u7537' ELSE '\u5973' END sex,a.educational,a.departmentid AS __departmentid,a.post,a.sortNum,c.roles,c.roleids,a.rank,a.bornDate,a.diploma,a.mobilephone,a.phone,a.email,a.cpano,a.isCpa,a.isLXCpa,a.cpaRelation,a.cpaState,a.hrLoginId,a.hrId,a.hrDepart,a.hrDeptCode018,a.hrDeptCode019 FROM bdo_base.base_user a LEFT JOIN(SELECT userid,GROUP_CONCAT(DISTINCT rolename) AS roles,GROUP_CONCAT(DISTINCT id) AS roleids FROM bdo_base.base_userrole a,bdo_base.base_role b WHERE a.rid = b.id GROUP BY userid) c ON a.id = c.userid WHERE(a.departmentid IN({canDeparts}) OR {userId} = 19 OR {userId} = 4137 OR {userId} = 12883) /*START #param1# AND a.isActive = 1 #param1# END*/ /*START #param2# AND a.isActive = 0 #param2# END*/) aa 
#\u83DC\u5355\u4EE3\u7406\u6388\u6743\u64CD\u4F5C\u67E5\u8BE2 # ProjSQLID.S000154
sys.S200154=SELECT * from (SELECT a.autoId,a.menuId,a.agentFrom AS __uagentFrom,a.agentTo AS __uagentTo,a.agentTime,a.startDate,a.endDate,a.departmentIds,a.departmentNames,a.auditState,a.auditDate,a.auditUser AS __uauditUser,a.agentDesc,b.pathName,b.name AS menuName FROM bdo_base.base_userpopedomagent a LEFT JOIN(SELECT CONCAT(IF(i.name IS NULL,'',CONCAT(i.name,'-')),IF(h.name IS NULL,'',CONCAT(h.name,'-')),IF(g.name IS NULL,'',CONCAT(g.name,'-')),IF(f.name IS NULL,'',CONCAT(f.name,'-')),IF(e.name IS NULL,'',CONCAT(e.name,'-')),IF(d.name IS NULL,'',CONCAT(d.name,'-')),IF(c.name IS NULL,'',CONCAT(c.name,'-')),IF(b.name IS NULL,'',b.name),'-',a.name) AS pathName,a.id,a.name FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id LEFT JOIN bdo_base.base_menu f ON e.parentid = f.id LEFT JOIN bdo_base.base_menu g ON f.parentid = g.id LEFT JOIN bdo_base.base_menu h ON g.parentid = h.id LEFT JOIN bdo_base.base_menu i ON h.parentid = i.id WHERE a.active_flag = 1 AND(a.act <> '' OR a.ctype = '02') AND IFNULL(a.ACTIVE_FLAG,1) + IFNULL(b.ACTIVE_FLAG,1) + IFNULL(c.ACTIVE_FLAG,'1') + IFNULL(d.ACTIVE_FLAG,1) + IFNULL(e.ACTIVE_FLAG,1) + IFNULL(f.ACTIVE_FLAG,'1') + IFNULL(g.ACTIVE_FLAG,1) + IFNULL(h.ACTIVE_FLAG,1) + IFNULL(i.ACTIVE_FLAG,'1') = 9 ORDER BY pathName) b ON a.menuId = b.id WHERE 1 = 1 /*START #param1# AND agentFrom = {param1} #param1# END*/) aa 
#\u83DC\u5355\u9009\u62E9 # ProjSQLID.S000155
sys.S200155=SELECT REPLACE(REPLACE(CONCAT(IFNULL(e.name,''),'-',IFNULL(d.name,''),'-',IFNULL(c.name,''),'-',IFNULL(b.name,'')),'---',''),'--','') AS pathName,IFNULL(e.id,IFNULL(d.id,IFNULL(c.id,IFNULL(b.id,a.id)))) baseMenuId,a.id,a.name,a.ctype,a.canAgent,a.agentAuditFlag FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id WHERE a.active_flag = 1 AND(a.ctype = '02' OR a.ctype = '01') AND a.id IN({param1}) /*START #param2# AND a.canAgent ='{param2}' #param2# END*/ /*START #param3# AND a.agentAuditFlag ='{param3}' #param3# END*/ /*START #param25# AND a.id not in({param25}) #param25# END*/ ORDER BY pathName,a.sortnum 
#\u627E\u5230\u6240\u6709\u6A21\u7248
sys.S200158=SELECT * FROM bdo_base.base_filetemplate 
#\u5BFC\u51FA\u6A21\u7248\u65E5\u5FD7
sys.S200159=SELECT a.id,a.userid AS __userid,a.exportFileName,a.tempId,a.exportTime,a.exportDesc,a.fileType,a.sysId,b.tempName CREATION_DATE FROM bdo_base.base_exportfilelog a LEFT JOIN bdo_base.base_filetemplate b ON a.tempId = b.id WHERE 1 = 1 AND({userId} = '19' OR a.userid = {userId}) 
#\u6309\u83DC\u5355\u67E5\u627E\u4EBA\u5458
sys.S200160=select * from (SELECT id,menuName,hrloginId,__uuserId,departmentid AS __ddepartmentid,GROUP_CONCAT(roleType) AS roleType from (SELECT a.id,a.name AS menuName,b.hrLoginId,b.id AS __uuserId,'\u4E2A\u4EBA\u6388\u6743' AS roleType,b.departmentid FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_user b ON b.popedom LIKE CONCAT('%.',a.id,'.%') AND(b.hrLoginId IS NOT NULL OR b.hrLoginId != '') AND b.ACTIVE_FLAG = 1 WHERE a.id = '{param1}' UNION SELECT a.id,a.name,d.hrLoginId,d.id AS __uuserId,b.rolename,d.departmentid FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_role b ON b.popedom LIKE CONCAT('%.',a.id,'.%') INNER JOIN bdo_base.base_userrole c ON b.id = c.rid INNER JOIN bdo_base.base_user d ON d.id = c.userid AND d.hrLoginId > '' AND d.ACTIVE_FLAG = 1 WHERE a.id = '{param1}') a WHERE hrloginId > '' GROUP BY id,menuName,hrloginId) a 
#\u4EBA\u5458\u83DC\u5355\u90E8\u95E8\u6743\u9650\u5217\u8868
sys.S200161=SELECT * FROM (SELECT __ddepartmentId, GROUP_CONCAT(roleType) AS roleType FROM (SELECT IF( a.departmentId = '90000000', c.topManageDepId, IF( a.departmentId = '90000001', c.autoid, a.departmentId ) ) AS __ddepartmentId, '\u4E2A\u4EBA\u6388\u6743' AS roleType FROM bdo_base.base_usermenudepauth a INNER JOIN bdo_base.base_user b ON a.userId = b.id INNER JOIN bdo_base.base_department c ON b.departmentid = c.autoid WHERE a.menuid = '{param1}'  AND a.userid = '{param2}' UNION SELECT IF( b.departmentId = '90000000', e.topManageDepId, IF( b.departmentId = '90000001', e.autoid, b.departmentId ) ) AS __ddepartmentId, c.roleName AS roleType FROM bdo_base.base_userrole a INNER JOIN bdo_base.base_rolemenudepauth b ON a.rid = b.roleId INNER JOIN bdo_base.base_role c ON b.roleId = c.id INNER JOIN bdo_base.base_user d ON a.userId = d.id LEFT JOIN bdo_base.base_department e ON d.departmentId = e.autoId WHERE b.menuId = '{param1}' AND a.userid = '{param2}') a GROUP BY __ddepartmentId) a
#\u67E5\u7CFB\u7EDF\u7684\u6570\u636E\u8868\u7D22\u5F15\u5B9A\u4E49
sys.S100020=SELECT index_name AS indexNm,column_name AS colNm,IF(index_name = 'PRIMARY',1,IF(non_Unique = '0' ,2, IF(index_type = 'FULLTEXT' ,3,0))) AS indexType FROM information_schema.statistics WHERE table_schema = ? AND table_name = ? ORDER BY IF(index_name = 'PRIMARY',0,1),index_name,seq_in_index
#\u67E5\u8BE2\u5B9A\u4E49\u7684\u6570\u636E\u8868\u7D22\u5F15\u5B9A\u4E49;\u53C2\u6570\uFF1A '1','3'\u4E3A\u8868\u7684\u552F\u4E00KEY
sys.S100021=SELECT a.dbNm,a.tableNm,a.indexNm,a.indexType,a.colNm1 AS col1,a.colNm2 AS col2,a.colNm3 AS col3,a.colNm4 AS col4,a.colNm5 AS col5,a.colNm6 AS col6,a.colNm7 AS col7,a.colNm8 AS col8 FROM bdo_base.base_deftableindex a WHERE a.ACTIVE_FLAG = 1 AND a.indextype > ? AND a.indextype < ? ORDER BY a.dbNm,a.tableNm,a.indexType 
#\u67E5\u8BE2\u9700\u53D1\u9001\u7684\u90AE\u4EF6
sys.S100022=SELECT * FROM bdo_base.base_mailsendinfo WHERE ACTIVE_FLAG = 1 AND isProcessed = 0 AND planApplyTime <= NOW() ORDER BY planApplyTime LIMIT 0,100 FOR UPDATE 
#\u67E5\u770B\u8868\u7684\u5B57\u6BB5\u5B9A\u4E49
sys.S100023=select * from bdo_base.base_defcolumn where dbNm = ? and tableNm = ? /*START #param1# and active_flag = ? #param1# END*/ /*START #param2# and colNm = ? #param2# END*/ order by sortNum 
#\u6839\u636E\u6570\u636E\u5E93\u540D\uFF0C\u8868\u540D\u67E5\u770B\u7D22\u5F15\u4FE1\u606F
sys.S100024=SELECT a.* FROM bdo_base.base_deftableindex a WHERE a.dbNm = ? AND a.tableNm= ? AND a.ACTIVE_FLAG = 1 
#\u67E5\u627E\u6307\u5B9A\u8868\u6307\u5B9A\u5B57\u6BB5\u662F\u5426\u9664\u9ED8\u8BA4\u5B57\u6BB5\u5916\u6709\u5176\u4ED6\u5185\u5BB9
sys.S100025=SELECT DISTINCT({colNm}) FROM {tableNm} WHERE {colNm} IS NOT NULL AND {colNm} <> '{defaultValue}' LIMIT 0 ,1
#\u67E5\u627E\u5BA2\u6237
sys.S100026=SELECT a.customerid AS departCode, a.customerid AS departId, a.customerName AS departName, c.groupName AS groupName, b.groupName AS firstItemName, a.departmentId AS __ddepartmentId, a.companyProperty AS companyProperty, a.industry AS hylx, a.isImportant AS isImportant FROM bdo_cus.cus_customerinfo a LEFT JOIN asdb.k_group b ON a.firstItemId = b.groupId LEFT JOIN asdb.k_group c ON a.parentid = c.groupId WHERE a.departmentId IN ({canDeparts}) ORDER BY a.departmentId, departcode DESC
#\u67E5\u627E\u96C6\u56E2
sys.S100027=SELECT groupId as groupId,groupName as groupName,parentId AS __gparentId,firstItemName as firstItemName FROM asdb.k_group WHERE departmentId IN ({canDeparts}) ORDER BY departmentId ,groupId DESC
#\u67E5\u627E\u5408\u540C param1 \uFF1A \u4E0D\u542B\u526F\u5408\u540C\uFF0Cparam2\u5408\u540C\u7BA1\u7406\u4EBA\uFF0C param3: \u6388\u6743\u90E8\u95E8\uFF0Cparam4 \u5408\u540C\u6267\u884C\u72B6\u6001
sys.S100028=SELECT registerNum, entrustNumber, customerId AS __ccustomerId, entrustCustomerId AS __centrustCustomerId, departmentId AS __ddepartmentId, qualityPartner AS __ucontractManagerUser, IF( parentRegisterNum > '', '\u526F\u5408\u540C', '\u4E3B\u5408\u540C' ) AS registerType, travelAgree, state FROM z_projectbusiness WHERE active_flag = 1 /*START #param1# AND (parentRegisterNum is null or parentRegisterNum = '') #param1# END*/ AND (('{param2}' = '1' AND qualityPartner = {userId} ) OR ('{param3}' = '1' AND departmentId IN ({canDeparts}))) /*START #param4# AND state ='{param4}' #param4# END*/ ORDER BY departmentId, registernum DESC
#\u67E5\u627E\u9879\u76EE param1\uFF1A \u4E0D\u770B\u4EFB\u4F55\u8303\u56F4\uFF0C param2 \u6240\u5C5E\u90E8\u95E8\u4E3A\u6743\u9650\u90E8\u95E8\uFF0Cparam3 \u9879\u76EE\u8D1F\u8D23\u4EBA\u770B\u5230\u81EA\u5DF1\u7684\uFF0C param4:\u53C2\u4E0E\u9879\u76EE\u7684\u4EBA\u770B\u5230\uFF0Cparam5:\u6240\u5C5E\u5E74\u4EFD
sys.S100029=SELECT a.projectId, a.projectName, a.auditPara, a.departmentid AS __ddepartmentId, g.firstItemName AS groupName, e.departName AS customerName, p0.managerId AS __uprojectManager, b.reportNumber, a.projectYear FROM z_project a INNER JOIN z_projectpeople p0 ON p0.projectId = a.projectId LEFT JOIN asdb.k_customer e ON e.departid = a.customerId LEFT JOIN z_reportlinknum b ON b.projectid = a.projectId LEFT JOIN asdb.k_group g ON e.groupName = g.groupId WHERE a.ACTIVE_FLAG = 1 AND ('{param1}' = '1' OR ('{param2}' = '1' AND a.departmentid IN ({canDeparts})) OR ('{param3}' = '1' AND p0.managerId = {userId} ) OR ('{param4}' = '1' AND a.projectId IN (SELECT projectId FROM z_projectmember p1 WHERE p1.memberId = {userId}) )) /*START #param5# and a.projectYear='{param5}' #param5# END*/
#\u67E5\u627E\u7528\u6237\u53EF\u7528\u83DC\u5355
sys.S100030=SELECT popedom FROM bdo_base.base_user WHERE id = ? AND isActive =1 UNION SELECT b.popedom FROM bdo_base.base_userrole a,bdo_base.base_role b,bdo_base.base_user c WHERE c.id = ? AND c.isActive = 1 AND a.userid = c.id AND a.rid = b.id 
#\u67E5\u627E\u7528\u6237\u88AB\u8F6C\u6388\u6743\u83DC\u5355
sys.S100031=SELECT GROUP_CONCAT(CONCAT(IF(i.id IS NULL,'',CONCAT(i.id,',')),IF(h.id IS NULL,'',CONCAT(h.id,',')),IF(g.id IS NULL,'',CONCAT(g.id,',')),IF(f.id IS NULL,'',CONCAT(f.id,',')),IF(e.id IS NULL,'',CONCAT(e.id,',')),IF(d.id IS NULL,'',CONCAT(d.id,',')),IF(c.id IS NULL,'',CONCAT(c.id,',')),IF(b.id IS NULL,'',CONCAT(b.id,',')),IF(a.id IS NULL,'',a.id))) AS fullId FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id LEFT JOIN bdo_base.base_menu f ON e.parentid = f.id LEFT JOIN bdo_base.base_menu g ON f.parentid = g.id LEFT JOIN bdo_base.base_menu h ON g.parentid = h.id LEFT JOIN bdo_base.base_menu i ON h.parentid = i.id WHERE a.active_flag = 1 AND a.id IN(SELECT menuId FROM bdo_base.base_userpopedomagent WHERE agentTo = ? AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND active_flag = '1' AND auditstate = '1') 
#\u67E5\u627E\u7528\u6237\u4FE1\u606F \u5E9F\u5F03
sys.S100032=
#\u67E5\u770B\u6240\u6709\u4E0B\u7EA7\u90E8\u95E8\uFF0C\u9017\u53F7\u5206\u9694
sys.S100033=SELECT group_concat(autoid) as departmentId FROM bdo_base.base_department WHERE fullpath LIKE '%|{departmentId}|%' or fullpath LIKE '{departmentId}|%' 
#\u67E5\u627E\u7528\u6237\u6700\u9AD8\u7EA7\u89D2\u8272
sys.S100034=SELECT MAX(IF(IFNULL(b.levelNum,'') = '',0,b.levelNum)) AS maxLevel FROM bdo_base.base_userrole a,bdo_base.base_role b WHERE a.userid = ? AND a.rid = b.id 
#\u67E5\u627E\u6240\u6709\u6709\u6548\u7684\u89D2\u8272\u4EBA
sys.S100035=SELECT DISTINCT u.id,name,u.hrLoginId FROM bdo_base.base_user u INNER JOIN bdo_base.base_userrole ur ON u.id = ur.userid INNER JOIN bdo_base.base_role r ON ur.rid = r.id WHERE rolename LIKE '{roleName}' AND u.isActive = 1 AND u.ACTIVE_FLAG = 1 ORDER BY NAME ASC 
#\u67E5\u627E\u6240\u6709\u6709\u6548\u7684\u89D2\u8272\u4EBA
sys.S100036=SELECT DISTINCT u.id,name,u.hrLoginId FROM bdo_base.base_user u INNER JOIN bdo_base.base_userrole ur ON u.id = ur.userid INNER JOIN bdo_base.base_role r ON ur.rid = r.id WHERE rolename in({roleName}) AND u.isActive = 1 AND u.ACTIVE_FLAG = 1 ORDER BY NAME ASC 
#\u67E5\u627E\u672C\u90E8\u95E8\u4EBA\u5458
sys.S100037=SELECT a.id,a.name,a.loginId as loginId,a.hrLoginId FROM bdo_base.base_user a WHERE a.isActive = 1 AND a.departmentid IN({departmentId}) 
#\u67E5\u627E\u83B7\u53D6\u59D3\u540D\u552F\u4E00\u7684\u7528\u6237\u7684\u6709\u6548\u7528\u6237
sys.S100038=SELECT * FROM bdo_base.base_user WHERE isActive = 1 AND active_flag = 1 GROUP BY NAME HAVING COUNT(1) = 1 
#\u83B7\u53D6HR\u540C\u6B65\u8FC7\u7684\u6240\u6709\u7528\u6237(\u4E0D\u542B\u5220\u9664\u6389\u7684\u7528\u6237)
sys.S100039=SELECT * FROM bdo_base.base_user WHERE hrId IS NOT NULL and hrId <> '' and active_flag = 1 
#\u6839\u636E\u83DC\u5355ID\u83B7\u53D6\u6709\u6743\u9650\u7684\u6709\u6548\u7528\u6237
sys.S100040=SELECT * FROM bdo_base.base_user WHERE popedom LIKE '%.{menuId}.%' and isActive=1 and active_flag = 1 
#\u6309\u7167\u90E8\u95E8\u83B7\u53D6\u8BE5\u90E8\u95E8\u4EBA\u6570
sys.S100041=select count(1) from bdo_base.base_user where isActive = 1 and active_flag = 1 and departmentId = ? 
#\u83B7\u53D6\u4EBA\u5458\u7EC4
#sys.S100042=SELECT a.id AS id, CONCAT('[', a.loginid, ']', a.name) AS text, a.departmentid, c.departname, CONCAT('memberSexCls', a.sex) AS iconCls, a.sortNum AS istips, IFNULL(b.groupName, '') AS inGroup FROM bdo_base.base_user a LEFT JOIN k_Scheduling_UserGroup b ON b.departmentId IN ({canDeparts}) AND CONCAT('%|', b.userIDList, '%') LIKE CONCAT('%|', a.id, '|%') LEFT JOIN bdo_base.base_department c ON a.departmentid = c.autoid WHERE a.isActive = 1 AND a.active_flag = 1 AND a.departmentid IN ({canDeparts}) ORDER BY a.departmentid, a.sortNum
sys.S100042=SELECT a.id AS id, CONCAT('[', a.loginid, ']', a.name) AS TEXT, a.departmentid, c.departname, CONCAT('memberSexCls', a.sex) AS iconCls, a.sortNum AS istips, IFNULL(b.groupName, '') AS inGroup FROM bdo_base.base_user a LEFT JOIN `z_departgroup` b ON b.departmentId IN ({canDeparts}) AND CONCAT('%|', b.`groupMemberIds`, '%') LIKE CONCAT('%|', a.id, '|%') LEFT JOIN bdo_base.base_department c ON a.departmentid = c.autoid WHERE b.typeId = 1 AND a.isActive = 1 AND a.active_flag = 1 AND a.departmentid IN ({canDeparts}) ORDER BY a.departmentid, a.sortNum
#\u83B7\u53D6\u90E8\u95E8
sys.S100043=select * from bdo_base.base_department where active_flag = 1 /*START #param1# and autoId in({param1}) #param1# END*/ ORDER BY sortNum ASC 
#\u83B7\u53D6\u6307\u5B9A\u90E8\u95E8\u7684\u4E00\u7EA7\u90E8\u95E8
sys.S100044=SELECT DISTINCT b.* FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON a.autoid IN({departId}) AND b.autoId = a.firstItemId order by sortNum asc 
#\u83B7\u53D6\u6307\u5B9A\u90E8\u95E8\u7684\u6240\u6709\u6700\u9AD8\u7EA7\u7BA1\u7406\u90E8\u95E8
sys.S100045=SELECT DISTINCT b.* FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON a.autoid IN({departId}) and b.autoId =a.topManageDepId ORDER BY b.sortNum 
#\u83B7\u53D6\u516C\u53F8\u6240\u6709\u90E8\u95E8\u7684\u6240\u6709\u6700\u9AD8\u7EA7\u7BA1\u7406\u90E8\u95E8
sys.S100046=SELECT DISTINCT b.* FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON b.autoId =a.topManageDepId 
#\u83B7\u53D6\u6307\u5B9A\u90E8\u95E8\u7684\u90E8\u95E8\u4E0B\u7684\u5B50\u90E8\u95E8
sys.S100047=SELECT GROUP_CONCAT(b.autoid) FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON b.fullpath LIKE CONCAT(a.fullpath,'%') AND b.autoid <> a.autoid WHERE a.autoid = ? 
#\u83B7\u53D6\u6307\u5B9A\u673A\u6784\u4E0B\u7684\u6240\u6709\u90E8\u95E8
sys.S100048=SELECT GROUP_CONCAT(autoid) FROM bdo_base.base_department WHERE firstItemId = ? 
#\u6839\u636E\u90E8\u95E8ID\u83B7\u5F97\u90E8\u95E8\u7684FULLPATH
sys.S100049=select fullPath from bdo_base.base_department where autoid=? 
#\u5728\u7ED9\u5B9A\u90E8\u95E8\u96C6\u5408\u4E2D\u67E5\u627E1\u7EA7\u90E8\u95E8
sys.S100050=SELECT GROUP_CONCAT(DISTINCT autoid) AS autoid FROM bdo_base.base_department WHERE autoid IN({departmentId}) AND autoid = firstItemId 
#\u83B7\u53D6\u6240\u6709\u90E8\u95E8\u7684\u4E00\u7EA7\u90E8\u95E8
sys.S100051=SELECT DISTINCT b.* FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON b.autoId =a.firstItemId 
#\u6839\u636E\u540D\u5B57\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F
sys.S100052=SELECT * FROM bdo_base.base_config WHERE cfgNm = ? AND endDate >= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND active_flag = 1 AND appEnv <= ? AND appSys IN('0',?) ORDER BY appEnv DESC,appSys DESC LIMIT 0,1 
#\u83B7\u53D6\u6240\u6709\u914D\u7F6E\u4FE1\u606F
sys.S100053=SELECT * FROM bdo_base.base_config WHERE endDate >= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND active_flag = 1 AND appEnv <= ? AND appSys IN('0',?) ORDER BY cfgNm,appEnv,appSys 
#\u83B7\u53D6\u684C\u9762\u80CC\u666F
sys.S100054=SELECT IF(b.id IS NULL,'',CONCAT('./',b.path,'/',b.iconFile,'.',b.ext)) AS backImage,a.customName FROM bdo_base.base_personaldeskinfo a,bdo_base.base_icon b WHERE a.userId = ? AND a.menuId = 0 AND a.ctype =? AND a.iconid = b.id AND b.iconType = 9 AND b.ACTIVE_FLAG = '1' LIMIT 0,1 
#\u767B\u5F55\u7528\u7684\uFF0C\u83B7\u53D6\u5236\u5B9A\u4EBA\u5458\u7684\u6307\u5B9A\u83DC\u5355\u7684\u5B50\u83DC\u5355
sys.S100055=SELECT a.*,b.iconFile AS iconFile,c.ctype AS personalType,c.no AS customNo,mp.generalLocation FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_icon b ON a.imageIndex = b.id AND b.iconType = '0' AND b.ACTIVE_FLAG = '1' LEFT JOIN bdo_base.base_personaldeskinfo c ON c.menuId = a.id AND c.userid = ? LEFT JOIN bdo_base.base_icon d ON c.iconId = d.id AND b.iconType = '0' AND b.ACTIVE_FLAG = '1' LEFT JOIN bdo_base.base_menupathinfo mp ON mp.menuId = a.id WHERE a.id IN({usableId}) AND a.isDisplay = 1 AND a.parentid = ? AND a.lowerState IN(0,1,2) AND a.active_flag = '1' AND {whoSystem} = '1' ORDER BY a.sortnum 
#\u83B7\u53D6\u6240\u6709\u90E8\u95E8\u4FE1\u606F
#sys.S100056=SELECT a.autoid AS departId, a.departName, a.firstItemId, a.ltype, a.fullpath, a.firstItemName, a.topManageDepId, a.topManageDepNm AS topManageDepName, a.isRH, a.areaid, a.shortNm , c.id AS companyId, c.name AS companyNm, a.hrDeptId, a.hrDeptCode, a.hrDeptName FROM base_department a LEFT JOIN base_department b ON b.autoid = a.firstItemId LEFT JOIN base_company c ON c.id = b.parentId
sys.S100056=SELECT a.autoid AS departId,a.departName,a.firstItemId,a.ltype,a.fullpath,a.firstItemName,a.topManageDepId,a.topManageDepNm AS topManageDepName,a.isRH,a.areaid,a.shortNm,c.id AS companyId,c.name AS companyNm,a.hrDeptId,a.hrDeptCode,a.hrDeptName FROM bdo_base.base_department a LEFT JOIN bdo_base.base_department b ON b.autoid = a.firstItemId LEFT JOIN bdo_base.base_company c ON c.id = b.parentId UNION SELECT a.id AS departId,a.name AS departName,a.id AS firstItemId,0 AS ltype,'' AS fullpath,a.name AS firstItemName,a.id AS topManageDepId,a.name AS topManageDepName,0 AS isRH,0 AS areaid,a.shortName,a.id AS companyId,a.name AS companyNm,'' AS hrDeptId,'' AS hrDeptCode,'' AS hrDeptName FROM bdo_base.base_company a 
#\u83B7\u53D6\u6240\u6709\u4EBA\u5458\u4FE1\u606F
sys.S100057=SELECT a.id AS userId,a.name AS userName,a.hrId,a.hrLoginId,a.loginId,a.sex,a.departmentId,a.rank,a.mobilePhone,a.email,a.ipPhone,a.isLXCpa,a.phone,b.departName AS departmentName,c.roleName,c.roleId,a.isActive,b.firstItemId AS officeId,b.firstItemName AS officeNm,IFNULL(d.userLevel,IFNULL(e.userLevel,0)) AS userLevel,IF(d.id is null,'0','1') AS superUserFlag,a.showHelp,'1' AS userType,'' AS customerId FROM bdo_base.base_user a LEFT JOIN bdo_base.base_department b ON a.departmentid = b.autoid LEFT JOIN(SELECT b.userId,GROUP_CONCAT(c.rolename) AS roleName,GROUP_CONCAT(c.id) AS roleId FROM bdo_base.base_userrole b INNER JOIN bdo_base.base_role c ON c.id = b.rid GROUP BY b.userId ORDER BY c.levelNum DESC) c ON c.userId = a.id LEFT JOIN bdo_base.base_superuser d ON d.id = a.id AND d.ACTIVE_FLAG = 1 AND d.startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND d.endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') LEFT JOIN bdo_base.base_sysadmin e ON e.userId = a.id AND e.ACTIVE_FLAG = 1 AND e.startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND e.endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') 
#\u83B7\u53D6\u6240\u6709\u5B57\u5178\u4FE1\u606F
sys.S100058=SELECT attributeName AS name,attributeValue1 AS value,attributeType AS ctype FROM bdo_base.base_dic ORDER BY attributeType,sortNum,id 
#\u83B7\u53D6\u5E74\u4EFD\u7684\u5B57\u5178\u4FE1\u606F
sys.S100059=SELECT * FROM bdo_base.base_dic WHERE attributeType = 'year' and active_flag = 1 ORDER BY sortNum,attributevalue1 DESC 
#\u83B7\u53D6\u7701\u5E02\u76F4\u8F96\u5E02\u81EA\u6CBB\u533A\u7684\u5B57\u5178\u4FE1\u606F
sys.S100060=SELECT * FROM bdo_base.base_dic WHERE AttributeType = '\u4E2D\u56FD\u57CE\u5E02' AND(AttributeValue1 = '' OR AttributeValue1 = AttributeName OR AttributeValue1 = '\u76F4\u8F96\u5E02' OR AttributeValue1 = '\u7279\u522B\u884C\u653F\u533A' OR AttributeValue1 = '\u5176\u4ED6') AND AttributeName != '\u7279\u522B\u884C\u653F\u533A' AND AttributeName != '\u76F4\u8F96\u5E02' and active_flag = 1 ORDER BY sortNum,AttributeName 
#\u6839\u636E\u5B57\u5178\u7684\u7C7B\u578B\u67E5\u627E\u4FE1\u606F
sys.S100061=select * from bdo_base.base_dic WHERE attributeType = ? and active_flag = 1 order by sortNum,id 
#\u83B7\u53D6\u6700\u5927\u7684\u67D0\u79CD\u7C7B\u578B\u7684\u83DC\u5355ID\u503C
sys.S100062=SELECT max(id) FROM bdo_base.base_menu WHERE menuAuthType = ? 
#\u627E\u4E00\u4E2A\u4EBA\u7684\u89D2\u8272\u62E5\u6709\u7684\u83DC\u5355\u6743\u9650
sys.S100063=select b.popedom from bdo_base.base_userrole a,bdo_base.base_role b,bdo_base.base_user c where c.id= ? and a.userid=c.id and a.rid = b.id 
#\u627E\u4E00\u4E2A\u4EBA\u7684\u83DC\u5355\u6388\u6743\u7684\u6240\u6709\u83DC\u5355\u6743\u9650
sys.S100064=SELECT GROUP_CONCAT(CONCAT(IF(i.id IS NULL,'',CONCAT(i.id,',')),IF(h.id IS NULL,'',CONCAT(h.id,',')),IF(g.id IS NULL,'',CONCAT(g.id,',')),IF(f.id IS NULL,'',CONCAT(f.id,',')),IF(e.id IS NULL,'',CONCAT(e.id,',')),IF(d.id IS NULL,'',CONCAT(d.id,',')),IF(c.id IS NULL,'',CONCAT(c.id,',')),IF(b.id IS NULL,'',CONCAT(b.id,',')),IF(a.id IS NULL,'',a.id))) AS fullId FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id LEFT JOIN bdo_base.base_menu f ON e.parentid = f.id LEFT JOIN bdo_base.base_menu g ON f.parentid = g.id LEFT JOIN bdo_base.base_menu h ON g.parentid = h.id LEFT JOIN bdo_base.base_menu i ON h.parentid = i.id WHERE a.active_flag = 1 AND a.id IN(SELECT menuId FROM bdo_base.base_userpopedomagent WHERE agentTo = ? AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND active_flag = '1' AND auditstate = '1') 
#\u6839\u636E\u4F20\u5165\u7684\u90E8\u95E8ID\uFF08\u9017\u53F7\u5206\u5272\uFF09\uFF0C\u589E\u52A0\u5176\u540C\u7C7B\u90E8\u95E8
sys.S100065=SELECT GROUP_CONCAT(departmentid) from (SELECT DISTINCT c.autoid AS departmentid FROM bdo_base.base_department a,bdo_base.base_department c WHERE a.autoid IN({departId}) AND CONCAT(',',a.ProjectPopedom,',') LIKE CONCAT('%,',c.autoid,',%') UNION SELECT autoid FROM bdo_base.base_department WHERE autoid IN({departId})) b 
sys.S100066=todo
#sql_selectUserPopedom
sys.S100067=SELECT 1 FROM bdo_base.base_user WHERE Id = ? AND INSTR(popedom,concat('.',?,'.')) > 0 
#sql_selectUserRolePopedom
sys.S100068=SELECT 1 FROM bdo_base.base_role a,bdo_base.base_userrole b WHERE a.id = b.rid AND b.userid = ? AND INSTR(popedom,concat('.',?,'.')) > 0 LIMIT 0,1 
#sql_selectAgentPopedom
sys.S100069=SELECT 1 FROM bdo_base.base_userpopedomagent WHERE agentTo = ? AND menuId = ? AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND active_flag = '1' AND auditstate = '1' LIMIT 0,1 
#\u6839\u636E\u7528\u6237ID\u548C\u83DC\u5355ID\u83B7\u5F97\u8BE5\u7528\u6237\u6240\u5C5E\u89D2\u8272\u5BF9\u5E94\u7684\u83DC\u5355\u7684\u53EF\u64CD\u4F5C\u90E8\u95E8
sys.S100070=SELECT b.departmentId AS departmentId FROM bdo_base.base_userrole a,bdo_base.base_userpopedom b WHERE b.property = 'role' AND a.userId = ? AND b.menuId = ? AND a.rid = b.userId 
#\u6839\u636E\u4EBA\u5458ID\u548C\u83DC\u5355ID\u83B7\u5F97\u8BE5\u7528\u6237\u6240\u7279\u6B8A\u6388\u6743\u7684\u90E8\u95E8
sys.S100071=SELECT departmentid FROM bdo_base.base_userpopedom WHERE userid = ? AND menuid = ? AND property = 'user' 
#\u627E\u6388\u6743\u7684\u83DC\u5355\u7684\u90E8\u95E8\u6388\u6743
sys.S100072=SELECT GROUP_CONCAT(departmentIds) AS departmentId FROM bdo_base.base_userpopedomagent WHERE agentTo = ? AND menuId = ? AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND active_flag = '1' AND auditstate = '1' 
#\u627E\u83DC\u5355\u53CA\u90E8\u95E8\u7684\u6388\u6743\u4EBA
sys.S100073=SELECT GROUP_CONCAT(userId) from (SELECT DISTINCT userid from (SELECT userid FROM bdo_base.base_userpopedom WHERE menuid = ? AND CONCAT(',',departmentid,',') LIKE '%,{departmentId},%' AND property = 'user' UNION SELECT b.userid FROM bdo_base.base_userpopedom a INNER JOIN bdo_base.base_userrole b ON b.rid = a.userId INNER JOIN bdo_base.base_user c ON c.id = b.userId AND c.departmentId = '{departmentId}' WHERE a.menuid = ? AND a.departmentid LIKE '%${department}%' AND a.property = 'role' UNION SELECT b.userid FROM bdo_base.base_userpopedom a INNER JOIN bdo_base.base_userrole b ON b.rid = a.userId INNER JOIN bdo_base.base_user c ON c.id = b.userId INNER JOIN bdo_base.base_department d ON d.autoid = c.departmentId AND d.firstItemId = '{officeId}' WHERE a.menuid = ? AND a.departmentid LIKE '%${office}%' AND a.property = 'role') temp) a WHERE NOT EXISTS(SELECT 1 FROM bdo_base.base_userpopedom WHERE userId = a.userId AND property = 'user' AND menuId IN({oldMenuId})) 
#\u57FA\u7840\u6570\u636E\u83B7\u53D6\uFF1A\u83DC\u5355\u4FE1\u606F
sys.S100074=SELECT a.*,b.gdeLocation,b.generalLocation,b.version,b.menuComment FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menupathinfo b ON b.menuId = a.id 
#\u8D85\u7EA7\u7528\u6237\u4FE1\u606F
sys.S100075=SELECT a.id AS userId,a.userNm AS userName,CONCAT('\u8D85\u7EA7\u7528\u6237\uFF1A',loginId) AS hrLoginId,CONCAT('\u8D85\u7EA7\u7528\u6237\uFF1A',loginId) AS loginId,'' AS sex,'' AS departmentId,'' AS rank,'' AS mobilePhone,'' AS email,'' AS ipPhone,'' AS isLXCpa,'' AS phone,'' AS departmentName,'' AS roleName,'' AS roleId,'' AS isActive,'' AS officeId,'' AS oficeNm,userLevel,IF(ACTIVE_FLAG = 1 AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d'),'1','0 ') AS superUserFlag,'0' as showHelp FROM bdo_base.base_superuser a 
#\u6839\u636E\u7528\u6237ID\u83B7\u53D6\u7528\u6237\u7684\u7BA1\u7406\u5458\u4FE1\u606F
sys.S100076=SELECT * FROM bdo_base.base_sysadmin WHERE ACTIVE_FLAG = 1 AND startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') and userId = ? 
#\u83B7\u53D6\u6709\u6743\u5904\u7406\u7684\u6743\u9650
sys.S100077=SELECT GROUP_CONCAT(id) as menuId FROM bdo_base.base_menu WHERE ACTIVE_FLAG = 1 AND menuAuthType <= ? 
#\u67E5\u8BE2\u6240\u6709\u7CFB\u7EDF\u7BA1\u7406\u5458
sys.S100078=SELECT d.name AS companyNm,c.departname AS officeNm,b.departname,u.id as __uUser,u.isActive,a.* FROM bdo_base.base_sysadmin a LEFT JOIN bdo_base.base_user u ON u.id = a.userId LEFT JOIN bdo_base.base_department b ON b.autoid = u.departmentId AND b.active_flag = 1 LEFT JOIN bdo_base.base_department c ON c.autoid = b.firstItemId AND c.active_flag = 1 LEFT JOIN bdo_base.base_company d ON d.id = c.parentid 
#\u67E5\u770B\u6307\u5B9A\u89D2\u8272\u662F\u5426\u5DF2\u7ECF\u6388\u4E88\u5458\u5DE5
sys.S100079=SELECT 1 FROM bdo_base.base_userrole WHERE rid = ? LIMIT 0,1 
#\u67E5\u627E\u83DC\u5355\u90E8\u95E8\u6743\u9650\uFF081000\u4E2A\uFF09
sys.S100080= SELECT id userid,menuId,departmentId,property FROM bdo_base.base_userpopedom ORDER BY id LIMIT ?,? 
#\u9A8C\u8BC1\u67D0\u4E2A\u89D2\u8272\u540D\u662F\u5426\u5DF2\u7ECF\u5B58\u5728\u3002\uFF08\u542B\u603B\u90E8\u89D2\u8272\u540D+\u81EA\u5DF1\u6240\u91CC\u9762\u7684\u89D2\u8272\u540D
sys.S100081=SELECT * FROM bdo_base.base_role WHERE rolename = ? AND(departmentId = '' OR departmentId IN({canDeparts})) and id <> ? LIMIT 0,1 
#\u67E5\u8BE2\u67D0\u4E2A\u4EBA\u7684\u67D0\u4E2A\u83DC\u5355\u7684\u90E8\u95E8\u6743\u9650
sys.S100082=SELECT GROUP_CONCAT(departmentId) FROM bdo_base.base_usermenudepauth WHERE userId = ? AND menuId = ? 
#\u67E5\u8BE2\u67D0\u4E2A\u89D2\u8272\u7684\u67D0\u4E2A\u83DC\u5355\u7684\u90E8\u95E8\u6743\u9650
sys.S100083=SELECT GROUP_CONCAT(departmentId) FROM bdo_base.base_rolemenudepauth WHERE roleId = ? AND menuId = ? 
#\u7EDF\u8BA1\u6709\u591A\u5C11\u83DC\u5355\u90E8\u95E8\u6743\u9650\u4FE1\u606F
sys.S100084=SELECT count(1) FROM bdo_base.base_userpopedom 
#\u67E5\u770B\u89D2\u8272\uFF08\u53EF\u6388\u6743\u7684\u89D2\u8272\uFF09
sys.S100085=SELECT a.id,a.rolename,a.rolevalue,a.departmentId as __ddepartmentId,a.isPublic,a.needUserLevel,IF(b.userid IS NULL,'0','1') AS isAuthed FROM bdo_base.base_role a LEFT JOIN bdo_base.base_userrole b ON b.rid = a.id AND b.userid = {param1} WHERE(((a.departmentId = '' OR a.isPublic = 1) AND a.needUserLevel <= {param2}) OR a.departmentId IN({canDeparts})) ORDER BY a.departmentId,a.id 
#\u67E5\u770B\u4E00\u4E2A\u7528\u6237\u7684\u67D0\u4E2A\u83DC\u5355\u7684\u89D2\u8272\u90E8\u95E8\u6388\u6743
sys.S100086=select group_concat(b.`departmentId`) from bdo_base.base_userrole a inner join bdo_base.base_userpopedom b on b.userid = a.rid and b.property = 'role' where a.userid = ? and b.menuId = ? 
#GDE\u7B80\u5355\u5F00\u53D1\u7EF4\u62A4\u754C\u9762
sys.S100087=SELECT c.menuId,c.itemMapId,c.pageNm,c.pageDesc,a.name,b.generalLocation,c.CREATION_DATE,c.CREATED_BY,c.LAST_UPDATE_DATE,c.LAST_UPDATED_BY,c.ABOLITION_DATE,c.ABOLISHED_BY,c.PROGRAM_APPLICATION_ID,c.PROGRAM_ID,c.ACTIVE_FLAG FROM bdo_base.base_gdeitemmap c INNER JOIN bdo_base.base_menu a ON a.id = c.menuId LEFT JOIN bdo_base.base_menupathinfo b ON b.menuid = a.id WHERE a.ACTIVE_FLAG = 1 AND a.ctype = '01' AND a.act LIKE '%general.do%' AND c.active_flag = 1 AND c.CREATED_BY = {userId} ORDER BY c.menuId,c.itemMapId 
#GDE\u5B57\u6BB5\u96C6\u8BE6\u60C5
sys.S100088=SELECT * FROM bdo_base.base_gdeitemmapdetail a WHERE a.menuId = '{param1}' AND a.itemMapId = '{param2}' order by a.sortNum 
#\u65B0\u6846\u67B6\u83DC\u5355\u4E0B\u62C9\u9009\u62E9
sys.S100089=SELECT a.id as value,CONCAT(a.name,'(',a.id,') ') AS label,b.generalLocation FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menupathinfo b ON b.menuid = a.id WHERE a.ACTIVE_FLAG = 1 AND a.ctype = '01' AND a.act LIKE '%general.do%' /*START #param1# AND a.id IN({param1}) #param1# END*/ 
#\u67E5\u627E\u8868\u5B57\u6BB5
sys.S100090=SELECT b.* FROM bdo_base.base_defcolumn b WHERE b.colNm not in (SELECT a.colnm FROM bdo_base.base_gdeitemmapdetail a WHERE a.menuId = '{param1}' AND a.itemMapId = '{param2}') AND b.active_flag = 1 ORDER BY b.dbNm, b.tableNm, b.sortNum
#\u67E5\u627E\u6700\u5927\u6392\u5E8F\u53F7
sys.S100091=select max(sortNum) from bdo_base.base_gdeitemmapdetail where menuId = ? and itemMapId = ? 
sys.S100092=
sys.S100093=
#\u67E5\u627E\u5B57\u6BB5\u96C6\u7684\u5217\u8868\uFF08\u751F\u6210GDE\u6587\u4EF6\u7528\uFF09
sys.S100094=SELECT a.dbNm,a.tableNm,a.colNm,b.colNmCn,IFNULL(b.colDesc,'') AS colDesc,b.dataType,b.dataLen,b.dataScale,IFNULL(b.defaultValue,'') AS defaultValue,b.isNullable,a.sortNum,b.src,IFNULL(b.srcDetail,'') AS srcDetail,IFNULL(b.srcDetail2,'') AS srcDetail2,IFNULL(b.srcDetail3,'') AS srcDetail3,IFNULL(b.srcDetail4,'') AS srcDetail4,IFNULL(b.srcDetail5,'') AS srcDetail5,b.filterType,IFNULL(b.filterSrc,'') AS filterSrc,IFNULL(b.renderer,'') AS renderer,b.fieldType,b.authFlg FROM bdo_base.base_gdeitemmapdetail a INNER JOIN bdo_base.base_defcolumn b ON a.dbNm = b.dbNm AND a.tableNm = b.tableNm AND a.colNm = b.colNm WHERE a.ACTIVE_FLAG = 1 AND b.ACTIVE_FLAG = 1 AND a.menuId = ? AND a.itemMapId = ? ORDER BY a.sortNum 
#\u67E5\u627E\u67D0\u4E00\u83DC\u5355\u4E0B\u7684\u6240\u6709\u5B57\u6BB5\u96C6
sys.S100095=SELECT a.* FROM bdo_base.base_gdeitemmap a WHERE a.ACTIVE_FLAG = 1 AND a.menuId = ? ORDER BY a.itemMapId 
sys.S100096=
#\u67E5\u770B\u67D0\u4EBA\u662F\u5426\u6709\u67D0\u79CD\u89D2\u8272
sys.S100097=SELECT 1 FROM bdo_base.base_userrole a inner join bdo_base.base_role b on a.rid = b.id WHERE a.userid = {userId} AND b.rolename = '{roleName}' 
#\u6839\u636E\u59D3\u540D\u67E5\u4EBA\u5458ID
sys.S100098=SELECT id FROM bdo_base.base_user WHERE name LIKE '{name}' 
#\u6839\u636E\u5BA2\u6237\u540D\u67E5\u5BA2\u6237ID
sys.S100099=SELECT departId as departId FROM asdb.k_customer WHERE departname LIKE '{name}'
#\u6839\u636E\u96C6\u56E2\u540D\u67E5\u96C6\u56E2ID
sys.S100100=SELECT groupid as groupid FROM asdb.k_group WHERE groupName LIKE '{name}'
#\u6839\u636E\u90E8\u95E8\u540D\u67E5\u90E8\u95E8ID
sys.S100101=SELECT autoId FROM bdo_base.base_department WHERE departName LIKE '{name}' 
#\u67E5\u8BE2\u6240\u6709\u53EF\u7528\u83DC\u5355\u4FE1\u606F
sys.S100102=SELECT CONCAT(a.id,'|',a.act) AS value,CONCAT(a.name,'(',a.id,') ') AS label FROM bdo_base.base_menu a WHERE a.ACTIVE_FLAG = 1 AND a.ctype = '01' /*START #param1# AND a.id IN({param1}) #param1# END*/ 
#\u67E5\u8BE2\u67D0\u4EBA\u7684\u4E3B\u754C\u9762\u5143\u7D20
sys.S100103=SELECT * from (SELECT a.relateMenuId,m.act,m.name,IFNULL(b.height,a.height) AS height,a.width AS width,IFNULL(b.colIndex,a.colIndex) AS colIndex,IFNULL(b.rowIndex,a.rowIndex) AS rowIndex,a.canDel,a.id FROM bdo_base.base_toppage a INNER JOIN bdo_base.base_menu m ON m.id = a.relateMenuId AND m.ACTIVE_FLAG = 1 LEFT JOIN bdo_base.base_personaltoppage b ON b.elementId = a.id AND b.userId = {userId} WHERE a.startDate <= DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND a.endDate > DATE_FORMAT(CURDATE(),'%Y-%m-%d') AND(b.isDeleted <> '1' OR b.isDeleted IS NULL) AND(a.isDefault = 1 OR b.id IS NOT NULL) /*START #param1# AND a.subsysnm = '{param1}' #param1# END*/) tmp ORDER BY colIndex,rowIndex 
#\u67E5\u88AB\u6307\u5B9A\u83DC\u5355\u59D4\u6258\u6388\u6743\u7684\u6240\u6709\u83DC\u5355(\u5E26\u5168\u8DEF\u5F84\uFF09
sys.S100104=SELECT GROUP_CONCAT(CONCAT(IF(f.id IS NOT NULL,CONCAT(f.id,','),''),IF(e.id IS NOT NULL,CONCAT(e.id,','),''),IF(d.id IS NOT NULL,CONCAT(d.id,','),''),IF(c.id IS NOT NULL,CONCAT(c.id,','),''),IF(b.id IS NOT NULL,CONCAT(b.id,','),''),a.id)) a FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON b.id = a.parentid LEFT JOIN bdo_base.base_menu c ON c.id = b.parentid LEFT JOIN bdo_base.base_menu d ON d.id = c.parentid LEFT JOIN bdo_base.base_menu e ON e.id = d.parentid LEFT JOIN bdo_base.base_menu f ON f.id = e.parentid WHERE a.authmenuId IN({popedoms}) 
#\u67E5\u627E\u516C\u5171\u83DC\u5355
sys.S100105=SELECT GROUP_CONCAT(id) FROM bdo_base.base_menu WHERE menuauthtype = 0 
#\u83B7\u53D6\u4E00\u4E2A\u4EBA\u5355\u72EC\u8BBE\u5B9A\u7684\u6743\u9650
sys.S100106=SELECT popedom FROM bdo_base.base_user WHERE id = ? AND isActive = 1 
#\u67E5\u8BE2\u8FD130\u5929\u7684\u767B\u9646\u60C5\u51B5
sys.S100107=SELECT DATE_FORMAT(logTime,'%Y-%m-%d') AS yyyyMM,COUNT( userId) AS loginCnt FROM bdo_log.log_login WHERE loginout = 0 AND logTime > DATE_FORMAT(DATE_ADD(NOW(), INTERVAL -30 DAY) ,'%Y-%m-%d')  GROUP BY DATE_FORMAT(logTime,'%Y-%m-%d')
#\u67E5\u8BE2\u4ECA\u5E74\u7684\u767B\u9646\u60C5\u51B5
sys.S100108=SELECT  DATE_FORMAT(logTime,'%Y-%m')  AS yyyyMM,COUNT(1) AS loginCnt FROM bdo_log.log_login WHERE loginout = 0 AND logTime > DATE_FORMAT(NOW(),'%Y') GROUP BY DATE_FORMAT(logTime,'%Y-%m')
#\u7EDF\u8BA1\u6BCF\u4E2A\u90E8\u95E8\u7684\u4EBA\u5458\u6570\u91CF
sys.S100109=SELECT * from (SELECT * from (SELECT COUNT(1) AS userCnt,b.firstItemName FROM bdo_base.base_user a INNER JOIN bdo_base.base_department b ON b.autoid = a.departmentId WHERE a.isactive = 1 GROUP BY b.firstItemName ORDER BY b.sortNum) b ORDER BY userCnt DESC LIMIT 0,10) c UNION SELECT SUM(userCnt),'\u5176\u4ED6\u5206\u6240' from (SELECT * from (SELECT COUNT(1) AS userCnt,b.firstItemName FROM bdo_base.base_user a INNER JOIN bdo_base.base_department b ON b.autoid = a.departmentId WHERE a.isactive = 1 GROUP BY b.firstItemName ORDER BY b.sortNum) b ORDER BY userCnt DESC LIMIT 10,1000) c 
#\u67E5\u627E\u53EF\u8FD0\u884C\u7684\u4EFB\u52A1\u3002param1\uFF1A\u662F\u5426\u5185\u7F51\uFF1Bparam2\uFF1A\u673A\u5668\u53F7
sys.S100110=SELECT a.taskId,a.scheId,a.canConcurrent,a.sortNum,a.isIntranet,a.isInternet,a.specMachine FROM bdo_base.base_deftasksche a INNER JOIN bdo_base.base_deftask b ON b.id = a.taskId AND b.ACTIVE_FLAG = '1' INNER JOIN bdo_base.base_defsche c ON c.id = a.scheId AND c.ACTIVE_FLAG = '1' WHERE a.ACTIVE_FLAG = 1 AND(({param1} = 1 AND isIntranet = 1) OR({param1} = 0 AND isInternet = 1)) and(a.specMachine IS NULL OR a.`specMachine` = '' OR a.specMachine = {param2}) ORDER BY scheId,sortNum 
#\u4E8C\u5BA1\u4EBA\u89D2\u8272
sys.S100111=SELECT DISTINCT a.id,a.name,a.hrLoginId FROM bdo_base.base_user a INNER JOIN bdo_base.base_userrole d ON a.id = d.userId INNER JOIN bdo_base.base_department b ON b.autoid = a.departmentId INNER JOIN bdo_base.base_department c ON c.firstItemId = b.firstItemId INNER JOIN bdo_base.base_config e ON e.cfgNm = '{param1}' AND e.cfgValue = d.rid WHERE c.autoid IN({canDeparts}) and a.isActive = 1 ORDER BY a.name 
#\u6839\u636E\u6570\u636E\u5E93\u540D\u3001\u8868\u540D\u83B7\u53D6\u4E3B\u952E\u4FE1\u606F
sys.S100112=SELECT dbNm, tableNm, indexNm, indexType, colNm1, colNm2, colNm3, colNm4, colNm5, colNm6, colNm7, colNm8, CREATION_DATE, CREATED_BY, LAST_UPDATE_DATE, LAST_UPDATED_BY, ABOLITION_DATE, ABOLISHED_BY, PROGRAM_APPLICATION_ID, PROGRAM_ID, ACTIVE_FLAG FROM bdo_base.base_deftableindex WHERE active_flag = 1 AND dbNm = ? AND tableNm = ? AND indexType IN ('1','2','0')
#\u83B7\u53D6\u6700\u8FD1\u5220\u9664\u7684\u4EFB\u52A1
sys.S100113=SELECT a.taskId,a.scheId,a.canConcurrent,a.sortNum,a.isIntranet,a.isInternet,a.specMachine FROM bdo_base.base_deftasksche a INNER JOIN bdo_base.base_deftask b ON b.id = a.taskId INNER JOIN bdo_base.base_defsche c ON c.id = a.scheId WHERE(a.abolition_date > ? OR b.ABOLITION_DATE > ? OR c.ABOLITION_DATE > ?) AND a.CREATION_DATE < ? AND(a.ACTIVE_FLAG = 0 OR b.ACTIVE_FLAG = 0 OR c.ACTIVE_FLAG = 0) AND(({param1} = 1 AND isIntranet = 1) OR({param1} = 0 AND isInternet = 1)) AND(a.specMachine IS NULL OR a.`specMachine` = '' OR a.specMachine = {param2}) ORDER BY scheId,sortNum 
#\u83B7\u53D6\u6700\u8FD1\u53D8\u5316\u7684\u4EFB\u52A1
sys.S100114=SELECT a.taskId,a.scheId,a.canConcurrent,a.sortNum,a.isIntranet,a.isInternet,a.specMachine FROM bdo_base.base_deftasksche a INNER JOIN bdo_base.base_deftask b ON b.id = a.taskId INNER JOIN bdo_base.base_defsche c ON c.id = a.scheId WHERE(a.LAST_UPDATE_DATE > ? OR b.LAST_UPDATE_DATE > ? OR c.LAST_UPDATE_DATE > ?) AND(a.ACTIVE_FLAG = 1 AND b.ACTIVE_FLAG = 1 AND c.ACTIVE_FLAG = 1) AND(({param1} = 1 AND isIntranet = 1) OR({param1} = 0 AND isInternet = 1)) AND(a.specMachine IS NULL OR a.`specMachine` = '' OR a.specMachine = {param2}) ORDER BY scheId,sortNum 
#\u5355\u8868\u6570\u636E\u67E5\u627E
sys.S100115=SELECT * FROM {param1} WHERE 1 = 1 /*START #param2# and {param2} = '{param12}' #param2# END*/ /*START #param3# and {param3} = '{param13}' #param3# END*/ /*START #param4# and {param4} = '{param14}' #param4# END*/ /*START #param5# and {param5} = '{param15}' #param5# END*/ /*START #param6# and {param6} = '{param16}' #param6# END*/ /*START #param7# and {param7} = '{param17}' #param7# END*/ /*START #param8# and {param8} = '{param18}' #param8# END*/ /*START #param9# and {param9} = '{param19}' #param9# END*/
#\u7B2C\u4E09\u65B9\u7CFB\u7EDF\u914D\u5BF9\uFF08\u90E8\u95E8\uFF09
sys.S100116=SELECT id, cat, relateKey1 AS __drelateKey1, relateKey2, otherSysKey1, otherSysKey2, otherSysKey3, otherSysKey4, otherSysKey5, otherSysKey6, otherSysKey7, otherSysKey8, otherSysKey9, otherSysKey10, otherSysRelCol1, otherSysRelCol2, otherSysRelCol3, otherSysRelCol4, otherSysRelCol5, otherSysRelCol6, otherSysRelCol7, otherSysRelCol8, otherSysRelCol9, otherSysRelCol10, procFlg1, procFlg2, procFlg3, procFlg4, procFlg5, procFlg6, procFlg7, procFlg8, procFlg9, procFlg10 FROM bdo_base.base_othersysrelation where cat = '1'
#\u67E5\u627E\u7B2C\u4E09\u65B9\u7CFB\u7EDF\u5904\u7406\u72B6\u6001\u4E3A\u6307\u5B9A\u72B6\u6001\u7684\u6570\u636E
sys.S100117=SELECT * FROM bdo_base.base_othersysrelation WHERE cat = ? /*START #param1# and procFlg1 = ? #param1# END*/ /*START #param2# and procFlg2 = ? #param2# END*/ /*START #param3# and procFlg3 = ? #param3# END*/ 
#\u5237\u65B0\u6B63\u5728\u6267\u884C\u7684\u5E8F\u5217\u53F7
sys.S100118=SELECT group_concat(id) as ids FROM bdo_base.base_sequenceExt WHERE doState = '1' AND seqName = ? AND (DATE_ADD(LAST_UPDATE_DATE ,INTERVAL 6 HOUR)  <= now() OR LAST_UPDATED_BY = ? )
#\u67E5\u627E\u672C\u90E8\u95E8\u4EBA\u5458\uFF08\u5305\u542B\u79BB\u804C\u4EBA\u5458\uFF09
sys.S100119=SELECT a.id,a.name,a.loginId as loginId,a.hrLoginId FROM bdo_base.base_user a WHERE a.departmentid IN({departmentId}) 
#\u67E5\u627E\u6240\u6709\u4EBA\u5458
sys.S100120=SELECT * FROM bdo_base.base_user a WHERE a.hrId > '' and a.loginid > '' and a.hrloginid > '' ORDER BY id ASC 
#\u90E8\u95E8\u8D1F\u8D23\u4EBA\u4E00\u89C8
sys.S100121=SELECT a.deptmanager, a.deptmanagername, a.deptname FROM (SELECT a.deptmanager,IF(b.isactive = 1,b.name,CONCAT(b.name,'(\u79BB\u804C)')) AS deptmanagername ,GROUP_CONCAT(if(a.isvisable = 1,concat('<font color="#FF0000">',a.departname, '</font>'),concat('<font color="#0000FF">',a.departname, '</font>'))) AS deptname FROM bdo_Base.base_department a INNER JOIN bdo_base.base_user b ON a.deptmanager = b.id WHERE a.active_flag = 1 AND deptmanager > '' GROUP BY deptmanager) a ORDER BY a.deptmanagername
#\u83B7\u53D6\u90E8\u95E8\u5408\u4F19\u4EBA\u4E2A\u6570
sys.S100122=SELECT count(1) FROM bdo_base.base_user WHERE departmentid = ? and rank like '%\u6743\u76CA%' and isActive = 1 and active_flag = 1
#\u83B7\u53D6\u6307\u5B9A\u89D2\u8272\u5185\u6307\u5B9A\u90E8\u95E8\u7684\u4EBA\u5458
sys.S100123=SELECT DISTINCT u.* FROM bdo_base.base_user u INNER JOIN bdo_base.base_userrole ur ON u.id = ur.userid INNER JOIN bdo_base.base_role r ON ur.rid = r.id WHERE rolename = '{param1}' AND u.departmentid = '{param2}' AND u.isActive = 1 AND u.ACTIVE_FLAG = 1 ORDER BY u.id 
#\u83B7\u53D6\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684\u5B50\u90E8\u95E8 \u8FD4\u56DElist
sys.S100124=SELECT b.* FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON b.fullpath LIKE CONCAT(a.fullpath,'%') AND b.autoid <> a.autoid and b.active_flag = '1' WHERE a.autoid = ? and a.active_flag = '1' 
#\u83B7\u53D6\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684\u6240\u6709\u5728\u804C\u5458\u5DE5
sys.S100125=SELECT GROUP_CONCAT(a.id) FROM bdo_base.base_user a WHERE a.departmentid IN(SELECT b.autoid FROM bdo_base.base_department a INNER JOIN bdo_base.base_department b ON b.fullpath LIKE CONCAT(a.fullpath,'%') AND b.autoid <> a.autoid AND b.active_flag = '1' WHERE a.autoid = ? AND a.active_flag = '1' UNION SELECT a.autoid FROM bdo_base.base_department a WHERE a.autoid = ?) AND a.ACTIVE_FLAG = 1 AND a.isActive = 1 AND a.hrLoginId > '' 
#\u5728\u804C\u4EBA\u5458\u591A\u9009\u6846 \u6307\u5B9A\u90E8\u95E8\u6392\u5E8F\uFF08\u4E0D\u5305\u542B\u672A\u5206\u914D\u90E8\u95E8\u7684\u4EBA\u5458\uFF09
sys.S100126=SELECT a.id, CONCAT(a.NAME, '_', b.departname) AS name, b.firstItemName FROM bdo_base.base_user a INNER JOIN bdo_base.base_department b ON a.departmentid = b.autoid WHERE a.isActive = 1 AND a.ACTIVE_FLAG = 1 ORDER BY IF(a.departmentid = {param1}, 0, 1) ASC, a.departmentid ASC
#\u67E5\u8BE2\u9700\u53D1\u9001\u7684\u63A8\u9001
sys.S100127=SELECT * FROM bdo_base.base_pushletsendinfo WHERE ACTIVE_FLAG = 1 AND isProcessed = 0 AND planApplyTime <= NOW() ORDER BY planApplyTime LIMIT 0,100 FOR UPDATE 
#\u5408\u4F19\u4EBA\u591A\u9009\u6846
sys.S100128=SELECT userId, CONCAT(NAME, '_',hrDepart) AS name FROM asdb.z_partnerBase WHERE ACTIVE_FLAG = 1 ORDER BY name
#\u684C\u9762\u5FEB\u6377\u65B9\u5F0F
sys.S100129=SELECT GROUP_CONCAT(menuId) FROM bdo_base.base_personaldeskinfo WHERE userid = ?
#\u83B7\u53D6\u884C\u4E1A\u4FE1\u606F
sys.S100130=SELECT a.name,a.value FROM bdo_base.base_industry a 
#\u89D2\u8272\u90E8\u95E8\u6388\u6743\u4E00\u89C8
sys.S100131=SELECT * from (SELECT e.rid AS roleid,e.deptid,a.departname,a.firstItemName,CONCAT(IF(d.departName IS NULL,'',CONCAT(d.departName,'-')),IF(c.departName IS NULL,'',CONCAT(c.departName,'-')),IF(b.departName IS NULL,'',CONCAT(b.departName,'-')),a.departName) AS fullName,IF(a.autoid = a.firstItemId,'1','0') AS isOffice,'0' AS isCompany FROM bdo_base.base_deptrole e INNER JOIN bdo_base.base_department a ON e.deptid = a.autoid LEFT JOIN bdo_base.base_department b ON a.parentId = b.autoid LEFT JOIN bdo_base.base_department c ON b.parentId = c.autoid LEFT JOIN bdo_base.base_department d ON c.parentId = d.autoid WHERE e.rid = {param1} UNION SELECT e.rid AS roleid,e.deptid,a.name,'' AS firstItemName,'' AS fullName,'0' AS isOffice,'1' AS isCompany FROM bdo_base.base_deptrole e INNER JOIN bdo_base.base_company a ON e.deptid = a.id WHERE e.rid = {param1}) a ORDER BY a.deptid 
#\u5E95\u7A3F\u914D\u7F6E\u8868\u8BFB\u53D6\u5230\u5E38\u91CF
sys.S100132=SELECT a.autoId, a.configType, a.indexId, a.nodeName, a.parentId, a.nodeType, a.childPre, a.childLength FROM asdb.k_draftconfig a WHERE a.ACTIVE_FLAG = '1'
#
sys.S100133=SELECT a.autoId AS value, a.name AS label FROM bdo_base.base_industry a WHERE a.level = 1
#\u67E5\u8BE2\u6240\u6709\u884C\u4E1A
sys.S100134=SELECT a.value AS id,  LEFT(a.value, 4) AS parentId,  a.name AS text,  a.name AS label,  a.value,  IF(a.level = '1', 'false', 'true') AS leaf FROM   bdo_base.base_industry a  WHERE a.type = 1 ORDER BY a.value
#\u67E5\u8BE2\u4F01\u4E1A
sys.S100135=SELECT a.id, a.NAME FROM bdo_base.base_company a where a.ACTIVE_FLAG = 1 order by sortNum
#CP10023
sys.S100136=SELECT MAX(id) AS id FROM bdo_base.base_user 
#PAC0001
sys.S100137=SELECT a.id,a.name,a.departmentid AS __ddepartmentid,a.email,b.passcode,b.isdelete,b.iscancel FROM bdo_base.base_user a LEFT JOIN bdo_acc.acc_accountControl b ON a.id = b.userid WHERE a.isactive = 1  AND a.active_flag = 1
#CP10022
sys.S100138=SELECT id,iconFile FROM bdo_base.base_icon WHERE id >= 222 
#FA40042
sys.S100139=
#CP00007
sys.S100140=
#CP10017
sys.S100141=SELECT * FROM bdo_base.base_department WHERE 1 = 1 /*START #param1# AND hrDeptCode = {param1} #param1# END*/ /*START #param2# AND hrDeptCode != {param2} AND hrDeptCode LIKE '{param2}%' #param2# END*/
#CP10018
sys.S100142=SELECT * FROM v_coop_dept ORDER BY dept_code
#
sys.S100143=SELECT dbNm, tableNm, colNm, colNmCn, IFNULL(colDesc, '') AS colDesc, dataType, dataLen, dataScale, IFNULL(defaultValue, '') AS defaultValue, isNullable, sortNum, src, IFNULL(srcDetail, '') AS srcDetail, IFNULL(srcDetail2, '') AS srcDetail2, IFNULL(srcDetail3, '') AS srcDetail3, IFNULL(srcDetail4, '') AS srcDetail4, IFNULL(srcDetail5, '') AS srcDetail5, IFNULL(renderer, '') AS renderer, filterType, IFNULL(filterSrc, '') AS filterSrc, fieldType, authFlg, IFNULL(cusCfg, '') AS cusCfg FROM bdo_base.base_defcolumn WHERE /*START #param1# and colNm='{param1}' #param1# END*/ active_flag = 1 ORDER BY dbNm, tableNm, sortNum
#
sys.S100144=SELECT dbNm, tableNm, indexNm, indexType, colNm1, colNm2, colNm3, colNm4, colNm5, colNm6, colNm7, colNm8, CREATION_DATE, CREATED_BY, LAST_UPDATE_DATE, LAST_UPDATED_BY, ABOLITION_DATE, ABOLISHED_BY, PROGRAM_APPLICATION_ID, PROGRAM_ID, ACTIVE_FLAG FROM bdo_base.base_deftableindex WHERE active_flag = 1 AND indexType IN ('1', '2', '0')
#commpany
sys.S100145=select distinct 'closed' AS state,a.id as cid,a.id AS id,a.name,a.name as label,a.shortName,a.contact,a.contactPhone,a.id AS value,'false' as leaf,a.sortNum from bdo_base.base_company a left join bdo_base.base_department b on b.parentid = a.id where 1 = 1 and a.active_flag='1' 
#department
sys.S100146=SELECT autoid,autoid AS id,autoid AS VALUE,parentid AS _parentId,IF(isleaf = '0','closed','open') AS state,departname,departname AS label,parentid AS __dparentid,parentid,sortNum,level0,fullpath,url,ltype,address,ProjectPopedom,areaid,isleaf,IF(isleaf = '0','false','true') AS leaf,enname,isRH,firstItemId AS __dfirstItemId,firstItemId,firstItemName,topManageDepId AS __dtopManageDepId,topManageDepId,deptManager AS __udeptManager,deptManager,hrDeptId,hrDeptCode,hrDeptName,isVisable FROM bdo_base.base_department WHERE active_flag = '1' AND parentid = {param1} ORDER BY hrDeptCode ASC 
#
sys.S100147=
#
sys.S100148=
#
sys.S100149=
#
sys.S100150=
#
sys.S100151=
#
sys.S100152=
#
sys.S100153=
#
sys.S100154=
#
sys.S100155=
#
sys.S100156=
#
sys.S100157=
#
sys.S100158=
#
sys.S100159=
#
sys.S100160=
#
sys.S100161=
#
sys.S100162=
#
sys.S100163=
#
sys.S100164=
#
sys.S100165=
#
sys.S100166=
#
sys.S100167=
#
sys.S100168=
#
sys.S100169=
#
sys.S100170=
#
sys.S100171=
#
sys.S100172=
#
sys.S100173=
#
sys.S100174=
#
sys.S100175=
#
sys.S100176=
#
sys.S100177=
#
sys.S100178=
#
sys.S100179=
#
sys.S100180=
#
sys.S100181=
#
sys.S100182=
#
sys.S100183=
#
sys.S100184=
#
sys.S100185=
#
sys.S100186=
#
sys.S100187=
#
sys.S100188=
#
sys.S100189=
#
sys.S100190=
#
sys.S100191=
#
sys.S100192=
#
sys.S100193=
#
sys.S100194=
#
sys.S100195=
#
sys.S100196=
#
sys.S100197=
#
sys.S100198=
#
sys.S100199=
#\u5916\u90E8\u7528\u6237:\u627E\u4E00\u4E2A\u4EBA\u7684\u89D2\u8272\u62E5\u6709\u7684\u83DC\u5355\u6743\u9650
sys.S100201=select b.popedom from bdo_base.base_userrole a,bdo_base.base_role b,bdo_base.base_outuser c where c.id= ? and a.userid=c.id and a.rid = b.id 
#\u5916\u90E8\u7528\u6237:\u627E\u4E00\u4E2A\u4EBA\u7684\u83DC\u5355\u6388\u6743\u7684\u6240\u6709\u83DC\u5355\u6743\u9650
#sys.S100202=SELECT GROUP_CONCAT( CONCAT( IF(i.id IS NULL, '', CONCAT(i.id, ',')), IF(h.id IS NULL, '', CONCAT(h.id, ',')), IF(g.id IS NULL, '', CONCAT(g.id, ',')), IF(f.id IS NULL, '', CONCAT(f.id, ',')), IF(e.id IS NULL, '', CONCAT(e.id, ',')), IF(d.id IS NULL, '', CONCAT(d.id, ',')), IF(c.id IS NULL, '', CONCAT(c.id, ',')), IF(b.id IS NULL, '', CONCAT(b.id, ',')), IF(a.id IS NULL, '', a.id) ) ) AS fullId FROM base_menu a LEFT JOIN base_menu b ON a.parentid = b.id LEFT JOIN base_menu c ON b.parentid = c.id LEFT JOIN base_menu d ON c.parentid = d.id LEFT JOIN base_menu e ON d.parentid = e.id LEFT JOIN base_menu f ON e.parentid = f.id LEFT JOIN base_menu g ON f.parentid = g.id LEFT JOIN base_menu h ON g.parentid = h.id LEFT JOIN base_menu i ON h.parentid = i.id WHERE a.active_flag = 1 AND a.id IN (SELECT menuId FROM base_userPopedomAgent WHERE agentTo = ? AND startDate <= DATE_FORMAT(CURDATE(), '%Y-%m-%d') AND endDate > DATE_FORMAT(CURDATE(), '%Y-%m-%d') AND active_flag = '1' AND auditstate = '1')
#\u5916\u90E8\u7528\u6237:\u67E5\u627E\u7528\u6237\u53EF\u7528\u83DC\u5355
sys.S100203=SELECT popedom FROM bdo_base.base_outuser WHERE id = ? AND isActive =1 UNION SELECT b.popedom FROM bdo_base.base_userrole a,bdo_base.base_role b,bdo_base.base_outuser c WHERE c.id = ? AND c.isActive = 1 AND a.userid = c.id AND a.rid = b.id 
#\u5916\u90E8\u7528\u6237
sys.S100204=SELECT * FROM (SELECT a.id, a.name, a.loginid, IF( a.password = MD5(1), '\u672A\u4FEE\u6539\u7F3A\u7701\u5BC6\u7801', '\u5DF2\u4FEE\u6539' ) AS pwd, CASE WHEN a.sex = 'M' OR a.sex = '\u7537' THEN '\u7537' ELSE '\u5973' END sex, a.departmentid AS __departmentid, a.post, a.sortNum, c.roles, c.roleids, a.rank, a.bornDate, a.mobilephone, a.phone, a.email, a.hrLoginId, a.customerId AS __ccustomerId FROM bdo_base.base_outuser a LEFT JOIN (SELECT userid, GROUP_CONCAT(DISTINCT rolename) AS roles, GROUP_CONCAT(DISTINCT id) AS roleids FROM bdo_base.base_userrole a, bdo_base.base_role b WHERE a.rid = b.id GROUP BY userid) c ON a.id = c.userid WHERE ( a.departmentid IN ({canDeparts}) ) /*START #param1# AND a.isActive = 1 #param1# END*/ /*START #param2# AND a.isActive = 0 #param2# END*/ ) aa
#\u5916\u90E8\u7528\u6237:\u5BA2\u6237
sys.S100205=SELECT customerId, customerName FROM bdo_cus.cus_customerinfo a WHERE a.departmentid IN ({canDeparts})
#
sys.S100206=SELECT popedom FROM bdo_base.base_outuser WHERE id = ? AND isActive = 1 
#\u5916\u90E8\u7528\u6237:\u67E5\u627E\u7528\u6237\u6700\u9AD8\u7EA7\u89D2\u8272
#sys.S100207=SELECT MAX( IF( IFNULL(b.levelNum, '') = '', 0, b.levelNum ) ) AS maxLevel FROM base_userrole a, base_role b WHERE a.userid = ? AND a.rid = b.id
#\u5916\u90E8\u7528\u6237\u83B7\u53D6\u6240\u6709\u4EBA\u5458\u4FE1\u606F
sys.S100208=SELECT a.id AS userId,a.name AS userName,'' hrId,a.hrLoginId,a.loginId,a.sex,a.departmentId,a.rank,a.mobilePhone,a.email,'' AS ipPhone,'' AS isLXCpa,a.phone,b.departName AS departmentName,c.roleName,c.roleId,a.isActive,b.firstItemId AS officeId,b.firstItemName AS oficeNm,0 AS userLevel,'0' AS superUserFlag,a.showHelp,'0' AS userType,a.customerId FROM bdo_base.base_outuser a LEFT JOIN bdo_base.base_department b ON a.departmentid = b.autoid LEFT JOIN(SELECT b.userId,GROUP_CONCAT(c.rolename) AS roleName,GROUP_CONCAT(c.id) AS roleId FROM bdo_base.base_userrole b INNER JOIN bdo_base.base_role c ON c.id = b.rid GROUP BY b.userId ORDER BY c.levelNum DESC) c ON c.userId = a.id 
#\u56FE\u5F62\u5316
#\u56FE\u5F62\u5316\u6811
sys.S300001=SELECT CONCAT('module_', a.id) AS id, 'module' AS typeName, b.name AS label, a.id AS VALUE, "false" AS leaf, a.menuId, a.pageId, a.versionNum, a.startDate, a.endDate, a.defDetailInfo FROM bdo_base.base_defextmodule a LEFT JOIN bdo_base.base_menu b ON a.menuid = b.id WHERE a.active_flag = '1'
#\u67E5\u627Emodule\u4E0B\u7684page
sys.S300002=SELECT a.id,a.moduleId,a.pageNm AS name,a.pageType,a.parentId,a.isMainPage,a.isPopup,a.sortNum,'page' AS typeName FROM bdo_base.base_defextpage a WHERE a.moduleId={param1} ORDER BY a.sortNum 
#\u67E5\u627Epage\u4E0B\u7684event
sys.S300003=SELECT a.id,a.pageId,a.pageId AS parentId,b.pageNm AS parentName,a.eventElType,a.eventElNmCn AS name,a.eventElNm AS ename,a.eventType,a.toPageId,a.sortNum,'event' AS typeName FROM bdo_base.base_defextevent a LEFT JOIN bdo_base.base_defextpage b ON a.pageId=b.id WHERE a.pageId = {param1} ORDER BY a.sortNum 
#\u56FE\u5F62\u5316\u6811
sys.S300004=SELECT CONCAT('page_', a.id) AS id, 'page' AS typeName, a.pageNm AS label, a.id AS VALUE, "false" AS leaf,'{param1}' as parentid FROM bdo_base.base_defExtPage a WHERE a.active_flag = '1' AND a.moduleId={param1}
#\u56FE\u5F62\u5316\u6811
sys.S300005=SELECT CONCAT('event_', a.id) AS id, 'event' AS typeName, a.eventElNmCn AS label, a.id AS VALUE, "true" AS leaf,'{param1}' as parentid FROM bdo_base.base_defExtEvent a WHERE a.active_flag = '1' AND a.pageId={param1}
#
sys.S300006=SELECT a.id AS VALUE, a.pageNm AS label FROM bdo_base.base_defExtPage a WHERE a.active_flag = '1' AND a.moduleId={param1}
#Page\u4E0B\u7684\u6240\u6709\u5C5E\u6027
sys.S300007=SELECT a.id,a.pageNm,a.pageType,a.parentId,a.isMainPage,a.isPopup,a.defDetailInfo,b.attId,b.attNewNm,b.attNewNmCn,b.cat,b.helpInfo,c.attType,c.attTypeDetail1,c.defaultValue,c.hasChildren,c.isNullable,c.parentId AS attrParentId,d.catNum,c.isDBDate FROM bdo_base.base_defextpage a INNER JOIN bdo_base.base_defextattpagerelation b ON a.pageType = b.pageType INNER JOIN bdo_base.base_defextattinfo c ON c.id = b.attId LEFT JOIN(SELECT COUNT(cat) AS catNum from (SELECT cat FROM bdo_base.base_defextattinfo GROUP BY cat) aa) d ON 1 = 1 WHERE 1 = 1 AND a.id = {param1} AND(c.parentId IS NULL OR c.parentId = '') ORDER BY b.sortNum,b.id 
#\u67E5\u627E\u5C5E\u6027\u4E0B\u7684\u5B50\u5C5E\u6027
sys.S300008=SELECT id, attNm, attNmCn, attType, attTypeDetail1, defaultValue, isNullable, cat, hasChildren, parentId, helpInfo, sortNum, isDBDate FROM bdo_base.base_defextattinfo WHERE parentid = {param1}
#\u67E5\u627E\u9875\u9762\u5C5E\u6027\u5173\u7CFB
sys.S300010=SELECT a.*,b.attNmCn,b.attNm,b.hasChildren,b.parentId FROM bdo_base.base_defextattpagerelation a,bdo_base.base_defextattinfo b WHERE a.attid = b.id 
#\u67E5\u627E\u5C5E\u6027\uFF08\u6839\u8282\u70B9\uFF09
sys.S300011=SELECT * FROM bdo_base.base_defextattinfo WHERE id IN({ids}) AND(parentId IS NULL OR parentId = '') ; 
#\u67E5\u627E\u9875\u9762\u672A\u5173\u8054\u7684\u5C5E\u6027
sys.S300012=SELECT a.* FROM bdo_base.base_defextattinfo a WHERE(parentId is null or parentId = '') and NOT EXISTS(SELECT 1 FROM bdo_base.base_defextattpagerelation b WHERE b.pageType = '{param1}' AND b.attId = a.id) order by sortNum 
#\u67E5\u627E\u9875\u9762\u5173\u8054\u5C5E\u6027
sys.S300013=SELECT * FROM bdo_base.base_defextattpagerelation WHERE id IN({ids}) ; 
#\u6570\u636E\u5E93\u67E5\u8BE2
sys.S300014=SELECT dbNm, dbNmCn, dbDesc, CREATION_DATE, CREATED_BY, LAST_UPDATE_DATE, LAST_UPDATED_BY, ABOLITION_DATE, ABOLISHED_BY, PROGRAM_APPLICATION_ID, PROGRAM_ID, ACTIVE_FLAG FROM bdo_base.base_defdatabase
sys.S300015=select * from bdo_base.base_config where id = '{param1}' 
#\u53CD\u9988\u610F\u89C1\u6C47\u603B
sys.S300016=SELECT a.autoId,a.content,a.contentText,a.replyContent,a.replyUser AS __ureplyUser, a.CREATED_BY AS __ueditUser,a.departmentId AS __departmentid,a.CREATION_DATE,a.replyTime  FROM bdo_base.base_feedback a left JOIN bdo_base.base_user b on b.id=a.CREATED_BY WHERE 1=1 /*START #param1# AND b.name='{param1}' #param1# END*/ /*START #param2# AND a.CREATION_DATE>='{param2}' #param2# END*/ /*START #param3# AND  a.CREATION_DATE<='{param3}' #param3# END*/ ORDER BY a.CREATION_DATE DESC
#\u7248\u672C\u4FE1\u606F\u6C47\u603B
sys.S300017=SELECT a.autoId,a.version,a.versionTime ,a.content,a.svnVersion FROM bdo_base.base_version a WHERE a.systemId = '{systemId}' ORDER BY a.versionTime DESC
