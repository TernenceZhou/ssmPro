#\u66F4\u65B0\u6570\u636E\u5E93\u8868\u5B9A\u4E49\u7684\u662F\u5426\u5305\u542Bwho\u5217\u5B57\u6BB5
sys.C100001=CREATE DATABASE {param1} DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci
#\u63D2\u5165\u62E5\u6709\u67D0\u89D2\u8272\u7684\u7528\u6237\u7684\u83DC\u5355\u90E8\u95E8\u6743\u9650
sys.C100002=INSERT INTO bdo_base.base_usermenudepauth(userId,menuId,departmentId,isRoleAuthed) SELECT userId,?,?,'1' FROM bdo_base.base_userrole a WHERE a.rid = ? AND NOT EXISTS(SELECT 1 FROM bdo_base.base_usermenudepauth b WHERE b.userId = a.userId AND b.menuId = ? AND b.departmentId =?) 
#\u63D2\u5165\u62E5\u6709\u7528\u6237\u7684\u89D2\u8272\u90E8\u95E8\u4FE1\u606F
sys.C100003=INSERT INTO bdo_base.base_usermenudepauth(userId,menuId,departmentId,isRoleAuthed) SELECT a.userId,b.menuId,b.departmentId,'1' FROM bdo_base.base_userrole a INNER JOIN bdo_base.base_rolemenudepauth b ON a.rid = b.roleId WHERE NOT EXISTS(SELECT 1 FROM bdo_base.base_usermenudepauth c WHERE c.userId = a.userId AND c.menuId = b.menuId AND c.departmentId = b.departmentId) /*START #param1# AND a.rid in({roleId}) #param1# END*/ /*START #param2# AND a.userId in({userId}) #param2# END*/ 
#\u5907\u4EFD\u5220\u9664\u7684\u6D88\u606F
sys.C100004=INSERT INTO bdo_log.log_balloon(dataId,systemNm,userId,relateMenuId,messageTitle,message,messageType,readableDay,postUser,postDate,isActive,isAutoClose,isReaded) SELECT id,systemNm,userId,relateMenuId,messageTitle,message,messageType,readableDay,postUser,postDate,isActive,isAutoClose,isReaded FROM bdo_base.base_balloon WHERE id IN({id}) /*START #param1# and userId <> 0 #param1# END*/ 
#\u590D\u5236\u5B57\u6BB5\u96C6\u5408
sys.C100005=INSERT INTO bdo_base.base_gdeitemmapdetail(menuId,itemMapId,dbNm,tableNm,colNm,sortNum,CREATION_DATE,CREATED_BY,LAST_UPDATE_DATE,LAST_UPDATED_BY,PROGRAM_APPLICATION_ID,PROGRAM_ID) SELECT ?,?,a.dbNm,a.tableNm,a.colNm,a.sortNum,NOW(),?,NOW(),?,?,? FROM bdo_base.base_gdeitemmapdetail a WHERE a.menuId = ? AND a.itemMapId = ? AND a.active_flag = 1 AND NOT EXISTS(SELECT b.colNm FROM bdo_base.base_gdeitemmapdetail b WHERE b.menuId = ? AND b.itemMapId = ? AND b.dbNm = a.dbNm AND b.tableNm = a.tableNm AND b.colNm = a.colNm) 
