webpackJsonp([1],{"2NXm":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mvHQ"),a=n.n(r);var i=n("0RKR"),o=n("ZHXk"),s=n.n(o),c=[{title:"凭证日期",dataIndex:"age",rowKey:"age"},{title:"字",dataIndex:"address",rowKey:"address"},{title:"号",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"科目",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"摘要",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"对方科目",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"借方发生额",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"贷方发生额",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"操作",rowKey:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}}],u={name:"changeModal",components:{},computed:{},watch:{},data:function(){return{columns:c,visible:!1,data:[]}},methods:{handleOk:function(){}},created:function(){}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{width:"80%",title:"Basic Modal"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("a-table",{attrs:{pagination:!1,columns:t.columns,"data-source":t.data}})],1)},staticRenderFns:[]};var d=n("VU/8")(u,l,!1,function(t){n("YOzV")},"data-v-2cb495a0",null).exports,h=n("fZjL"),f=n.n(h),m=[{title:"项目",dataIndex:"colDisp",key:"colDisp",ellipsis:!0,scopedSlots:{customRender:"colDisp"}},{title:"本期金额",width:150,dataIndex:"curAmount",key:"curAmount",scopedSlots:{customRender:"curAmount"}},{title:"上期金额",key:"preAmount",dataIndex:"preAmount",width:150,scopedSlots:{customRender:"preAmount"}},{title:"操作",key:"action",dataIndex:"action",width:60,scopedSlots:{customRender:"action"}}],p={name:"left",components:{},computed:{nextStep:function(){return this.$store.state.nextStep}},props:{offsetHeight:{type:Number}},data:function(){return this.XEUtils=s.a,{columns:m,data:[],customerData:{},colCode:"",loading:!1}},methods:{contrastModalShow:function(){this.$emit("contrastModalShow")},changeData:function(t){this.data=t},updateCashFlowValueByIntoAdjustData:function(){var t=this;this.$confirm({title:"提示",content:"是否确认刷入调整数据？",onOk:function(){var e={customerId:t.customerData.curCustomerId,projectId:t.customerData.curProjectId,yyyy:t.customerData.curAccYear};t.loading=!0,t.$sacpApis.updateCashFlowValueByIntoAdjustData(a()(e)).then(function(e){if(e.success){t.loading=!1;var n=e.data[0].list;n.map(function(t){var e=0;t.colDisp.replace(/ /g,"$").split("").map(function(t){"$"===t&&e++}),t.count=e}),t.data=n}})},onCancel:function(){console.log("Cancel")},class:"test"})},queryAuditCashFlowList:function(){var t=this,e=i.a.findUserInfo();this.customerData=i.a.findUserInfo();var n=void 0;e&&f()(e).length&&(n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear});this.$sacpApis.queryAuditCashFlowList(a()(n)).then(function(e){if(e.success){var n=e.data[0].list;n.map(function(t){var e=0;t.colDisp.replace(/ /g,"$").split("").map(function(t){"$"===t&&e++}),t.count=e}),t.data=n}})},showChoiceModel:function(){this.$emit("showChoiceModel")},showRightTable:function(t){this.colCode=t.colCode,this.$emit("showRightTable",t)},rowClassName:function(t,e){switch(t.property){case"in":return"in";case"out":return"out";default:return""}},adjustmentSummary:function(){this.$emit("queryCashFlowAllSummary")}},mounted:function(){this.$store.dispatch("queryAuditCashFlowList",this.queryAuditCashFlowList)}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"btnList"},[n("a-button",{attrs:{type:"primary"},on:{click:t.showChoiceModel}},[n("span",{staticStyle:{position:"relative",top:"-1px",padding:"0 5px 0 0"}},[t._v("①")]),t._v("\n            现金及现金等价物科目设置")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.contrastModalShow}},[n("span",{staticStyle:{position:"relative",top:"-1px",padding:"0 5px 0 0"}},[t._v("②")]),t._v("现金流量表项目对照")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.adjustmentSummary}},[t._v("调整汇总")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.queryAuditCashFlowList()}}},[t._v("刷新")])],1),t._v(" "),n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{attrs:{scroll:{y:t.offsetHeight+30},pagination:!1,columns:t.columns,rowClassName:t.rowClassName,"row-key":function(t,e){return""+e},"data-source":t.data},scopedSlots:t._u([{key:"colDisp",fn:function(e,r){return n("div",{staticClass:"ofh",style:{textIndent:r.count/2*1+"em"},attrs:{title:e}},[t._v("\n                "+t._s(e)+"\n            ")])}},{key:"curAmount",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                "+t._s(t.XEUtils.commafy(r.curAmount,{digits:2}))+"\n            ")])}},{key:"preAmount",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                "+t._s(t.XEUtils.commafy(r.preAmount,{digits:2}))+"\n            ")])}},{key:"action",fn:function(e,r){return n("div",{},[r.isSumItem?t._e():n("a",{attrs:{type:"primary"},on:{click:function(e){return t.showRightTable(r)}}},[t._v("编辑")])])}}])})],1)],1)},staticRenderFns:[]};var g=n("VU/8")(p,y,!1,function(t){n("6Vn/")},"data-v-52b59988",null).exports,v=[{title:"序号",width:80,customRender:function(t,e,n){return n+1}},{title:"摘要",key:"summary",dataIndex:"summary",scopedSlots:{customRender:"summary"}},{title:"科目编号",key:"subjectId",dataIndex:"subjectId",scopedSlots:{customRender:"subjectId"}},{title:"科目名称",key:"subjectFullName",dataIndex:"subjectFullName",scopedSlots:{customRender:"subjectFullName"}},{title:"借方金额",width:150,align:"right",key:"occurValue1",dataIndex:"occurValue1",scopedSlots:{customRender:"occurValue1"}},{title:"贷方金额",width:150,align:"right",key:"occurValue2",dataIndex:"occurValue2",scopedSlots:{customRender:"occurValue2"}}],I={name:"operationListModel",components:{},computed:{},watch:{},data:function(){return this.XEUtils=s.a,{loading:!1,visible:!1,checkBoxList:[],customerData:{},value:[],columns:v,data:[],title:"",row:{},type:""}},methods:{handleCancel:function(){this.visible=!1},show:function(t){var e=this,n=t.row,r=t.customerData,i=t.preRow;this.row=n,this.visible=!0,this.customerData=r;var o={customerId:this.customerData.curCustomerId,yyyy:this.customerData.curAccYear,voucherId:this.row.voucherId,projectId:i.projectId,autoId:i.autoId};console.log("row",n);var s=void 0;s="调整"==n.typeId?n.typeId+n.indexId:n.typeId+n.oldVoucherId,this.title="查看调整凭证分录  (凭证日期："+(n.vchDate?n.vchDate:"")+" 凭证号："+s+")",this.loading=!0,this.$sacpApis.queryEntryInfo(a()(o)).then(function(t){t.success?(e.loading=!1,t.data[0].list.map(function(t){t.direction?(1===t.direction&&(t.occurValue1=t.occurValue,t.occurValue2=0),-1===t.direction&&(t.occurValue1=0,t.occurValue2=t.occurValue)):(t.occurValue1=t.occurValue,t.occurValue2=0)}),e.data=t.data[0].list):e.$message.error(t.resultInfo.statusText),console.log(t)})}},created:function(){}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("drag-modal",{attrs:{width:"80%",footer:!1,visible:t.visible,title:t.title},on:{cancel:function(){return t.visible=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{attrs:{pagination:!1,columns:t.columns,scroll:{y:350,x:"scollXWidth"},"data-source":t.data},scopedSlots:t._u([{key:"occurValue1",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(n.occurValue1,{digits:2}))+"\n            ")]}},{key:"occurValue2",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(n.occurValue2,{digits:2}))+"\n            ")]}},{key:"currValue",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(n.currValue,{digits:2}))+"\n            ")]}},{key:"currRate",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(n.currRate,{digits:4}))+"\n            ")]}},{key:"isTransferVoucher",fn:function(e,n){return[t._v("\n                "+t._s(1==n.isTransferVoucher?"是":"否")+"\n            ")]}}])})],1)],1)},staticRenderFns:[]};var j=n("VU/8")(I,b,!1,function(t){n("q4H5")},"data-v-7fc8d1e1",null).exports,C=n("Dd8w"),_=n.n(C),S=n("lHA8"),w=n.n(S),M=n("c/Tr"),L=n.n(M),k=n("PJh5"),A=n.n(k),D=[{title:"凭证日期",key:"vchDate",width:110,dataIndex:"vchDate",scopedSlots:{customRender:"vchDate"}},{title:"字",key:"typeId",width:50,dataIndex:"typeId",scopedSlots:{customRender:"typeId"}},{title:"号",width:190,key:"oldVoucherId",dataIndex:"oldVoucherId",scopedSlots:{customRender:"oldVoucherId"}},{title:"借方科目",key:"subjectName",dataIndex:"subjectName",width:160,scopedSlots:{customRender:"subjectName"}},{title:"贷方科目",key:"oppoSubjectName",dataIndex:"oppoSubjectName",width:160,scopedSlots:{customRender:"oppoSubjectName"}},{title:"摘要",key:"summary",dataIndex:"summary",width:160,scopedSlots:{customRender:"summary"}},{title:"借方发生额",key:"occurValue",dataIndex:"occurValue",scopedSlots:{customRender:"occurValue"},align:"right",width:150},{title:"贷方发生额",key:"occupyPosition",dataIndex:"occupyPosition",align:"right",width:120,scopedSlots:{customRender:"occupyPosition"}}],x={name:"operationListChangeModel",components:{},props:["colDisp","lastUpdateDate"],computed:{},watch:{},data:function(){var t=this;return this.XEUtils=s.a,{moment:A.a,rules:{creditCode:[{required:!0,message:"请选择",trigger:"change"}],debitCode:[{required:!0,message:"请选择",trigger:"change"}]},visible:!1,adjustmentLoading:!1,checkBoxList:[],customerData:{},value:[],columns:D,data:[],title:"",row:{},type:"",colCode:"",reportItemList:[],debitAccountList:[],reportCreditAccountList:[],form:{creditCode:void 0,debitCode:void 0,otherReportCode:"",date:null,summary:"",creditName:"",creditAmountStart:"",creditAmountEnd:"",debitName:"",debitAmountStart:"",debitAmountEnd:"",oldVoucherId:"",typeId:""},showTable:!1,selectedRows:[],adjustSubject:!0,defaultPickerValue:null,defaultValue:null,loading:!1,selectedRowKeys:[],message:"",messageAll:"",confirmVisible:!1,start:0,limit:10,pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.pagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.start=e-1,t.limit=n,t.pagination.pageSize=n,t.query()},onChange:function(e,n){t.start=(e-1)*n,t.limit=t.pagination.pageSize,t.pagination.current=e,t.query()}},otherShow:!1,isAll:1,confirmLoading:!1,isAdjustAll:!1,otherProjectLoading:!1,sureConfirmLoading:!1,lastUpdateDate2:"",lastUpdateDate3:""}},methods:{handleChange:function(t,e){this.selectedRows=e,this.selectedRowKeys=t},getCheckboxProps:function(t){return{props:{disabled:"Disabled User"===t.name,name:t.name}}},getSelect:function(){this.form.creditCode=void 0,this.form.debitCode=void 0,this.debitAccountList=[],this.reportCreditAccountList=[];this.customerData.curCustomerId,this.customerData.curProjectId,this.customerData.curAccYear,this.form.otherReportCode,this.autoId},handleOk:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.showTable?t.confirmContent():t.updateEntryByAdjust()})},updateEntryByAdjust:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.autoId,entryId:this.row.voucherId,otherReportCode:this.form.otherReportCode,summary:this.form.summary,lastUpdateDate:this.lastUpdateDate};this.adjustmentLoading=!0,this.confirmLoading=!0,this.$sacpApis.updateEntryByAdjust(a()(e)).then(function(e){e.success?(t.adjustmentLoading=!1,t.confirmLoading=!1,t.visible=!1,t.confirmVisible=!1,t.$message.success("操作成功"),t.$emit("getLeftTable",{data:e.data[0].auditlist,sumRowData:e.data[0].sumRowData,list:e.data[0].list})):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.adjustmentLoading=!1,t.confirmLoading=!1})},save:function(){var t=this.selectedRows.map(function(t){return t.voucherId}),e=this.customerData,n=e.curCustomerId,r=e.curProjectId,a=e.curAccYear,i=this.form,o=i.otherReportCode,s=i.summary,c=i.date,u={customerId:n,projectId:r,yyyy:a,colCode:this.colCode,autoId:this.autoId,summary:s,vchDateStart:c&&c[0],vchDateEnd:c&&c[1],entryIds:t.join(",")};this.adjustSubject?(u.otherReportCode=o,u.lastUpdateDate=this.lastUpdateDate2,this.updateEntryByBatchAdjust(u)):(delete u.otherReportCode,u.lastUpdateDate=this.lastUpdateDate3,this.updateEntryByBatchRestore(u))},confirmContent:function(){this.confirmVisible=!0,this.isAdjustAll=!1;var t=this.selectedRows.map(function(t){return t.voucherId}),e=this.selectedRows.reduce(function(t,e){return t+e.occurValue},0),n=L()(new w.a(t)).length;this.message="本次操作涉及"+n+"个凭证，涉及金额"+s.a.commafy(e,{digits:2})+"元，是否继续本次操作？"},updateEntryByBatchAdjust:function(t){var e=this;this.otherProjectLoading=!0,this.sureConfirmLoading=!0,this.$sacpApis.updateEntryByBatchAdjust(a()(t)).then(function(t){if(t.success){e.confirmVisible=!1,e.otherProjectLoading=!1,e.sureConfirmLoading=!1,e.$message.success("操作成功"),e.$emit("getLeftTable",{data:t.data[0].auditlist,sumRowData:t.data[0].sumRowData,list:t.data[0].list}),e.initPage();var n=e.publicParam();e.queryBatchAdjustCashFlowStatement(n)}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){})},updateEntryByBatchRestore:function(t){var e=this;this.otherProjectLoading=!0,this.sureConfirmLoading=!0,this.$sacpApis.updateEntryByBatchRestore(a()(t)).then(function(t){if(t.success){e.$message.success("操作成功"),e.confirmVisible=!1,e.otherProjectLoading=!1,e.sureConfirmLoading=!1,e.$emit("getLeftTable",{data:t.data[0].auditlist,sumRowData:t.data[0].sumRowData,list:t.data[0].list}),e.initPage();var n=e.publicParam();e.queryBatchRestoreCashFlowStatement(n)}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){})},initPage:function(){this.start=0,this.limit=10,this.pagination.current=1,this.selectedRows=[],this.selectedRowKeys=[]},handleCancel:function(){this.visible=!1},show:function(t){var e=this,n=t.row,r=t.customerData,a=t.isAll,i=t.colCode,o=t.autoId;this.form.typeId="",this.form.oldVoucherId="",this.form.summary="",this.form.debitName="",this.form.debitAmountStart="",this.form.debitAmountEnd="",this.form.creditName="",this.form.creditAmountStart="",this.form.creditAmountEnd="",this.row=n,this.visible=!0,this.customerData=r,this.colCode=i,this.autoId=o,this.data=[];r.curCustomerId,r.curProjectId;var s=r.curAccYear,c=[A()(s+"-01-01").format("YYYY-MM-DD"),A()(s+"-12-31").format("YYYY-MM-DD")];this.defaultPickerValue=[A()(c[0]),A()(c[1])],this.defaultValue=[A()(c[0]),A()(c[1])],this.form.date=[A()(c[0]),A()(c[1])],this.selectedRows=[],this.selectedRowKeys=[],this.debitAccountList=[],this.reportCreditAccountList=[],this.start=0,this.limit=10,this.pagination.current=1,this.queryReportItemList(),this.isAll=a,1===a?(this.showTable=!0,this.adjustSubject=!0,this.otherShow=!1,this.title="批量调整凭证分录",this.query()):2===a?(this.showTable=!0,this.adjustSubject=!1,this.otherShow=!1,this.title="批量还原凭证分录",this.query()):(this.showTable=!1,this.adjustSubject=!0,this.otherShow=!0,this.title="调整凭证分录"),this.$nextTick(function(){e.$refs.form.resetFields(),e.otherShow&&e.$refs.otherForm.resetFields()})},publicParam:function(){var t=this.customerData,e=t.curCustomerId,n=t.curProjectId,r=t.curAccYear,a=this.form.date;return{customerId:e,projectId:n,yyyy:r,colCode:this.colCode,autoId:this.autoId,vchDateStart:a[0]?A()(a[0]).format("YYYY-MM-DD"):"",vchDateEnd:a[1]?A()(a[1]).format("YYYY-MM-DD"):"",summary:this.form.summary,creditName:this.form.creditName,creditAmountStart:this.form.creditAmountStart,creditAmountEnd:this.form.creditAmountEnd,debitName:this.form.debitName,debitAmountStart:this.form.debitAmountStart,debitAmountEnd:this.form.debitAmountEnd,oldVoucherId:this.form.oldVoucherId,typeId:this.form.typeId,start:this.start,limit:this.limit}},query:function(t){if(t&&(this.start=0,this.limit=10),this.form.debitAmountStart&&this.form.debitAmountEnd&&this.form.debitAmountStart>this.form.debitAmountEnd)return this.$message.error("借方起始金额不能大于结束金额"),!1;if(this.form.creditAmountStart&&this.form.creditAmountEnd&&this.form.creditAmountStart>this.form.creditAmountEnd)return this.$message.error("贷方起始金额不能大于结束金额"),!1;var e=this.publicParam();this.loading=!0,1===this.isAll?this.queryBatchAdjustCashFlowStatement(e):this.queryBatchRestoreCashFlowStatement(e)},queryBatchAdjustCashFlowStatement:function(t){var e=this;this.loading=!0,this.$sacpApis.queryBatchAdjustCashFlowStatement(a()(t)).then(function(t){if(t.success){e.loading=!1;var n=t.data;n&&n.length&&n[0]&&n[0].list?(e.handleData(t.data[0].list),e.lastUpdateDate2=n[0].lastUpdateDate):(e.data=[],e.lastUpdateDate2=""),e.pagination.total=t.totalCount}else e.$message.error(t.resultInfo.statusText)})},queryBatchRestoreCashFlowStatement:function(t){var e=this;this.loading=!0,this.$sacpApis.queryBatchRestoreCashFlowStatement(a()(t)).then(function(t){if(t.success){e.loading=!1;var n=t.data;n&&n.length&&n[0]&&n[0].list?(e.handleData(t.data[0].list),e.lastUpdateDate3=n[0].lastUpdateDate):(e.data=[],e.lastUpdateDate3=""),e.pagination.total=t.totalCount,e.queryAllEntryInfoByBatchRestore()}else e.$message.error(t.resultInfo.statusText)})},handleData:function(t){this.data=t.map(function(t,e){return _()({},t,{key:e})})},updateAll:function(t){this.type=t,"adjust"===t?(this.confirmVisible=!0,this.isAdjustAll=!0,this.queryAllEntryInfoByBatchAdjust()):this.updateAllConfirm()},queryAllEntryInfoByBatchAdjust:function(){var t=this;this.otherProjectLoading=!0;var e=this.publicParam();this.$sacpApis.queryAllEntryInfoByBatchAdjust(a()(e)).then(function(e){e.success?(t.otherProjectLoading=!1,e.data&&(t.message="本次操作涉及"+e.data[0].num+"个凭证，涉及金额"+s.a.commafy(e.data[0].occurValue,{digits:2})+"元，是否继续本次操作？")):t.$message.error(e.resultInfo.statusText)}).catch(function(){t.$message.error(err)}).finally(function(){t.otherProjectLoading=!1})},queryAllEntryInfoByBatchRestore:function(){var t=this,e=this.publicParam();return this.$sacpApis.queryAllEntryInfoByBatchRestore(a()(e)).then(function(e){e.success?(t.otherProjectLoading=!1,e.data&&(t.messageAll="本次操作涉及"+e.data[0].num+"个凭证，涉及金额"+s.a.commafy(e.data[0].occurValue,{digits:2})+"元，是否全部还原？")):t.$message.error(e.resultInfo.statusText)}).catch(function(){t.$message.error(err)}).finally(function(){t.otherProjectLoading=!1})},updateAllConfirm:function(){var t=this;this.$confirm({title:"提示",content:""+("adjust"===this.type?"是否确认全部调整数据?":this.messageAll),onOk:function(){var e=t.publicParam();t.otherProjectLoading=!0,"adjust"===t.type?(e.lastUpdateDate=t.lastUpdateDate2,t.updateAllEntryByBatchAdjust(e)):(e.lastUpdateDate=t.lastUpdateDate3,t.updateAllEntryByBatchRestore(e))},onCancel:function(){console.log("Cancel")},class:"test"})},updateAllEntryByBatchAdjust:function(t){var e=this;t.otherReportCode=this.form.otherReportCode,this.$sacpApis.updateAllEntryByBatchAdjust(a()(t)).then(function(t){t.success?(e.otherProjectLoading=!1,e.visible=!1,e.confirmVisible=!1,e.$message.success("调整成功!"),e.$emit("refreshAllData")):e.$message.error(t.resultInfo.statusText)})},updateAllEntryByBatchRestore:function(t){var e=this;t&&delete t.otherReportCode,this.loading=!0,this.$sacpApis.updateAllEntryByBatchRestore(a()(t)).then(function(t){t.success?(e.otherProjectLoading=!1,e.loading=!1,e.visible=!1,e.confirmVisible=!1,e.$message.success("还原成功!"),e.$emit("refreshAllData")):e.$message.error(t.resultInfo.statusText)})},queryReportItemList:function(){var t=this,e=this.customerData,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,colCode:this.colCode,autoId:this.autoId};this.$sacpApis.queryReportItemList(a()(n)).then(function(e){e.success?t.reportItemList=e.data[0].list:t.$message.error(e.resultInfo.statusText)})},disabledDate:function(t){return new Date(t).getFullYear()!=this.customerData.curAccYear},confirmOk:function(){this.isAdjustAll?this.updateAllConfirm():this.save()},confirmCancel:function(){this.confirmVisible=!1}},created:function(){}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("drag-modal",{attrs:{width:t.showTable?"90%":"50%",title:t.title+"  ( 调整前项目： "+t.colDisp+" )",visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel},scopedSlots:t._u([{key:"footerOtherBut",fn:function(){return[1===t.isAll?n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateAll("adjust")}}},[t._v("\n                全部调整\n            ")]):2===t.isAll?n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateAll("restore")}}},[t._v("\n                全部还原\n            ")]):t._e()]},proxy:!0}])},[t._v(" "),n("a-spin",{attrs:{size:"large",tip:"调整中...",spinning:t.adjustmentLoading}},[n("a-form-model",{ref:"form",attrs:{rules:t.rules,layout:"inline",model:t.form}},[t.showTable?n("a-form-model-item",{attrs:{label:"凭证日期"}},[n("a-range-picker",{attrs:{"allow-clear":"","disabled-date":t.disabledDate,defaultPickerValue:t.defaultPickerValue,"default-value":t.defaultValue},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:"字"}},[n("a-input",{staticClass:"inputSelect",attrs:{"allow-clear":"",placeholder:"字"},model:{value:t.form.typeId,callback:function(e){t.$set(t.form,"typeId",e)},expression:"form.typeId"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:"号"}},[n("a-input",{staticClass:"inputSelect",attrs:{"allow-clear":"",placeholder:"号"},model:{value:t.form.oldVoucherId,callback:function(e){t.$set(t.form,"oldVoucherId",e)},expression:"form.oldVoucherId"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:"摘要"}},[n("a-input",{attrs:{"allow-clear":"",placeholder:"摘要"},model:{value:t.form.summary,callback:function(e){t.$set(t.form,"summary",e)},expression:"form.summary"}})],1):t._e(),t._v(" "),n("br"),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:"借方科目"}},[n("a-input",{attrs:{"allow-clear":"",placeholder:"筛选借方科目"},model:{value:t.form.debitName,callback:function(e){t.$set(t.form,"debitName",e)},expression:"form.debitName"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:""}},[n("a-input-number",{staticClass:"inputSelect",attrs:{formatter:function(t){return(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\$\s?|(,*)/g,"")||t.replace(/[^\d^\.]+/g,"")},placeholder:"起始金额"},model:{value:t.form.debitAmountStart,callback:function(e){t.$set(t.form,"debitAmountStart",e)},expression:"form.debitAmountStart"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:""}},[n("span",[t._v("-")])]):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:""}},[n("a-input-number",{staticClass:"inputSelect",attrs:{formatter:function(t){return(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\$\s?|(,*)/g,"")||t.replace(/[^\d^\.]+/g,"")},placeholder:"结束金额"},model:{value:t.form.debitAmountEnd,callback:function(e){t.$set(t.form,"debitAmountEnd",e)},expression:"form.debitAmountEnd"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:"贷方科目"}},[n("a-input",{attrs:{"allow-clear":"",placeholder:"筛选贷方科目"},model:{value:t.form.creditName,callback:function(e){t.$set(t.form,"creditName",e)},expression:"form.creditName"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:""}},[n("a-input-number",{staticClass:"inputSelect",attrs:{formatter:function(t){return(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\$\s?|(,*)/g,"")||t.replace(/[^\d^\.]+/g,"")},placeholder:"起始金额"},model:{value:t.form.creditAmountStart,callback:function(e){t.$set(t.form,"creditAmountStart",e)},expression:"form.creditAmountStart"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:""}},[n("span",[t._v("-")])]):t._e(),t._v(" "),t.showTable?n("a-form-model-item",{attrs:{label:""}},[n("a-input-number",{staticClass:"inputSelect",attrs:{formatter:function(t){return(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\$\s?|(,*)/g,"")||t.replace(/[^\d^\.]+/g,"")},placeholder:"结束金额"},model:{value:t.form.creditAmountEnd,callback:function(e){t.$set(t.form,"creditAmountEnd",e)},expression:"form.creditAmountEnd"}})],1):t._e(),t._v(" "),t.showTable?n("a-form-model-item",[n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.query(!0)}}},[t._v("\n                        查询\n                    ")])],1):t._e()],1),t._v(" "),t.otherShow?n("a-form-model",{ref:"otherForm",attrs:{rules:t.rules,layout:"inline",model:t.form}},[t.adjustSubject?n("a-form-model-item",{attrs:{prop:"otherReportCode",label:"调整后项目:"}},[n("a-select",{staticStyle:{width:"600px"},attrs:{placeholder:"调整至其他报表科目","allow-clear":"",dropdownMatchSelectWidth:!1},on:{change:t.getSelect},model:{value:t.form.otherReportCode,callback:function(e){t.$set(t.form,"otherReportCode",e)},expression:"form.otherReportCode"}},t._l(t.reportItemList,function(e){return n("a-select-option",{key:e.colCode,class:"in"==e.property?"in":"out"==e.property?"out":"",attrs:{value:e.colCode}},[t._v("\n                            "+t._s(e.colDisp)+"\n                        ")])}),1)],1):t._e()],1):t._e()],1),t._v(" "),n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[t.showTable?n("a-table",{attrs:{columns:t.columns,"data-source":t.data,"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.handleChange,getCheckboxProps:t.getCheckboxProps},pagination:t.pagination,scroll:{y:"calc(100vh - 400px)",x:"scollXWidth"}},scopedSlots:t._u([{key:"occurValue",fn:function(e,n){return[t._v("\n                    "+t._s(t.XEUtils.commafy(1==n.direction?e:0,{digits:2}))+"\n                ")]}},{key:"occupyPosition",fn:function(e,n){return[t._v("\n                    "+t._s(t.XEUtils.commafy(-1==n.direction?n.occurValue:0,{digits:2}))+"\n                ")]}}],null,!1,3364611162)}):t._e()],1)],1),t._v(" "),n("drag-modal",{attrs:{width:"50%",title:"确认",visible:t.confirmVisible,confirmLoading:t.sureConfirmLoading},on:{ok:t.confirmOk,cancel:t.confirmCancel}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.otherProjectLoading}},[n("div",{staticClass:"tips"},[t._v(t._s(t.message))]),t._v(" "),n("a-form-model",{ref:"confirmForm",attrs:{rules:t.rules,layout:"inline",model:t.form}},[t.adjustSubject?n("a-form-model-item",{attrs:{prop:"otherReportCode",label:"调整后项目:"}},[n("a-select",{staticStyle:{width:"600px"},attrs:{placeholder:"调整至其他报表科目","allow-clear":"",dropdownMatchSelectWidth:!1},on:{change:t.getSelect},model:{value:t.form.otherReportCode,callback:function(e){t.$set(t.form,"otherReportCode",e)},expression:"form.otherReportCode"}},t._l(t.reportItemList,function(e){return n("a-select-option",{key:e.colCode,class:"in"==e.property?"in":"out"==e.property?"out":"",attrs:{value:e.colCode}},[t._v("\n                            "+t._s(e.colDisp)+"\n                        ")])}),1)],1):t._e()],1)],1)],1)],1)},staticRenderFns:[]};var T=[{title:"凭证日期",key:"vchDate",width:110,dataIndex:"vchDate",scopedSlots:{customRender:"vchDate"}},{title:"字",key:"typeId",width:60,dataIndex:"typeId",scopedSlots:{customRender:"typeId"}},{title:"号",width:150,key:"oldVoucherId",dataIndex:"oldVoucherId",scopedSlots:{customRender:"oldVoucherId"}},{title:"借方科目",key:"subjectName",dataIndex:"subjectName",width:250,ellipsis:!0,scopedSlots:{customRender:"subjectName"}},{title:"贷方科目",key:"oppoSubjectName",dataIndex:"oppoSubjectName",width:250,ellipsis:!0,scopedSlots:{customRender:"oppoSubjectName"}},{title:"摘要",key:"summary",dataIndex:"summary",width:250,ellipsis:!0,scopedSlots:{customRender:"summary"}},{dataIndex:"num",width:160,title:"金额",align:"right",key:"num",fixed:"right",slots:{title:"num"},scopedSlots:{customRender:"num"}},{title:"操作",key:"action",width:110,dataIndex:"action",fixed:"right",scopedSlots:{customRender:"action"}}],E={name:"choiceModel",components:{operationListModel:j,operationListChangeModel:n("VU/8")(x,N,!1,function(t){n("Fk41")},"data-v-1ae5504e",null).exports},computed:{},props:["colDisp"],watch:{},data:function(){var t=this;return this.XEUtils=s.a,{lastData:0,loading:!1,visible:!1,checkBoxList:[],customerData:{},value:[],columns:T,data:[],colCode:"",title:"",type:0,totalCount:0,queryParams:{start:0,limit:10,isChange:!1},pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],onShowSizeChange:function(e,n){t.queryParams.start=e-1,t.queryParams.limit=n,t.queryParams.isChange=!0,t.pagination.pageSize=n,t.interfaceType()},showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.totalCount+"条"},change:!0,onChange:function(e,n){t.queryParams.start=(e-1)*n,t.queryParams.limit=t.pagination.pageSize,t.queryParams.isChange=!1,t.pagination.current=e,console.log("current",t.pagination.current),t.interfaceType()}},lastUpdateDate:"",cashFlowLastUpdateDate:""}},methods:{getLeftTable:function(t){var e=t.data,n=t.sumRowData,r=t.list;this.$emit("getLeftTable",{data:e,sumRowData:n,list:r}),this.interfaceType()},refreshAllData:function(){this.visible=!1,this.$store.state.auditCashFlow(),this.$store.state.getCashFlowStatement()},updateEntryByRestore:function(t){var e=this,n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.row.autoId,entryId:t.voucherId,dataType:t.dataType,lastUpdateDate:this.lastUpdateDate};this.$confirm({title:"提示",content:"确定是否要还原凭证分录？",onOk:function(){e.loading=!0,e.$sacpApis.updateEntryByRestore(a()(n)).then(function(t){t.success?(console.log("======>",t.success),e.loading=!1,e.$message.success("操作成功"),e.visible=!1,e.$emit("getLeftTable",{data:t.data[0].auditlist,sumRowData:t.data[0].sumRowData,list:t.data[0].list})):e.$message.error(t.resultInfo.statusText)})},onCancel:function(){console.log("Cancel")},class:"test"})},showOperationListChange:function(t,e){this.$refs.operationListChangeModel.show({row:t,customerData:this.customerData,isAll:e,autoId:this.row.autoId,colCode:this.colCode})},showOperationList:function(t,e){this.$refs.operationListModel.show({row:t,customerData:this.customerData,preRow:this.row})},handleCancel:function(){this.visible=!1},handleOk:function(){},show:function(t){var e=t.row,n=t.type,r=t.customerData,a=t.colCode;this.row=e||this.row,this.type=n||this.type,this.customerData=r||this.customerData,this.colCode=a||this.colCode,this.title="凭证分录信息("+this.row.debitAccountName+")",this.visible=!0,this.pagination.current=0,this.queryParams.start=0,this.queryParams.limit=10,this.interfaceType()},queryRemainCashFlowStatement:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.row.autoId,start:this.queryParams.start,limit:this.queryParams.limit};this.loading=!0,this.$sacpApis.queryRemainCashFlowStatement(a()(e)).then(function(e){if(e.success){t.loading=!1;var n=e.data;n&&n[0]&&n[0].list?t.data=n[0].list:t.data=[],t.pagination.total=e.totalCount,t.totalCount=e.totalCount}else t.$message.error(e.resultInfo.statusText)})},queryFlowInCashFlowStatement:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.row.autoId,start:this.queryParams.start,limit:this.queryParams.limit};this.loading=!0,this.$sacpApis.queryFlowInCashFlowStatement(a()(e)).then(function(e){if(e.success){t.loading=!1;var n=e.data;n&&n[0]&&n[0].list?(t.data=n[0].list,t.cashFlowLastUpdateDate=n[0].lastUpdateDate):t.data=[],t.pagination.total=e.totalCount,t.totalCount=e.totalCount}else t.$message.error(e.resultInfo.statusText)})},queryFlowOutCashFlowStatement:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.row.autoId,start:this.queryParams.start,limit:this.queryParams.limit};this.loading=!0,this.$sacpApis.queryFlowOutCashFlowStatement(a()(e)).then(function(e){if(e.success){t.loading=!1;var n=e.data;n&&n[0]&&n[0].list?(t.data=n[0].list,t.cashFlowLastUpdateDate=n[0].lastUpdateDate):t.data=[],t.pagination.total=e.totalCount,t.totalCount=e.totalCount}else t.$message.error(e.resultInfo.statusText)})},queryBalanceCashFlowStatement:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.row.autoId,start:this.queryParams.start,limit:this.queryParams.limit};this.loading=!0,this.$sacpApis.queryBalanceCashFlowStatement(a()(e)).then(function(e){if(e.success){t.loading=!1;var n=e.data;n&&n[0]&&n[0].list?t.data=n[0].list:t.data=[],t.pagination.total=e.totalCount,t.totalCount=e.totalCount}else t.$message.error(e.resultInfo.statusText)})},editCashFlowStatement:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,autoId:this.row.autoId,start:this.queryParams.start,limit:this.queryParams.limit};this.loading=!0,this.$sacpApis.editCashFlowStatement(a()(e)).then(function(e){if(e.success){t.loading=!1;var n=e.data;n&&n[0]&&n[0].list?(t.data=n[0].list,t.lastUpdateDate=n[0].lastUpdateDate):t.data=[],t.pagination.total=e.totalCount,t.totalCount=e.totalCount}else t.$message.error(e.resultInfo.statusText)})},interfaceType:function(){this.pagination.total=0,1===this.type&&this.queryRemainCashFlowStatement(),2===this.type&&this.queryFlowInCashFlowStatement(),3===this.type&&this.queryFlowOutCashFlowStatement(),4===this.type&&this.queryBalanceCashFlowStatement(),5===this.type&&this.editCashFlowStatement()},afterClose:function(){this.visible=!1,this.totalCount=0,this.pagination.total=0}},created:function(){}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("drag-modal",{attrs:{width:"80%",visible:t.visible,title:t.title,footer:!1},on:{cancel:t.afterClose,ok:t.handleOk}},[5===t.type?n("div",{staticClass:"btn"},[n("a-button",{on:{click:function(e){return t.showOperationListChange(null,1)}}},[t._v("批量调整")])],1):t._e(),t._v(" "),5===t.type?n("div",{staticClass:"btn",staticStyle:{right:"150px"}},[n("a-button",{on:{click:function(e){return t.showOperationListChange(null,2)}}},[t._v("批量还原")])],1):t._e(),t._v(" "),n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{attrs:{pagination:t.pagination,columns:t.columns,scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},"data-source":t.data,"row-key":function(t,e){return""+e}},scopedSlots:t._u([{key:"occurValue",fn:function(e,n){return[t._v("\n                    "+t._s(1===n.direction?t.XEUtils.commafy(n.occurValue,{digits:2}):t.XEUtils.commafy(0,{digits:2}))+"\n                ")]}},{key:"num",fn:function(e,n){return[t._v("\n                    "+t._s(t.XEUtils.commafy(n.occurValue,{digits:2}))+"\n                ")]}},{key:"occupyPosition",fn:function(e,n){return[t._v("\n                    "+t._s("0.00")+"\n                ")]}},{key:"action",fn:function(e,r){return[5!==t.type||"in"!=r.dataType&&"out"!=r.dataType?5===t.type&&"base"==r.dataType?n("a",{on:{click:function(e){return t.showOperationListChange(r)}}},[t._v("调整")]):n("span",[n("a",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.showOperationList(r)}}},[t._v("查看")]),t._v(" "),2==t.type||3==t.type||7==t.type||8==t.type?n("a",{on:{click:function(e){return t.updateEntryByRestore(r)}}},[t._v("还原")]):t._e()]):n("a",{on:{click:function(e){return t.updateEntryByRestore(r)}}},[t._v("还原")])]}}])})],1)],1),t._v(" "),n("operation-list-model",{ref:"operationListModel",on:{getLeftTable:t.getLeftTable}}),t._v(" "),n("operation-list-change-model",{ref:"operationListChangeModel",attrs:{colDisp:t.colDisp,lastUpdateDate:t.lastUpdateDate},on:{getLeftTable:t.getLeftTable,refreshAllData:t.refreshAllData}})],1)},staticRenderFns:[]};var O=[{title:"凭证日期",key:"vchDate",width:110,dataIndex:"vchDate",scopedSlots:{customRender:"vchDate"}},{title:"字",key:"typeId",width:50,dataIndex:"typeId",scopedSlots:{customRender:"typeId"}},{title:"号",width:50,key:"serail",dataIndex:"serail",scopedSlots:{customRender:"serail"}},{title:"科目",key:"subjectName",dataIndex:"subjectName",scopedSlots:{customRender:"subjectName"}},{title:"摘要",key:"summary",dataIndex:"summary",scopedSlots:{customRender:"summary"}},{title:"对方科目",key:"oppositeAccountTop",dataIndex:"oppositeAccountTop",scopedSlots:{customRender:"oppositeAccountTop"}},{title:"借方发生额",key:"occurValue",dataIndex:"occurValue",scopedSlots:{customRender:"occurValue"},align:"right",width:150},{title:"贷方发生额",key:"occupyPosition",dataIndex:"occupyPosition",align:"right",width:120,scopedSlots:{customRender:"occupyPosition"}}],$={name:"BatchAdjustment",props:["colDisp"],components:{},computed:{},watch:{},data:function(){return this.XEUtils=s.a,{moment:A.a,rules:{},visible:!1,checkBoxList:[],customerData:{},value:[],columns:O,data:[],title:"",row:{},type:"",colCode:"",reportItemList:[],debitAccountList:[],reportCreditAccountList:[],form:{otherReportCode:"",debit:"",credit:""},showTable:!1,selectedRows:[],debitList:[],creditList:[],adjustSubject:!1,subjectName:"",loading:!1,confirmLoading:!1}},methods:{getSelect:function(){},handleOk:function(){var t=this.customerData,e=t.curCustomerId,n=t.curProjectId,r=t.curAccYear,a=this.form,i=a.otherReportCode,o=a.debit,s=a.credit,c={customerId:e,projectId:n,yyyy:r,colCode:this.colCode,debitCode:o,creditCode:s,otherColCode:i};this.adjustSubject?(c.otherColCode=i,this.queryAdjustEnteyInfo(c)):(delete c.otherColCode,this.queryRestoreEnteyInfo(c))},updateSubjectEntryByBatchAdjust:function(t){var e=this;this.confirmLoading=!0,this.loading=!0,this.$sacpApis.updateSubjectEntryByBatchAdjust(t).then(function(t){t.success?(e.visible=!1,e.confirmLoading=!1,e.loading=!1,e.$message.success("操作成功!"),e.$emit("refreshGetCashFlowStatement",!0),e.$store.state.auditCashFlow(),e.form={otherReportCode:"",debit:"",credit:""},e.$refs.form.resetFields()):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},updateSubjectEntryByBatchRestore:function(t){var e=this;this.$sacpApis.updateSubjectEntryByBatchRestore(t).then(function(t){t.success?(e.visible=!1,e.confirmLoading=!1,e.loading=!1,e.$message.success("保存成功!"),e.$emit("refreshGetCashFlowStatement",!0),e.$store.state.auditCashFlow(),e.$refs.form.resetFields()):e.$message.error(t.resultInfo.statusText)})},queryReportItemList:function(t,e,n){var r=this;this.visible=!0,this.adjustSubject=n,n?(this.title="批量调整",this.subjectName="调整前项目",this.queryAdjustDebitSubjectList(t,e)):(this.title="批量还原",this.subjectName="还原前项目",this.queryRestoreDebitSubjectList(t,e)),this.customerData=t,this.colCode=e;var i={customerId:t.curCustomerId,projectId:t.curProjectId,yyyy:t.curAccYear,colCode:e,autoId:""};this.loading=!0,this.$sacpApis.queryReportItemList(a()(i)).then(function(t){if(t.success){r.loading=!1;var e=t.data[0];e&&e.list&&e.list.length&&(r.reportItemList=e.list),r.form={otherReportCode:"",debit:"",credit:""},r.$refs.form.resetFields()}else r.$message.error(t.resultInfo.statusText)})},queryRestoreDebitSubjectList:function(t,e){var n=this;this.visible=!0,this.customerData=t;var r={customerId:t.curCustomerId,projectId:t.curProjectId,yyyy:t.curAccYear,colCode:e};this.$sacpApis.queryRestoreDebitSubjectList(a()(r)).then(function(t){if(t.success){var e=t.data[0];if(e&&e.list&&e.list.length){var r=e.list.map(function(t,e){return{label:t.debitCode+"-"+t.debitName,value:t.debitCode}});n.debitList=r}else n.debitList=[]}else n.$message.error(t.resultInfo.statusText)})},queryAdjustDebitSubjectList:function(t,e){var n=this;this.visible=!0,this.customerData=t;var r={customerId:t.curCustomerId,projectId:t.curProjectId,yyyy:t.curAccYear,colCode:e};this.$sacpApis.queryAdjustDebitSubjectList(a()(r)).then(function(t){if(t.success){var e=t.data[0];if(e&&e.list&&e.list.length){var r=e.list.map(function(t,e){return{label:t.debitCode+"-"+t.debitName,value:t.debitCode}});n.debitList=r}else n.debitList=[]}else n.$message.error(t.resultInfo.statusText)})},debitChange:function(){var t=this.customerData,e={customerId:t.curCustomerId,projectId:t.curProjectId,yyyy:t.curAccYear,colCode:this.colCode,debitCode:this.form.debit};this.adjustSubject?this.queryAdjustCreditSubjectList(e):this.queryRestoreCreditSubjectList(e)},queryRestoreCreditSubjectList:function(t){var e=this;this.$sacpApis.queryRestoreCreditSubjectList(a()(t)).then(function(t){if(t.success){var n=t.data[0];n&&n.list&&n.list.length?e.creditListHander(n):e.creditList=[]}else e.$message.error(t.resultInfo.statusText)})},queryAdjustCreditSubjectList:function(t){var e=this;this.$sacpApis.queryAdjustCreditSubjectList(a()(t)).then(function(t){if(t.success){var n=t.data[0];n&&n.list&&n.list.length?e.creditListHander(n):e.creditList=[]}else e.$message.error(t.resultInfo.statusText)})},queryRestoreEnteyInfo:function(t){var e=this,n=this.customerData,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,colCode:this.colCode,debitCode:this.form.debit,creditCode:this.form.credit};this.$sacpApis.queryRestoreEnteyInfo(a()(r)).then(function(n){if(n.success){var r=n.data;if(r&&r[0]){var a="批量还原凭证分录"+r[0].num+"个，涉及金额"+r[0].value+"元，请确认是否还原？";e.$confirm({title:"提示",content:a,onOk:function(){e.updateSubjectEntryByBatchRestore(t)},onCancel:function(){},class:"test"})}}else e.$message.error(n.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},queryAdjustEnteyInfo:function(t){var e=this,n=this.customerData,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,colCode:this.colCode,debitCode:this.form.debit,creditCode:this.form.credit};this.$sacpApis.queryAdjustEnteyInfo(a()(r)).then(function(n){if(n.success){var r=n.data;if(r&&r[0]){var a="批量调整凭证分录"+r[0].num+"个，涉及金额"+r[0].value+"元，请确认是否调整？";e.$confirm({title:"提示",content:a,onOk:function(){e.updateSubjectEntryByBatchAdjust(t)},onCancel:function(){},class:"test"})}}else e.$message.error(n.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},creditListHander:function(t){var e=t.list.map(function(t,e){return{label:t.creditCode+"-"+t.creditName,value:t.creditCode}});this.creditList=e},cancel:function(){this.form.credit="",this.form.debit="",this.form.otherReportCode="",this.visible=!1,this.$refs.form.resetFields()}},created:function(){}},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("drag-modal",{attrs:{width:t.showTable?"90%":"50%",visible:t.visible,title:t.title,confirmLoading:t.confirmLoading},on:{ok:t.handleOk,cancel:t.cancel}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-form-model",{ref:"form",attrs:{rules:t.rules,layout:"inline",model:t.form}},[n("a-form-model-item",[t._v(t._s(t.subjectName+":"+t.colDisp)+"\n            ")]),t._v(" "),n("a-form-model-item",{attrs:{prop:"debit",label:"借方科目:"}},[n("a-select",{staticStyle:{width:"194px"},attrs:{placeholder:"请选择借方科目","allow-clear":""},on:{change:t.debitChange},model:{value:t.form.debit,callback:function(e){t.$set(t.form,"debit",e)},expression:"form.debit"}},t._l(t.debitList,function(e,r){return n("a-select-option",{key:r,attrs:{value:e.value}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}),1)],1),t._v(" "),n("a-form-model-item",{attrs:{prop:"credit",label:"贷方科目:"}},[n("a-select",{staticStyle:{width:"194px"},attrs:{placeholder:"请选择贷方科目","allow-clear":""},model:{value:t.form.credit,callback:function(e){t.$set(t.form,"credit",e)},expression:"form.credit"}},t._l(t.creditList,function(e,r){return n("a-select-option",{key:r,attrs:{value:e.value}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}),1)],1)],1),t._v(" "),n("a-form-model",{ref:"form",attrs:{rules:t.rules,layout:"inline",model:t.form}},[t.adjustSubject?n("a-form-model-item",{attrs:{prop:"otherReportCode",label:"调整后项目:"}},[n("a-select",{staticStyle:{width:"600px"},attrs:{placeholder:"调整至其他报表科目","allow-clear":"",dropdownMatchSelectWidth:!1},on:{change:t.getSelect},model:{value:t.form.otherReportCode,callback:function(e){t.$set(t.form,"otherReportCode",e)},expression:"form.otherReportCode"}},t._l(t.reportItemList,function(e){return n("a-select-option",{key:e.colCode,class:"in"==e.property?"in":"out"==e.property?"out":"",attrs:{value:e.colCode}},[t._v("\n                        "+t._s(e.colDisp)+"\n                    ")])}),1)],1):t._e()],1)],1)],1)},staticRenderFns:[]},Y=[{title:"借方科目",dataIndex:"debitAccountName",key:"debitAccountName",width:180,fixed:"left",scopedSlots:{customRender:"debitAccountName"}},{title:"贷方科目",dataIndex:"creditAccountName",key:"creditAccountName",width:180,fixed:"left",scopedSlots:{customRender:"creditAccountName"}},{title:"金额",key:"remain",dataIndex:"remain",align:"right",width:180,scopedSlots:{customRender:"remain"}},{title:"数量",key:"remainNum",dataIndex:"remainNum",align:"right",width:100,scopedSlots:{customRender:"remainNum"}},{title:"In金额",key:"flowIn",dataIndex:"flowIn",align:"right",width:180,scopedSlots:{customRender:"flowIn"}},{title:"In数量",key:"flowInNum",dataIndex:"flowInNum",align:"right",width:100,scopedSlots:{customRender:"flowInNum"}},{title:"Out金额",key:"flowOut",dataIndex:"flowOut",align:"right",width:180,scopedSlots:{customRender:"flowOut"}},{title:"Out数量",key:"flowOutNum",dataIndex:"flowOutNum",align:"right",width:100,scopedSlots:{customRender:"flowOutNum"}},{title:"调整后金额",key:"balance",dataIndex:"balance",align:"right",width:200,scopedSlots:{customRender:"balance"}},{title:"调整后数量",key:"balanceNum",dataIndex:"balanceNum",align:"right",width:130,scopedSlots:{customRender:"balanceNum"}},{title:"操作",key:"action",dataIndex:"action",width:180,scopedSlots:{customRender:"action"}}],P={name:"right",components:{detailsModel:n("VU/8")(E,R,!1,function(t){n("Q0TJ")},"data-v-6b98f215",null).exports,batchAdjustment:n("VU/8")($,z,!1,null,null,null).exports},computed:{nextStep:function(){return this.$store.state.nextStep}},props:["offsetHeight"],data:function(){return this.XEUtils=s.a,{columns:Y,data:[],customerData:{},colCode:"",colDisp:"",record:{},footerTotalData:[],loading:!1}},methods:{dataChange:function(t){var e=t.footerData,n=t.list;this.data=n,this.footerTotalData=e},getLeftTable:function(t){var e=t.data,n=t.sumRowData,r=t.list;this.$emit("getLeftTable",e),this.footerTotalData=n,this.data=r},showModel:function(t,e){this.$refs.detailsModel.show({row:t,type:e,customerData:this.customerData,colCode:this.record.colCode})},del:function(t){if(t.flowInNum>0||t.flowOutNum>0)return this.$message.error("有调整的不能删除");var e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.record.colCode,autoId:t.autoId},n=this;this.$confirm({title:"提示",content:"确定要删除吗？",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){n.$sacpApis.deleteCashFlowStatement(a()(e)).then(function(t){t.success?(n.data=t.data[0].list,n.footerTotalData=t.data[0].sumRowData,n.$message.success("操作成功"),n.$emit("getLeftTable",t.data[0].auditlist)):n.$message.error(t.resultInfo.statusText)})},onCancel:function(){console.log("Cancel")}})},getCashFlowStatement:function(t,e,n){var r=this;sessionStorage.setItem("getCashFlowStatementParam",a()({record:t,customerData:e,refreshFlg:n})),this.customerData=e||this.customerData,this.record=t||this.record,this.colCode=this.record.colCode,this.colDisp=this.record.colDisp;var i={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.record.colCode};this.loading=!0,this.$sacpApis.getCashFlowStatement(a()(i),n).then(function(t){t.success?(r.loading=!1,r.data=t.data[0].list,r.footerTotalData=t.data[0].sumRowData):r.$message.error(t.resultInfo.statusText)})},queryAuditCashFlowList:function(t){if(!f()(this.customerData).length||!this.colCode)return this.$message.error("请先选择现金流量表项目，再点击批量还原或批量调整!");this.$refs.batchAdjustment.queryReportItemList(this.customerData,this.colCode,t)},refreshGetCashFlowStatement:function(){var t=sessionStorage.getItem("getCashFlowStatementParam"),e=JSON.parse(t),n=e.record,r=e.customerData,a=e.refreshFlg;this.getCashFlowStatement(n,r,a)},onScroll:function(t){var e=this.$refs.totalTable.$el.querySelectorAll(".ant-table-body"),n=this.$refs.tableList.$el.querySelectorAll(".ant-table-body");console.loh,e[0].addEventListener("scroll",function(){n[0].scrollLeft=e[0].scrollLeft},!0)},handlerTag:function(t,e){return"string"==typeof t?t.lastIndexOf("(受限)")>-1?1===e?"(受限)":t.slice(0,t.length-4):1===e?"":t:t},adjustmentSummary:function(){this.$emit("queryCashFlowOneSummary",this.colCode)}},mounted:function(){this.$store.dispatch("getCashFlowStatement",this.getCashFlowStatement),this.onScroll()}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"top"},[n("div",[n("div",{staticClass:"btnList"}),t._v(" "),n("div",{staticClass:"rightMessage"},[t._v(t._s(t.colDisp))])]),t._v(" "),n("div",[n("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.queryAuditCashFlowList(!0)}}},[t._v("\n                批量调整")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.queryAuditCashFlowList(!1)}}},[t._v("\n                批量还原")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.adjustmentSummary}},[t._v("调整汇总")])],1)]),t._v(" "),n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{ref:"tableList",attrs:{scroll:{x:"calc(100vx - 530px)",y:t.offsetHeight-30},pagination:!1,columns:t.columns,id:"tableList","row-key":function(t,e){return""+e},"data-source":t.data},scopedSlots:t._u([{key:"creditAccountName",fn:function(e,r){return n("div",{},[t._v("\n                "+t._s(t.handlerTag(e,0))+"\n                "),t.handlerTag(e,1)?n("a-tag",{attrs:{color:"red"}},[t._v("\n                    "+t._s(t.handlerTag(e,1))+"\n                ")]):t._e()],1)}},{key:"debitAccountName",fn:function(e,r){return n("div",{},[t._v("\n                "+t._s(t.handlerTag(e,0))+"\n                "),t.handlerTag(e,1)?n("a-tag",{attrs:{color:"red"}},[t._v("\n                    "+t._s(t.handlerTag(e,1))+"\n                ")]):t._e()],1)}},{key:"remain",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                "+t._s(t.XEUtils.commafy(r.remain,{digits:2}))+"\n            ")])}},{key:"remainNum",fn:function(e,r){return n("div",{},[n("a",{staticClass:"clickA",style:{color:r.remainNum>0&&"#1890ff"},on:{click:function(e){return t.showModel(r,1)}}},[t._v(t._s(r.remainNum))])])}},{key:"flowIn",fn:function(e,r){return n("div",{},[t._v("\n                "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n            ")])}},{key:"flowInNum",fn:function(e,r){return n("div",{},[n("a",{staticClass:"clickA",style:{color:r.flowInNum>0&&"#1890ff"},on:{click:function(e){return t.showModel(r,2)}}},[t._v(t._s(r.flowInNum))])])}},{key:"flowOut",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                "+t._s(t.XEUtils.commafy(r.flowOut,{digits:2}))+"\n            ")])}},{key:"flowOutNum",fn:function(e,r){return n("div",{},[n("a",{staticClass:"clickA",style:{color:r.flowOutNum>0&&"#1890ff"},on:{click:function(e){return t.showModel(r,3)}}},[t._v(t._s(r.flowOutNum))])])}},{key:"balance",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                "+t._s(t.XEUtils.commafy(r.balance,{digits:2}))+"\n            ")])}},{key:"balanceNum",fn:function(e,r){return n("div",{},[n("a",{staticClass:"clickA",style:{color:r.balanceNum>0&&"#1890ff"},on:{click:function(e){return t.showModel(r,4)}}},[t._v(t._s(r.balanceNum))])])}},{key:"action",fn:function(e,r){return n("div",{},[n("a",{attrs:{type:"primary"},on:{click:function(e){return t.showModel(r,5)}}},[t._v("编辑")])])}},{key:"footer",fn:function(e){return[n("a-table",{directives:[{name:"show",rawName:"v-show",value:t.footerTotalData&&t.footerTotalData.length,expression:"footerTotalData && footerTotalData.length"}],ref:"totalTable",attrs:{id:"totalTable",bordered:!1,pagination:!1,columns:t.columns,"data-source":t.footerTotalData,showHeader:!1,scroll:{x:"calc(100vx - 530px)",y:t.offsetHeight-30},"row-key":function(t,e){return""+e}},scopedSlots:t._u([{key:"remain",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                        "+t._s(t.XEUtils.commafy(r.remain,{digits:2}))+"\n                    ")])}},{key:"flowIn",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                        "+t._s(t.XEUtils.commafy(r.flowIn,{digits:2}))+"\n                    ")])}},{key:"flowOut",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                        "+t._s(t.XEUtils.commafy(r.flowOut,{digits:2}))+"\n                    ")])}},{key:"balance",fn:function(e,r){return n("div",{staticClass:"textR"},[t._v("\n                        "+t._s(t.XEUtils.commafy(r.balance,{digits:2}))+"\n                    ")])}}],null,!0)})]}}])})],1),t._v(" "),n("details-model",{ref:"detailsModel",attrs:{colDisp:t.colDisp},on:{getLeftTable:t.getLeftTable}}),t._v(" "),n("batch-adjustment",{ref:"batchAdjustment",attrs:{colDisp:t.colDisp},on:{refreshGetCashFlowStatement:t.refreshGetCashFlowStatement}})],1)},staticRenderFns:[]};var V=n("VU/8")(P,F,!1,function(t){n("JXOY")},"data-v-c6436e4e",null).exports,U=n("K/T8"),q=[{dataIndex:"sign",width:60,title:"标记",key:"sign",fixed:"left",align:"center",slots:{title:"sign"},scopedSlots:{customRender:"sign"}},{dataIndex:"subjectId",title:"科目编号",key:"subjectId",width:100,fixed:"left",slots:{title:"subjectId"},scopedSlots:{customRender:"subjectId"}},{dataIndex:"subjectName",title:"科目名称",key:"subjectName",width:250,fixed:"left",slots:{title:"subjectName"},scopedSlots:{customRender:"subjectName"}},{dataIndex:"assItemId",title:"核算项编号",key:"assItemId",width:120,fixed:"left",slots:{title:"assItemId"},scopedSlots:{customRender:"assItemId"}},{dataIndex:"assItemName",title:"核算项名称",key:"assItemName",width:250,fixed:"left",slots:{title:"assItemName"},scopedSlots:{customRender:"assItemName"}},{title:"期初余额",key:"remain",dataIndex:"remain",width:150,align:"right",customRender:U.b.commafy},{title:"借方发生额",key:"debitOcc",dataIndex:"debitOcc",width:150,align:"right",customRender:U.b.commafy},{title:"贷方发生额",key:"creditOcc",dataIndex:"creditOcc",width:150,align:"right",customRender:U.b.commafy},{title:"期末余额",key:"balance",dataIndex:"balance",width:150,align:"right",scopedSlots:{customRender:"balance"},customRender:U.b.commafy},{dataIndex:"startDate",title:"开始日期",key:"startDate",width:200,slots:{title:"startDate"},scopedSlots:{customRender:"startDate"}},{dataIndex:"endDate",title:"结束日期",key:"endDate",width:200,slots:{title:"endDate"},scopedSlots:{customRender:"endDate"}},{dataIndex:"action",title:"操作",key:"action",width:120,slots:{title:"action"},scopedSlots:{customRender:"action"}}],B={name:"choiceModel",components:{},computed:{},watch:{},data:function(){return{moment:A.a,visible:!1,data:[],visible1:!1,columns:q,changeType:0,treeData1:[],treeData2:[],checkedKeys1:[],checkedKeys2:[],subjectId:"",visible2:!1,dateChangeType:0,changeDate:null,autoId:"",defaultPickerValue:[],userinfo:{},getTime:"",customerData:[],loading:!1,visible3:!1}},methods:{saveCashEuivalentsDate:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,autoId:this.autoId};this.changeDate&&this.changeDate.length?(e.startDate=A()(this.changeDate[0]).format("YYYY-MM-DD"),e.endDate=A()(this.changeDate[1]).format("YYYY-MM-DD")):(e.startDate="",e.endDate=""),this.$confirm({title:"提示",content:"请确认是否     要设置"+("1"===this.dateChangeType?"受限":"正常")+"日期？",onOk:function(){t.loading=!0,t.$sacpApis.saveCashEuivalentsDate(a()(e)).then(function(e){e.success?(t.loading=!1,t.$message.success("操作成功"),t.visible1=!1,t.visible2=!1,e.data&&e.data.length?t.data=e.data[0].list:t.data=[]):t.$message.error(e.resultInfo.statusText)})},onCancel:function(){console.log("Cancel")},class:"test"})},disabledDate:function(t){return new Date(t).getFullYear()!=this.customerData.curAccYear},dateChange:function(t){this.autoId=t.autoId,this.dateChangeType=t.sign,this.visible2=!0,t.startDate&&t.endDate&&(this.changeDate=[A()(t.startDate).format("YYYY-MM-DD"),A()(t.endDate).format("YYYY-MM-DD")])},handleOk:function(){1==this.changeType?this.visible3=!0:this.updateCashEuivalentsAccount()},updateCashEuivalentsAccount:function(){var t=this;if(!this.checkedKeys1[0])return this.$message.error("请选择现金等价科目");var e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,btnType:this.changeType,params:[{subjectId:this.checkedKeys1[0].split("-")[0],subjectName:this.checkedKeys1[0].split("-")[1],assItemId:this.checkedKeys2[0]&&this.checkedKeys2[0].split(":")[0],assItemName:this.checkedKeys2[0]&&this.checkedKeys2[0].split(":")[1]}]};1==this.changeType?(e.startDate=A()(this.changeDate[0]).format("YYYY-MM-DD"),e.endDate=A()(this.changeDate[1]).format("YYYY-MM-DD")):(delete e.startDate,delete e.endDate),this.$confirm({title:"提示",content:"是否要进行现金及现金等价物科目("+(0===this.changeType?"添加":"受限")+")操作",onOk:function(){t.$sacpApis.updateCashEuivalentsAccount(a()(e)).then(function(e){e.success?(t.visible3=!1,t.$message.success("操作成功"),t.data=e.data[0].list,t.visible1=!1):t.$message.error(e.resultInfo.statusText)})},onCancel:function(){console.log("Cancel")},class:"test"})},onSelect2:function(t){this.checkedKeys2=t,this.onCheck2(t)},onCheck2:function(t){console.log(t),t.length>0?this.changeDisabled(this.treeData2,!0,t[0]):this.changeDisabled(this.treeData2,!1,null)},onSelect:function(t){this.onCheck({checked:t})},onCheck:function(t){var e=this;if(this.checkedKeys2=[],this.treeData2=[],this.checkedKeys1=t.checked,t.checked.length>0?this.changeDisabled(this.treeData1,!0,t.checked[0]):this.changeDisabled(this.treeData1,!1,null),t.checked[0]){this.subjectId=t.checked[0].split("-")[0];var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,subjectId:t.checked[0].split("-")[0]};this.$sacpApis.queryAssitemTreeBySubject(a()(n)).then(function(t){t.success?(t.data[0].list.map(function(t){t.isLeaf=null}),e.treeData2=t.data[0].list,console.log(t)):e.$message.error(t.resultInfo.statusText)})}},changeDisabled:function(t,e,n){var r=this;t.map(function(t){t.title!==n&&(t.disabled=e),t.children&&r.changeDisabled(t.children,e,n)})},delItem:function(t){var e=this;this.$confirm({title:"提示",content:"是否要删除这一科目？",onOk:function(){console.log(t);var n={customerId:e.customerData.curCustomerId,projectId:e.customerData.curProjectId,yyyy:e.customerData.curAccYear,autoId:t.autoId};e.$sacpApis.deleteCashEuivalentsAccount(a()(n)).then(function(t){t.success?(e.$message.success("操作成功"),e.data=t.data[0].list):e.$message.error(t.resultInfo.statusText)})},onCancel:function(){console.log("Cancel")},class:"test"})},changeItems:function(t){var e=this;this.treeData1=[],this.treeData2=[],this.checkedKeys1=[],this.checkedKeys2=[],this.changeType=t,this.visible1=!0;var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.loading=!0,this.$sacpApis.querySubjectTree(a()(n)).then(function(t){t.success?(e.loading=!1,e.treeData1=t.data[0].list):e.$message.error(t.resultInfo.statusText)})},onChange:function(t){var e=this;this.checkedKeys2=[];var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,subjectId:this.subjectId,searchText:t.target.value};this.$sacpApis.queryAssitemTreeBySubject(a()(n)).then(function(t){t.success?(t.data[0].list.map(function(t){t.isLeaf=null}),e.treeData2=t.data[0].list,console.log(t)):e.$message.error(t.resultInfo.statusText)})},show:function(t){var e=this;this.visible=!0,this.customerData=t;var n=t.curCustomerId,r=t.curProjectId,i=t.curAccYear,o=[A()(i+"-01-01").format("YYYY-MM-DD"),A()(i+"-12-31").format("YYYY-MM-DD")];this.defaultPickerValue=o,Array.isArray(this.changeDate)&&!this.changeDate.length&&(this.changeDate=o);var s={customerId:n,projectId:r,yyyy:i};this.$sacpApis.getCashEuivalentsAccount(a()(s)).then(function(t){t.success?(e.data=t.data[0].list,e.getTime=t.data[0].time):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},updateCashEuivalents:function(){var t=this,e=this.customerData,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear};this.$sacpApis.updateCashEuivalents(n).then(function(e){e.success?(t.data=e.data[0].list,t.getTime=e.data[0].time):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})}},mounted:function(){this.userinfo=i.a.findUserInfo()},created:function(){}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("drag-modal",{staticClass:"objectSet",attrs:{width:"80%",visible:t.visible,title:"现金及现金等价物科目设置",footer:!1},on:{cancel:function(){return t.visible=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("div",{staticClass:"btnList"},[n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateCashEuivalents()}}},[t._v("获取财务数据  "+t._s(t.getTime))]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeItems(0)}}},[t._v("添加")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeItems(1)}}},[t._v("受限")])],1),t._v(" "),n("a-table",{attrs:{scroll:{y:500,x:"scollXWidth"},columns:t.columns,pagination:!1,"row-key":function(t,e){return""+e},"data-source":t.data},scopedSlots:t._u([{key:"sign",fn:function(t,e){return n("div",{},["1"===e.sign?n("span",[n("a-icon",{staticStyle:{color:"red"},attrs:{type:"close-circle"}})],1):n("span",[n("a-icon",{staticStyle:{color:"lime"},attrs:{type:"check-circle"}})],1)])}},{key:"action",fn:function(e,r){return n("div",{},[n("a",{on:{click:function(e){return t.delItem(r)}}},[t._v("删除")]),t._v(" "),"1"===r.sign?n("a",{on:{click:function(e){return t.dateChange(r)}}},[t._v("设置")]):t._e()])}}])})],1),t._v(" "),n("drag-modal",{attrs:{width:"80%",visible:t.visible1,title:"现金及现金等价物科目("+(0===t.changeType?"添加":"受限")+")"},on:{cancel:function(){return t.visible1=!1},ok:t.handleOk}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("div",{attrs:{id:"visible1"}},[n("div",{staticStyle:{float:"left",width:"50%","max-height":"300px",overflow:"auto"}},[n("a-tree",{attrs:{checkable:"",multiple:!1,checkStrictly:!0,"tree-data":t.treeData1,replaceFields:{children:"children",title:"title",key:"title"}},on:{select:t.onSelect,check:t.onCheck},model:{value:t.checkedKeys1,callback:function(e){t.checkedKeys1=e},expression:"checkedKeys1"}})],1),t._v(" "),n("div",{staticStyle:{width:"50%","max-height":"300px",overflow:"hidden"}},[t.checkedKeys1.length>0?n("a-input-search",{staticStyle:{"margin-bottom":"8px"},attrs:{placeholder:"搜索"},on:{change:t.onChange}}):t._e(),t._v(" "),n("div",{staticStyle:{"max-height":"268px",overflow:"auto"}},[n("a-tree",{attrs:{checkable:"","tree-data":t.treeData2,replaceFields:{children:"children",title:"title",key:"title"}},on:{select:t.onSelect2,check:t.onCheck2},model:{value:t.checkedKeys2,callback:function(e){t.checkedKeys2=e},expression:"checkedKeys2"}})],1)],1)])])],1),t._v(" "),n("drag-modal",{attrs:{width:"430px",visible:t.visible2,title:"设置"+("1"===t.dateChangeType?"受限":"正常")+"时间"},on:{cancel:function(){return t.visible2=!1},ok:t.saveCashEuivalentsDate}},[t.visible2?n("a-range-picker",{attrs:{"disabled-date":t.disabledDate,format:"YYYY-MM-DD",defaultPickerValue:t.defaultPickerValue},model:{value:t.changeDate,callback:function(e){t.changeDate=e},expression:"changeDate"}}):t._e()],1),t._v(" "),n("drag-modal",{attrs:{width:"430px",visible:t.visible3,title:"设置受限时间"},on:{cancel:function(){return t.visible3=!1},ok:t.updateCashEuivalentsAccount}},[t.visible3?n("a-range-picker",{attrs:{"disabled-date":t.disabledDate,format:"YYYY-MM-DD",defaultPickerValue:t.defaultPickerValue},model:{value:t.changeDate,callback:function(e){t.changeDate=e},expression:"changeDate"}}):t._e()],1)],1)},staticRenderFns:[]};var X=n("VU/8")(B,W,!1,function(t){n("xdrL")},"data-v-aa2e199a",null).exports,Q={name:"addAccountModel",components:{},computed:{},watch:{},data:function(){return{visible1:!1,visible:!1,data:[],colCode:"",customerData:{},treeData:[{showLabel:"借：",key:"借：",children:[]},{showLabel:"贷：",key:"贷：",children:[]}],replaceFields:{children:"children",title:"showLabel",key:"subjectId"},modelData:[]}},methods:{handleCancel:function(){this.visible=!1},empty:function(){this.modelData=[]},selectAll:function(){var t=this;this.modelData=[],this.treeData.map(function(e){t.modelData.push(e.subjectId),e.children.map(function(e){t.modelData.push(e.subjectId)})})},onCheck:function(t,e){},show:function(t,e){var n=this;this.visible1=!1,this.customerData=e,this.colCode=t,this.modelData=[],this.visible=!0;var r={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode};this.$sacpApis.queryOffsetAccount(a()(r)).then(function(t){if(t.success){n.visible1=!0;var e=[],r=0;t.data[0].list.map(function(t){var n=[];t.children.map(function(e){for(var r in e)n.push({subjectId:t.label+"-"+r+"-"+e[r],showLabel:r+"-"+e[r]})}),n.length<1||(e[r]={},e[r].subjectId=r,e[r].showLabel=t.label,e[r].children=n,r++)}),n.treeData=e}else n.$message.error(t.resultInfo.statusText)}).catch(function(t){n.$message.error(t)})},handleOk:function(){var t={debit:[],credit:[]};this.modelData.map(function(e){var n=(e+"").split("-"),r=null;if("借："===n[0])r="debit";else{if("贷："!==n[0])return;r="credit"}t[r].push({subjectId:n[1],subjectName:n[2]})});var e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:this.colCode,params:t},n=this;this.$confirm({title:"提示",content:"确认添加科目吗？",onOk:function(){n.$sacpApis.updateOffsetAccount(a()(e)).then(function(t){t.success?(n.$message.success("添加科目成功"),n.$emit("getLeftTable",t.data[0].auditlist),n.$emit("dataChange",{data:t.data[0].list,footerData:t.data[0].sumRowData}),n.visible=!1):n.$message.error(t.resultInfo.statusText)}).catch(function(t){n.$message.error(t)})},onCancel:function(){console.log("Cancel")},class:"test"})}},created:function(){}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("drag-modal",{attrs:{width:"80%",visible:t.visible,title:"添加科目"},on:{cancel:function(){return t.visible=!1},ok:t.handleOk},scopedSlots:t._u([{key:"footer",fn:function(){return[n("a-button",{key:"selectAll",on:{click:t.selectAll}},[t._v("全选")]),t._v(" "),n("a-button",{key:"empty",on:{click:t.empty}},[t._v("清空")]),t._v(" "),n("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),n("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("确定")])]},proxy:!0}])},[n("div",{staticStyle:{"max-height":"390px",overflow:"auto"}},[t.visible1?n("a-tree",{attrs:{checkable:"","tree-data":t.treeData,defaultExpandAll:!0,autoExpandParent:!0,defaultExpandedKeys:["借：","贷："],"replace-fields":t.replaceFields},on:{check:t.onCheck},model:{value:t.modelData,callback:function(e){t.modelData=e},expression:"modelData"}}):t._e()],1)])},staticRenderFns:[]};var H=n("VU/8")(Q,K,!1,function(t){n("wCXz")},"data-v-98e7551e",null).exports,Z=n("pFYg"),G=n.n(Z),J=n("Gu7T"),tt=n.n(J),et=n("bOdI"),nt=n.n(et),rt=[{dataIndex:"vchDate",title:"凭证日期",key:"vchDate",width:120,slots:{title:"vchDate"},scopedSlots:{customRender:"vchDate"}},{dataIndex:"typeId",title:"字",width:60,key:"typeId",slots:{title:"typeId"},scopedSlots:{customRender:"typeId"}},{dataIndex:"oldVoucherId",title:"号",width:200,key:"oldVoucherId",ellipsis:!0,slots:{title:"oldVoucherId"},scopedSlots:{customRender:"oldVoucherId"}},{dataIndex:"subjectName",title:"借方科目",key:"subjectName",width:300,ellipsis:!0,slots:{title:"subjectName"},scopedSlots:{customRender:"subjectName"}},{dataIndex:"oppoSubjectName",width:300,title:"贷方科目",key:"oppoSubjectName",ellipsis:!0,slots:{title:"oppoSubjectName"},scopedSlots:{customRender:"oppoSubjectName"}},{dataIndex:"summary",width:200,title:"摘要",key:"summary",ellipsis:!0,slots:{title:"summary"},scopedSlots:{customRender:"summary"}},{dataIndex:"num",width:160,title:"金额",align:"right",key:"num",fixed:"right",slots:{title:"num"},scopedSlots:{customRender:"num"}}],at={data:function(){var t=this;return{XEUtils:s.a,columns:rt,row:{},type:1,customerData:{},data:[],footerTotalData:[],start:0,limit:10,pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.pagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.start=e-1,t.limit=n,t.pagination.pageSize=n,t.queryRelevantEntrys(t.row,t.type,t.customerData)},onChange:function(e,n){t.start=(e-1)*n,t.limit=t.pagination.pageSize,t.pagination.current=e,t.queryRelevantEntrys(t.row,t.type,t.customerData)}}}},methods:{queryRelevantEntrys:function(t,e,n){var r=this;this.row=t,this.type=e,this.customerData=n;var i={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,autoId:t.autoId,dataType:e,limit:this.limit,start:this.start};this.$emit("loadingState",!0),this.$sacpApis.queryRelevantEntrys(a()(i)).then(function(t){if(t.success){r.$emit("loadingState",!1);var e=t.data;if(e&&e[0]&&e[0].list){r.data=e[0].list;var n=e[0].sumRowData[0],a=(n.creditValue,n.debitValue,n.subjectName),i=n.occurValue;r.footerTotalData=[{subjectName:a,num:i}]}else r.data=[],r.footerTotalData=[];r.pagination.total=t.totalCount}else r.$message.error(t.resultInfo.statusText)})},onScroll:function(t){var e=this.$refs.totalTable.$el.querySelectorAll(".ant-table-body"),n=this.$refs.tableList2.$el.querySelectorAll(".ant-table-body");e[0].addEventListener("scroll",function(){n[0].scrollLeft=e[0].scrollLeft},!0)}},mounted:function(){var t=this;this.$nextTick(function(){t.onScroll()})}},it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-table",{ref:"tableList2",attrs:{scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},columns:t.columns,pagination:t.pagination,"data-source":t.data,id:"tableList2"},scopedSlots:t._u([{key:"occurValue",fn:function(e,n){return[t._v("\n        "+t._s(1===n.direction?t.XEUtils.commafy(n.occurValue,{digits:2}):t.XEUtils.commafy(0,{digits:2}))+"\n    ")]}},{key:"num",fn:function(e,n){return[t._v("\n        "+t._s(t.XEUtils.commafy(n.occurValue,{digits:2}))+"\n    ")]}},{key:"footer",fn:function(e){return[n("a-table",{directives:[{name:"show",rawName:"v-show",value:t.footerTotalData&&t.footerTotalData.length,expression:"footerTotalData && footerTotalData.length"}],ref:"totalTable",attrs:{id:"totalTable",bordered:!1,pagination:!1,columns:t.columns,"data-source":t.footerTotalData,showHeader:!1,scroll:{y:300,x:"scollXWidth"},"row-key":"id"},scopedSlots:t._u([{key:"occurValue",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(n.occurValue,{digits:2}))+"\n            ")]}},{key:"num",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n            ")]}}],null,!0)})]}}])})},staticRenderFns:[]};var ot=n("VU/8")(at,it,!1,function(t){n("Iehi")},"data-v-0fe844ad",null).exports,st={name:"unContrastModal",components:{tableSum:ot},computed:{},watch:{},data:function(){var t;return this.XEUtils=s.a,t={loading:!1,visible2:!1,visible:!1,data:[],customerData:{},columns:[{dataIndex:"debitAccountCode",width:140,title:"借方科目",key:"debitAccountCode",slots:{title:"debitAccountCode"},scopedSlots:{customRender:"debitAccountCode"}},{dataIndex:"creditAccountCode",width:140,title:"贷方科目",key:"creditAccountCode",slots:{title:"creditAccountCode"},scopedSlots:{customRender:"creditAccountCode"}},{dataIndex:"positiveAmount",title:"正值金额",align:"right",key:"positiveAmount",width:200,slots:{title:"positiveAmount"},scopedSlots:{customRender:"positiveAmount"}},{dataIndex:"negativeAmount",title:"负值金额",align:"right",width:200,key:"negativeAmount",slots:{title:"negativeAmount"},scopedSlots:{customRender:"negativeAmount"}},{dataIndex:"amount",width:200,title:"金额",key:"amount",align:"right",slots:{title:"amount"},scopedSlots:{customRender:"amount"}},{dataIndex:"action",title:"操作",key:"action",width:64,slots:{title:"action"},scopedSlots:{customRender:"action"}}]},nt()(t,"customerData",{}),nt()(t,"visible1",!1),nt()(t,"visible1Title",""),nt()(t,"treeData",[]),nt()(t,"checkedKeys",[]),nt()(t,"autoId",""),nt()(t,"formInline",{colDisp:""}),t},methods:{showDetailed:function(t,e){var n=this;this.visible2=!0,this.loading=!0,this.$nextTick(function(){n.$refs.tableSum.queryRelevantEntrys(t,e,n.customerData)})},handleOk:function(){var t=this;if(!this.checkedKeys[0])return this.$message.error("请选择现金等价科目");var e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,autoId:this.autoId,colCode:this.checkedKeys[0].split("-")[0],colDisp:this.checkedKeys[0].split("-")[1]};this.$confirm({title:"提示",content:"是否确认对照？",onOk:function(){t.loading=!0,t.$sacpApis.updateCashFlowSubjectNonContrast(a()(e)).then(function(e){e.success?(t.loading=!1,t.visible1=!1,t.$refs.form.resetFields(),t.$message.success("操作成功"),t.data=e.data[0].list,t.afterClose()):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},onCancel:function(){console.log("Cancel")},class:"test"})},onSelect:function(t){this.onCheck({checked:t})},onCheck:function(t){this.checkedKeys=t.checked,t.checked.length>0?this.changeDisabled(this.treeData,!0,t.checked[0]):this.changeDisabled(this.treeData,!1,null)},changeDisabled:function(t,e,n){var r=this;t.map(function(t){t.title!==n&&(t.disabled=e),t.children&&r.changeDisabled(t.children,e,n)})},contrast:function(t){var e=this;this.treeData=[],this.checkedKeys=[],t&&sessionStorage.setItem("contrast",a()(t));var n=JSON.parse(sessionStorage.getItem("contrast"));this.autoId=n.autoId,this.visible1=!0,console.log(t),this.visible1Title="选择对照科目(借："+n.debitAccountName+" 贷："+n.creditAccountName+")";var r={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colDisp:this.formInline.colDisp};this.$sacpApis.queryReportItemList(a()(r)).then(function(t){if(t.success){var n=t.data;n&&n[0]&&n[0].list?(n[0].list.map(function(t){t.title=t.colCode+"-"+t.colDisp,t.scopedSlots={title:"custom"}}),e.treeData=n[0].list):e.treeData=[]}else e.$message.error(t.resultInfo.statusText)})},cancel:function(){this.visible1=!1,this.$refs.form.resetFields()},show:function(t){var e=this;this.visible=!0,this.customerData=t;var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.loading=!0,this.$sacpApis.queryCashFlowSubjectNonContrast(a()(n)).then(function(t){t.success?(e.loading=!1,e.data=t.data[0].list,e.num=t.data[0].num,e.time=t.data[0].time):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},afterClose:function(){this.$emit("show",this.customerData)},searchSubject:function(){this.contrast()},handlerTag:function(t,e){return"string"==typeof t?t.lastIndexOf("(受限)")>-1?1===e?"(受限)":t.slice(0,t.length-4):1===e?"":t:t},loadingState:function(t){this.loading=t}},created:function(){}},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("drag-modal",{attrs:{width:"95%",afterClose:t.afterClose,footer:!1,visible:t.visible,title:"未对照科目","row-key":function(t,e){}},on:{cancel:function(){return t.visible=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{attrs:{scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},"row-key":function(t,e){},columns:t.columns,pagination:!1,"data-source":t.data},scopedSlots:t._u([{key:"debitAccountCode",fn:function(e,r){return[t._v("\n                "+t._s(e&&e+"--"+t.handlerTag(r.debitAccountName,0))+"\n                "),t.handlerTag(r.debitAccountName,1)?n("a-tag",{attrs:{color:"red"}},[t._v(t._s(t.handlerTag(r.debitAccountName,1))+"\n                ")]):t._e()]}},{key:"creditAccountCode",fn:function(e,r){return[t._v("\n                "+t._s(e&&e+"--"+t.handlerTag(r.creditAccountName,0))+"\n                "),t.handlerTag(r.creditAccountName,1)?n("a-tag",{attrs:{color:"red"}},[t._v("\n                    "+t._s(t.handlerTag(r.creditAccountName,1))+"\n                ")]):t._e()]}},{key:"positiveAmount",fn:function(e,r){return[n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,0)}}},[t._v(t._s(r.positiveAmount&&t.XEUtils.commafy(r.positiveAmount,{digits:2})))])]}},{key:"negativeAmount",fn:function(e,r){return[n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,1)}}},[t._v(t._s(r.negativeAmount&&t.XEUtils.commafy(r.negativeAmount,{digits:2})))])]}},{key:"amount",fn:function(e,r){return[n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,2)}}},[t._v("\n                    "+t._s(r.amount&&t.XEUtils.commafy(r.amount,{digits:2})))])]}},{key:"action",fn:function(e,r){return[n("a",{on:{click:function(e){return t.contrast(r)}}},[t._v("对照")])]}}],null,!1,2962848822)})],1),t._v(" "),n("drag-modal",{attrs:{width:"40%",visible:t.visible1,title:t.visible1Title},on:{cancel:t.cancel,ok:t.handleOk}},[n("a-form-model",{ref:"form",attrs:{layout:"inline",model:t.formInline}},[n("a-form-model-item",{attrs:{label:"项目:",prop:"colDisp"}},[n("a-input",{attrs:{placeholder:"请输入项目"},on:{change:t.searchSubject},model:{value:t.formInline.colDisp,callback:function(e){t.$set(t.formInline,"colDisp",e)},expression:"formInline.colDisp"}})],1)],1),t._v(" "),n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticStyle:{float:"left","max-height":"300px",overflow:"auto",width:"100%"}},[n("a-tree",{attrs:{checkable:"",multiple:!1,checkStrictly:!0,"tree-data":t.treeData,replaceFields:{children:"children",title:"title",key:"title"}},on:{select:t.onSelect,check:t.onCheck},scopedSlots:t._u([{key:"custom",fn:function(e){return[n("div",{class:"in"==e.property?"in":"out"==e.property?"out":""},[t._v("\n                                "+t._s(e.title)+"\n                            ")])]}}],null,!1,2195668511),model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}})],1)])])],1),t._v(" "),t.visible2?n("drag-modal",{attrs:{width:"80%",footer:!1,visible:t.visible2,title:"金额关联凭证"},on:{cancel:function(){return t.visible2=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("table-sum",{ref:"tableSum",on:{loadingState:t.loadingState}})],1)],1):t._e()],1):t._e()},staticRenderFns:[]};var ut={name:"unanalyzedVoucher",components:{tableSum:ot},computed:{},watch:{},data:function(){var t;return this.XEUtils=s.a,t={loading:!1,visible2:!1,visible:!1,data:[],customerData:{},columns:[{dataIndex:"debitSubjectName",width:280,title:"借方科目",key:"debitSubjectName",ellipsis:!0,slots:{title:"debitSubjectName"},scopedSlots:{customRender:"debitSubjectName"}},{dataIndex:"creditSubjectName",width:280,title:"贷方科目",key:"creditSubjectName",ellipsis:!0,slots:{title:"creditSubjectName"},scopedSlots:{customRender:"creditSubjectName"}},{dataIndex:"debitOcc",title:"借方发生额",align:"right",width:200,key:"debitOcc",slots:{title:"debitOcc"},scopedSlots:{customRender:"debitOcc"}},{dataIndex:"creditOcc",width:200,title:"贷方发生额",key:"creditOcc",align:"right",slots:{title:"creditOcc"},scopedSlots:{customRender:"creditOcc"}},{dataIndex:"action",title:"操作",key:"action",width:64,slots:{title:"action"},scopedSlots:{customRender:"action"}}]},nt()(t,"customerData",{}),nt()(t,"visible1",!1),nt()(t,"visible1Title",""),nt()(t,"treeData",[]),nt()(t,"checkedKeys",[]),nt()(t,"autoId",""),nt()(t,"formInline",{colDisp:""}),nt()(t,"adjustmentVisible",!1),nt()(t,"adjustmentTitle",""),nt()(t,"adjustmentForm",{list:[{title:"",debitSubjects:"",money:""}]}),nt()(t,"creditSubjectList",[]),nt()(t,"checkMoney",[{}]),nt()(t,"idList",[]),t},methods:{showDetailed:function(t,e){var n=this;this.visible2=!0,this.loading=!0,this.$nextTick(function(){n.$refs.tableSum.queryRelevantEntrys(t,e,n.customerData)})},handleOk:function(){var t=this;if(!this.checkedKeys[0])return this.$message.error("请选择现金等价科目");var e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,autoId:this.autoId,colCode:this.checkedKeys[0].split("-")[0],colDisp:this.checkedKeys[0].split("-")[1]};this.$confirm({title:"提示",content:"是否确认对照？",onOk:function(){t.loading=!0,t.$sacpApis.updateCashFlowSubjectNonContrast(a()(e)).then(function(e){e.success?(t.loading=!1,t.visible1=!1,t.$message.success("操作成功"),t.data=e.data[0].list):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},onCancel:function(){console.log("Cancel")},class:"test"})},onSelect:function(t){this.onCheck({checked:t})},onCheck:function(t){this.checkedKeys=t.checked,t.checked.length>0?this.changeDisabled(this.treeData,!0,t.checked[0]):this.changeDisabled(this.treeData,!1,null)},changeDisabled:function(t,e,n){var r=this;t.map(function(t){t.title!==n&&(t.disabled=e),t.children&&r.changeDisabled(t.children,e,n)})},contrast:function(t){var e=this;this.treeData=[],this.checkedKeys=[],this.autoId=t.autoId,this.visible1=!0,console.log(t),this.visible1Title="选择对照科目(借："+t.debitAccountName+" 贷："+t.creditAccountName+")";var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.loading=!0,this.$sacpApis.queryReportItemList(a()(n)).then(function(t){t.success?(e.loading=!1,t.data[0].list.map(function(t){t.title=t.colCode+"-"+t.colDisp}),e.treeData=t.data[0].list,console.log(t)):e.$message.error(t.resultInfo.statusText)})},show:function(t){var e=this;this.visible=!0,this.customerData=t;var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.loading=!0,this.$sacpApis.queryCashFlowSubjectNonContrast(a()(n)).then(function(t){t.success?(e.loading=!1,e.data=t.data[0].list,e.num=t.data[0].num,e.time=t.data[0].time):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},afterClose:function(){this.$emit("show",this.customerData)},queryCashFlowEntryNonAnalyse:function(t){var e=this;this.visible=!0,t&&(this.customerData=t);var n=this.customerData,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear};this.$sacpApis.queryCashFlowEntryNonAnalyse(r).then(function(t){if(t.success){var n=t.data[0];n&&n.list&&n.list.length?e.data=t.data[0].list:e.data=[]}else e.$message.error(t.resultInfo.statusText)})},searchSubject:function(){this.contrast()},analysis:function(){window.open(window.location.origin+"/Faith/bdologin.do?m=gotoDesktop&menuId=40000041")},adjustment:function(t){var e=t.creditOcc,n=t.debitOcc,r=t.voucherId,a=t.creditSubjectName,i=t.creditSubjects,o=t.debitSubjectName,s=t.debitSubjects;this.row=t,this.adjustmentVisible=!0,this.adjustmentTitle="调整分析(凭证号:"+r+";借:"+n+";贷:"+e+";)";var c=i.split(","),u=a.split(",").map(function(t,e){return{label:c[e]+"-"+t,value:c[e]}});this.creditSubjectList=u;var l=o.split(",");if(s.split(",").length){this.adjustmentForm.list=[];var d=[],h=[];s.split(",").forEach(function(t,e){h.push({title:t+"-"+l[e],id:t,debitSubjects:"",money:""}),d.push(t)}),this.adjustmentForm.list=h,this.idList=d}else this.adjustmentForm.list=[{title:"",debitSubjects:"",money:""}];this.getNonAnalyseAdjustEntry(r)},add:function(t,e){var n=this.creditSubjectList.length-1,r=0;if(this.adjustmentForm.list.forEach(function(e){e.title===t.title&&r++}),n>=r){var i=JSON.parse(a()(t));i.isAdd=!0,i.money="",i.debitSubjects="",this.adjustmentForm.list.splice(e+1,0,i)}},deleteRow:function(t,e){this.adjustmentForm.list.splice(e,1)},getNonAnalyseAdjustEntry:function(t){var e=this,n=this.customerData,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,voucherId:t};this.$sacpApis.getNonAnalyseAdjustEntry(a()(r)).then(function(t){t.success?t.data?e.checkMoney=t.data:e.checkMoney=[]:e.$message.error(t.resultInfo.statusText)})},adjustmentOk:function(){var t=this;!0===this.checkResult()&&this.$confirm({title:"提示",content:"是否完成调整分析？",onOk:function(){t.updateNonAnalyseAdjustEntry()},onCancel:function(){console.log("Cancel")},class:"test"})},checkResult:function(){for(var t=this,e=this.adjustmentForm.list,n=this.checkMoney[0]["借"],r=this.checkMoney[0]["贷"],a=function(r){var a=0;if(e.forEach(function(t){n[r].subjectId===t.id&&(a=s.a.add(a,t.money))}),a!==n[r].value)return t.$message.error("借方发生额填写不正确!"),{v:!1}},i=0;i<n.length;i++){var o=a(i);if("object"===(void 0===o?"undefined":G()(o)))return o.v}var c=function(n){var a=0;if(e.forEach(function(t){r[n].subjectId===t.debitSubjects&&(a=s.a.add(a,t.money))}),a!==r[n].value)return t.$message.error("贷方发生额填写不正确!"),{v:!1}};for(i=0;i<r.length;i++){var u=c(i);if("object"===(void 0===u?"undefined":G()(u)))return u.v}return!0},updateNonAnalyseAdjustEntry:function(){var t=this;this.loading=!0;var e=this.customerData,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,autoId:this.row.autoId,params:a()(this.adjustmentForm.list)};this.$sacpApis.updateNonAnalyseAdjustEntry(a()(n)).then(function(e){e.success?(t.loading=!1,t.adjustmentVisible=!1,t.$refs.ruleForm.resetFields(),t.$message.success("调整成功!"),t.queryCashFlowEntryNonAnalyse()):t.$message.error(e.resultInfo.statusText)})},adjustmentCancel:function(){this.adjustmentVisible=!1,this.$refs.ruleForm.resetFields()},validateDebitSubjects:function(t,e,n,r){if(""===e)n(new Error("不能为空!"));else{var a=this.adjustmentForm.list,i=a[r].id;a.forEach(function(t,a){t.debitSubjects===e&&i===t.id&&r!==a&&n(new Error("不能相同!"))})}},handleDebitSubjectsChange:function(t){this.$refs["debitSubjects-"+t][0].onFieldChange()},handleMoneyChange:function(t){this.$refs["money-"+t][0].onFieldChange()},unanalyzedVoucher:function(){this.visible=!1,this.$emit("refresh",!0)},loadingState:function(t){this.loading=t}},created:function(){}},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("drag-modal",{attrs:{width:"85%",afterClose:t.afterClose,footer:!1,visible:t.visible,title:"未分析凭证"},on:{cancel:t.unanalyzedVoucher}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{attrs:{scroll:{y:300,x:"scollXWidth"},"row-key":function(t,e){},columns:t.columns,pagination:!1,"data-source":t.data},scopedSlots:t._u([{key:"debitAccountCode",fn:function(e,n){return[t._v("\n                "+t._s(n.debitAccountCode&&n.debitAccountCode+"--"+n.debitAccountName)+"\n            ")]}},{key:"creditAccountCode",fn:function(e,n){return[t._v("\n                "+t._s(n.creditAccountCode&&n.creditAccountCode+"--"+n.creditAccountName)+"\n            ")]}},{key:"positiveAmount",fn:function(e,r){return[n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,0)}}},[t._v(t._s(r.positiveAmount&&t.XEUtils.commafy(r.positiveAmount,{digits:2})))])]}},{key:"negativeAmount",fn:function(e,r){return[n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,1)}}},[t._v(t._s(r.negativeAmount&&t.XEUtils.commafy(r.negativeAmount,{digits:2})))])]}},{key:"amount",fn:function(e,r){return[n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,2)}}},[t._v("\n                    "+t._s(r.amount&&t.XEUtils.commafy(r.amount,{digits:2})))])]}},{key:"creditOcc",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n            ")]}},{key:"debitOcc",fn:function(e,n){return[t._v("\n                "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n            ")]}},{key:"action",fn:function(e,r){return["调整"===r.typeId?n("a",{on:{click:function(e){return t.adjustment(r)}}},[t._v("调整分析")]):n("a",{on:{click:t.analysis}},[t._v("分析")])]}}],null,!1,2154383791)})],1),t._v(" "),n("drag-modal",{attrs:{width:"40%",visible:t.visible1,title:t.visible1Title},on:{cancel:function(){return t.visible1=!1},ok:t.handleOk}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticStyle:{float:"left","max-height":"300px",overflow:"auto",width:"100%"}},[n("a-tree",{attrs:{checkable:"",multiple:!1,checkStrictly:!0,"tree-data":t.treeData,replaceFields:{children:"children",title:"title",key:"title"}},on:{select:t.onSelect,check:t.onCheck},model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}})],1)])])],1),t._v(" "),t.visible2?n("drag-modal",{attrs:{width:"80%",footer:!1,visible:t.visible2,title:"金额关联凭证"},on:{cancel:function(){return t.visible2=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("table-sum",{ref:"tableSum",on:{loadingState:t.loadingState}})],1)],1):t._e(),t._v(" "),n("drag-modal",{attrs:{width:"80%",visible:t.adjustmentVisible,title:t.adjustmentTitle},on:{cancel:t.adjustmentCancel,ok:t.adjustmentOk}},[n("a-spin",{attrs:{size:"large",tip:"保存中...",spinning:t.loading}},[n("div",{staticClass:"tips"},[n("span",[t._v("借 : ")]),t._l(t.checkMoney[0]["借"],function(e,r){return n("span",{key:r},[n("span",{staticClass:"row-span"},[t._v(t._s(e.subjectName)+": "+t._s(e.value)+";")])])})],2),t._v(" "),n("div",{staticClass:"tips"},[n("span",[t._v("贷 : ")]),t._l(t.checkMoney[0]["贷"],function(e,r){return n("span",{key:r},[n("span",{staticClass:"row-span"},[t._v(t._s(e.subjectName)+": "+t._s(e.value)+";")])])})],2),t._v(" "),n("a-form-model",{ref:"ruleForm",attrs:{layout:"horizontal",model:t.adjustmentForm}},t._l(t.adjustmentForm.list,function(e,r){return n("div",{key:r},[n("a-form-model-item",{ref:"debitSubjects-"+r,refInFor:!0,staticStyle:{display:"inline-block"},attrs:{autoLink:!1,prop:"list."+r+".debitSubjects",rules:[{required:!0,message:"xxx"},{validator:function(e,n,a){t.validateDebitSubjects(e,n,a,r)},trigger:"change"}]}},[n("span",{staticStyle:{display:"inline-block",width:"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"top"}},[t._v(t._s(e.title))]),t._v(" "),n("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"plus",disabled:e.isAdd},on:{click:function(n){return t.add(e,r)}}}),t._v(" "),n("a-button",{attrs:{type:"danger",icon:"delete",disabled:!e.isAdd},on:{click:function(n){return t.deleteRow(e,r)}}}),t._v(" "),n("a-select",{staticStyle:{width:"300px",margin:"0 20px"},attrs:{dropdownMatchSelectWidth:!1},on:{change:function(e){return t.handleDebitSubjectsChange(r)}},model:{value:e.debitSubjects,callback:function(n){t.$set(e,"debitSubjects",n)},expression:"items.debitSubjects"}},t._l(t.creditSubjectList,function(e,r){return n("a-select-option",{key:r,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),n("a-form-model-item",{ref:"money-"+r,refInFor:!0,staticStyle:{display:"inline-block"},attrs:{autoLink:!1,hasFeedback:!0,prop:"list."+r+".money"}},[n("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请輸入"},on:{change:function(e){return t.handleMoneyChange(r)}},model:{value:e.money,callback:function(n){t.$set(e,"money",n)},expression:"items.money"}})],1)],1)}),0)],1)],1)],1):t._e()},staticRenderFns:[]};var dt={name:"contrastModal",components:{unContrastModal:n("VU/8")(st,ct,!1,function(t){n("N4P7")},"data-v-35364f6e",null).exports,unanalyzedVoucher:n("VU/8")(ut,lt,!1,function(t){n("6bND")},"data-v-f2f769ec",null).exports,tableSum:ot},computed:{},watch:{data:{handler:function(t){t.map(function(t){var e=0;t.colName.replace(/ /g,"$").split("").map(function(t){"$"===t&&e++}),t.count=e})},immediate:!0}},data:function(){var t=this,e=this.$createElement;return this.XEUtils=s.a,{visible2:!1,visible:!1,data:[],spinning:!1,customerData:{},columns:[{dataIndex:"colName",width:140,title:"项目",key:"colName",slots:{title:"colName"},scopedSlots:{customRender:"colName"},customRender:function(t,n,r){var a={children:e("div",{attrs:{title:t},class:"tdItem"},[t]),attrs:{}};return a.attrs.rowSpan=n.rowSpan,a},customCell:this.customCellStyle},{dataIndex:"debitAccountCode",width:250,title:"借方科目",key:"debitAccountCode",slots:{title:"debitAccountCode"},scopedSlots:{customRender:"debitAccountCode"},customCell:this.customCell},{dataIndex:"creditAccountCode",width:250,title:"贷方科目",key:"creditAccountCode",slots:{title:"creditAccountCode"},scopedSlots:{customRender:"creditAccountCode"},customCell:this.customCell},{dataIndex:"positiveAmount",title:"正值金额",align:"right",key:"positiveAmount",width:160,slots:{title:"positiveAmount"},scopedSlots:{customRender:"positiveAmount"},customCell:this.customCell},{dataIndex:"negativeAmount",title:"负值金额",align:"right",width:160,key:"negativeAmount",slots:{title:"negativeAmount"},scopedSlots:{customRender:"negativeAmount"},customCell:this.customCell},{dataIndex:"amount",width:200,title:"金额",key:"amount",align:"right",slots:{title:"amount"},scopedSlots:{customRender:"amount"},customCell:this.customCell},{dataIndex:"action",title:"操作",key:"action",width:64,slots:{title:"action"},scopedSlots:{customRender:"action"}}],time:"",num:"",analyseNum:"",summaryVisible:!1,loading:!1,summaryData:[],sumRowData:[],summaryColumns:[{dataIndex:"debitAccountName",width:200,title:"借方科目",key:"debitAccountName",scopedSlots:{customRender:"debitAccountName"}},{dataIndex:"creditAccountName",width:200,title:"贷方科目",key:"creditAccountName",scopedSlots:{customRender:"creditAccountName"}},{dataIndex:"debitOcc",width:180,title:"借方发生额",key:"debitOcc",align:"right",scopedSlots:{customRender:"debitOcc"}},{dataIndex:"creditOcc",width:140,title:"贷方发生额",key:"creditOcc",align:"right",scopedSlots:{customRender:"creditOcc"}}],controlRulesVisible:!1,controlRulesVisible1:!1,formInline:{customerId:"",projectId:""},customerList:[],visible4:!1,loading4:!1,initSpinning:!1,projectList:[],boundedColumns:[{dataIndex:"subjectName",width:250,title:"借方科目",key:"subjectName",slots:{title:"subjectName"},scopedSlots:{customRender:"subjectName"}},{dataIndex:"oppoSubjectName",width:250,title:"贷方科目",key:"oppoSubjectName",slots:{title:"oppoSubjectName"},scopedSlots:{customRender:"oppoSubjectName"}},{dataIndex:"occurValue",width:200,title:"金额",key:"occurValue",align:"right",slots:{title:"occurValue"},scopedSlots:{customRender:"occurValue"}}],boundedData:[],controlRulesColumns:[{dataIndex:"colDisp",width:250,title:"项目",key:"colDisp",slots:{title:"colDisp"},scopedSlots:{customRender:"colDisp"},customCell:this.customCellStyle},{dataIndex:"property",width:80,title:"性质",key:"property",slots:{title:"property"},scopedSlots:{customRender:"property"}},{dataIndex:"debitSubjectName",width:450,title:"借方科目",key:"debitSubjectName",slots:{title:"debitSubjectName"},scopedSlots:{customRender:"debitSubjectName"}},{dataIndex:"creditSubjectName",width:450,title:"贷方科目",key:"creditSubjectName",slots:{title:"creditSubjectName"},scopedSlots:{customRender:"creditSubjectName"}}],controlRulesData:[],controlRulesLoading:{spinning:!1,tip:"加载中...",size:"large"},searchVal:"",start:0,limit:10,pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.pagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.start=0,t.pagination.current=1,t.limit=n,t.pagination.pageSize=n,t.queryEliminateData()},onChange:function(e,n){t.start=(e-1)*n,t.limit=t.pagination.pageSize,t.pagination.current=e,t.queryEliminateData()}}}},methods:{showUnContrastModal:function(){this.$refs.unContrastModal.show(this.customerData)},mergeColSpan1:function(t,e,n){if(e.rowSpan1)return 0;var r=0;return this.data.map(function(e){e[n]===t&&(r++,e.rowSpan1=!0)}),r},mergeColSpan:function(t,e,n){if(e.rowSpan)return 0;var r=0;return this.data.map(function(e){e[n]===t&&(r++,e.rowSpan=!0)}),r},delItem:function(t){var e=this,n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,autoId:t.autoId};this.$confirm({title:"提示",content:"借方科目："+t.debitAccountName+" 贷方科目："+t.creditAccountName+"若无对照，将自动进入未对照科目中。请确认是否要删除?",onOk:function(){e.$sacpApis.deleteCashFlowSubjectContrast(a()(n)).then(function(t){t.success?(e.$message.success("操作成功"),e.data=t.data[0].list,e.num=t.data[0].num,e.time=t.data[0].time):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},onCancel:function(){}})},init:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.$confirm({title:"提示",content:"是否要初始化?",onOk:function(){t.spinning=!0,t.$sacpApis.initCashFlowSubjectContrast(a()(e)).then(function(e){t.spinning=!1,e.success?(t.data=e.data[0].list,t.num=e.data[0].num,t.time=e.data[0].time,t.analyseNum=e.data[0].analyseNum):(t.data=[].concat(tt()(t.data)),t.$message.error(e.resultInfo.statusText))}).catch(function(e){t.data=[].concat(tt()(t.data)),t.$message.error(e)})},onCancel:function(){}})},show:function(t){var e=this;this.visible=!0,this.data=[],"object"===(void 0===t?"undefined":G()(t))&&f()(t).length&&(this.customerData=t);var n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.spinning=!0,this.$sacpApis.getCashFlowSubjectContrast(a()(n)).then(function(t){if(t.success){if(e.spinning=!1,t.data&&t.data[0]&&t.data[0].list){var n=t.data[0];e.data=n.list,e.num=n.num,e.analyseNum=n.analyseNum,e.time=n.time}}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},afterClose:function(){this.visible=!1},queryCashFlowSubjectInner:function(){var t=this;this.summaryVisible=!0;var e=this.customerData,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear};this.loading=!0,this.$sacpApis.queryCashFlowSubjectInner(n).then(function(e){e.success?(t.loading=!1,e.data&&e.data.length&&e.data[0].list&&(t.summaryData=e.data[0].list,t.sumRowData=e.data[0].sumRowData)):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},showDetailed:function(t,e){var n=this;this.visible2=!0,this.loading=!0,this.$nextTick(function(){n.$refs.tableSum.queryRelevantEntrys(t,e,n.customerData)})},queryCashFlowEntryNonAnalyse:function(){this.$refs.unanalyzedVoucher.queryCashFlowEntryNonAnalyse(this.customerData)},rowClassName:function(t,e){switch(t.property){case"in":case"流入":case"抵减流入":return"in";case"out":case"流出":return"out";default:return""}},controlRules:function(){this.controlRulesVisible=!0,this.queryCustomerList(),this.queryCashFlowRules()},customerChange:function(t,e){this.formInline.customerId=t,this.queryProjectList(t)},queryCustomerList:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.$sacpApis.queryCustomerList(a()(e)).then(function(e){if(e.success){var n=e.data[0];n&&n.list?t.customerList=n.list:t.customerList=[]}else t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},queryCashFlowRules:function(){var t=this,e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear};this.controlRulesLoading.spinning=!0,this.$sacpApis.queryCashFlowRules(a()(e)).then(function(e){if(e.success){t.controlRulesLoading.spinning=!1;var n=e.data[0];n&&n.list?(n.list.forEach(function(t){t.debitTagsShow=!1,t.creditTagsShow=!1,t.debitSubjectName=t.debitSubjectName?t.debitSubjectName.split(","):[],t.creditSubjectName=t.creditSubjectName?t.creditSubjectName.split(","):[]}),t.controlRulesData=n.list):t.controlRulesData=[]}else t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},selectOtherContrastMode:function(){this.controlRulesVisible1=!0},queryProjectList:function(t){var e=this,n={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,contrastCustomerId:t,yyyy:this.customerData.curAccYear};this.$sacpApis.queryProjectList(a()(n)).then(function(t){if(t.success){var n=t.data[0];n&&n.list?e.projectList=n.list:e.projectList=[]}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},controlRulesOK:function(){var t=this;this.$confirm({title:"提示",content:"是否按照所选客户项目对照规则初始化？",onOk:function(){t.initCashFlowByRulesContrast()},onCancel:function(){}})},initCashFlowByRulesContrast:function(){var t=this;this.initSpinning=!0;var e=this.formInline,n=e.customerId,r=e.projectId,i={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,contrastCustomerId:n,contrastProjectId:r,yyyy:this.customerData.curAccYear};this.$sacpApis.initCashFlowByRulesContrast(a()(i)).then(function(e){e.success?(t.initSpinning=!1,t.controlRulesVisible1=!1,t.$message.success("初始化成功!"),t.queryCashFlowRules(),t.show()):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},queryEliminateData:function(){var t=this;this.visible4=!0,this.loading4=!0;var e={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,start:this.start,limit:this.limit};this.$sacpApis.queryEliminateData(a()(e)).then(function(e){e.success?(t.loading4=!1,e.data&&e.data[0]&&e.data[0].list?(t.boundedData=e.data[0].list,t.pagination.total=e.totalCount):(t.boundedData=[],t.pagination.total=0)):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.loading4=!1})},refresh:function(){this.show()},customCell:function(t){if("0"===t.flag)return{style:{color:"rgb(255,150,150)"}}},customCellStyle:function(t,e){var n="";switch(t.property){case"in":case"流入":case"抵减流入":n="#ccffcc";break;case"out":case"流出":case"抵减流出":n="#ffcccc";break;default:n=""}return{style:{background:n,"white-space":"pre-wrap"}}},cellShow:function(t){return null!==t.property&&"0"!==t.flag},handlerTag:function(t,e){return"string"==typeof t?t.lastIndexOf("(受限)")>-1?1===e?"(受限)":t.slice(0,t.length-4):1===e?"":t:t},loadingState:function(t){this.loading=t},handleChange:function(t,e){var n=[];if(t.length>e.length)t.forEach(function(t){-1==e.indexOf(t)&&n.push(t)}),e.push(n[0]);else{e.forEach(function(e){-1==t.indexOf(e)&&n.push(e)});var r=e.indexOf(n[0]);e.splice(r,1)}},updateCashFlowRules:function(t){var e=this,n=t.colCode,r=t.debitSubjectName,i=t.creditSubjectName,o=t.property,s={customerId:this.customerData.curCustomerId,projectId:this.customerData.curProjectId,yyyy:this.customerData.curAccYear,colCode:n,creditName:i.join("|"),debitName:r.join("|"),property:o};this.controlRulesLoading.spinning=!0,this.$sacpApis.updateCashFlowRules(a()(s)).then(function(t){if(t.success){e.$message.success("保存成功!"),e.controlRulesLoading.spinning=!1;var n=t.data[0];n&&n.list?(n.list.forEach(function(t){t.showTags=!1,t.debitSubjectName=t.debitSubjectName?t.debitSubjectName.split(","):[],t.creditSubjectName=t.creditSubjectName?t.creditSubjectName.split(","):[]}),e.queryCashFlowRules()):e.controlRulesData=[]}else e.controlRulesLoading.spinning=!1,e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.controlRulesLoading.spinning=!1})},cellClick:function(t,e,n){-1===e.indexOf("现金及现金等价物")&&("credit"===n?t.creditTagsShow=!0:t.debitTagsShow=!0)},onCell:function(t,e){var n=this;return{on:{click:function(t){},dblclick:function(t){},contextmenu:function(t){},mouseenter:function(t){},mouseleave:function(e){t.property&&(t.debitTagsShow&&(t.debitTagsShow=!1,n.$confirm({title:"提示",content:"是否要保存该条数据？",onOk:function(){n.updateCashFlowRules(t)},onCancel:function(){}})),t.creditTagsShow&&(t.creditTagsShow=!1,n.$confirm({title:"提示",content:"是否要保存该条数据？",onOk:function(){n.updateCashFlowRules(t)},onCancel:function(){}})))}}}},restrictedSummaryCancel:function(){this.visible4=!1,this.start=0,this.limit=10,this.pagination.total=0,this.boundedData=[]}},created:function(){}},ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.visible?n("drag-modal",{attrs:{width:"95%",visible:t.visible,title:"现金流量表项目对照",footer:!1},on:{cancel:t.afterClose}},[n("div",{staticClass:"btnList"},[n("a-button",{attrs:{type:"primary"},on:{click:t.controlRules}},[t._v("对照规则")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.init}},[t._v("初始化  "+t._s(t.time))]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.showUnContrastModal}},[t._v("未对照科目"),t.num>0?n("span",[t._v("\n                    ("),n("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.num)+" ")]),t._v(")")]):t._e()]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.queryCashFlowEntryNonAnalyse}},[t._v("未分析凭证\n                "),t.analyseNum>0?n("span",[t._v("\n                    ("),n("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.analyseNum)+" ")]),t._v(")")]):t._e()]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.queryCashFlowSubjectInner}},[t._v("现金及现金等价物内部数据汇总")]),t._v(" "),n("a-button",{attrs:{type:"primary"},on:{click:t.queryEliminateData}},[t._v("受限数据汇总")])],1),t._v(" "),n("a-spin",{attrs:{tip:"加载中...",spinning:t.spinning,size:"large"}},[n("a-table",{attrs:{scroll:{y:"calc(100vh - 260px)",x:"scollXWidth"},columns:t.columns,pagination:!1,"data-source":t.data,"row-key":"autoId",bordered:""},scopedSlots:t._u([{key:"property",fn:function(e,n){return t.cellShow(n)?[t._v("\n                    "+t._s("in"===e?"流入":"")+"\n                    "+t._s("out"===e?"流出":"")+"\n                ")]:void 0}},{key:"debitAccountCode",fn:function(e,r){return t.cellShow(r)?[t._v("\n                    "+t._s(e&&e+"--"+t.handlerTag(r.debitAccountName,0))+"\n                    "),t.handlerTag(r.debitAccountName,1)?n("a-tag",{attrs:{color:"red"}},[t._v("\n                        "+t._s(t.handlerTag(r.debitAccountName,1))+"\n                    ")]):t._e()]:void 0}},{key:"creditAccountCode",fn:function(e,r){return null!==r.property?[t._v("\n                    "+t._s(e&&e+"--"+t.handlerTag(r.creditAccountName,0))+"\n                    "),t.handlerTag(r.creditAccountName,1)?n("a-tag",{attrs:{color:"red"}},[t._v(t._s(t.handlerTag(r.creditAccountName,1)))]):t._e()]:void 0}},{key:"positiveAmount",fn:function(e,r){return[t.cellShow(r)?n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,0)}}},[t._v("\n                        "+t._s(e&&t.XEUtils.commafy(e,{digits:2}))+"\n                    ")]):n("span",[t._v("\n                        "+t._s(e&&t.XEUtils.commafy(e,{digits:2}))+"\n                    ")])]}},{key:"negativeAmount",fn:function(e,r){return[t.cellShow(r)?n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,1)}}},[t._v("\n                        "+t._s(e&&t.XEUtils.commafy(e,{digits:2}))+"\n                    ")]):n("span",[t._v("\n                        "+t._s(e&&t.XEUtils.commafy(e,{digits:2}))+"\n                    ")])]}},{key:"amount",fn:function(e,r){return[t.cellShow(r)?n("a",{staticClass:"aClick",on:{click:function(e){return t.showDetailed(r,"")}}},[t._v("\n                        "+t._s(e&&t.XEUtils.commafy(e,{digits:2}))+"\n                    ")]):n("span",[t._v("\n                        "+t._s(r.amount&&t.XEUtils.commafy(r.amount,{digits:2}))+"\n                    ")])]}},{key:"action",fn:function(e,r){return r.creditAccountCode&&r.debitAccountCode?["0"!==r.flag?n("a",{on:{click:function(e){return t.delItem(r)}}},[t._v("删除")]):t._e()]:void 0}}],null,!0)}),t._v(" "),n("unContrastModal",{ref:"unContrastModal",on:{show:t.show}})],1)],1):t._e(),t._v(" "),t.summaryVisible?n("drag-modal",{attrs:{width:"70%",visible:t.summaryVisible,title:"现金及现金等价物内部数据汇总",footer:null},on:{cancel:function(){return t.summaryVisible=!1},ok:function(){return t.summaryVisible=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("a-table",{ref:"tableList",attrs:{columns:t.summaryColumns,"data-source":t.summaryData,scroll:{y:300,x:"scollXWidth"},pagination:!1,"row-key":function(t,e){return""+e},id:"tableList"},scopedSlots:t._u([{key:"creditAccountName",fn:function(e,n){return[t._v("\n                    "+t._s(n.creditAccountCode+"-"+e)+"\n                ")]}},{key:"debitAccountName",fn:function(e,n){return[t._v("\n                    "+t._s(n.debitAccountCode+"-"+e)+"\n                ")]}},{key:"creditOcc",fn:function(e){return[t._v("\n                    "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n                ")]}},{key:"debitOcc",fn:function(e){return[t._v("\n                    "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n                ")]}},{key:"footer",fn:function(){return[n("a-table",{attrs:{showHeader:!1,columns:t.summaryColumns,"data-source":t.sumRowData,scroll:{y:300,x:"scollXWidth"},pagination:!1},scopedSlots:t._u([{key:"creditOcc",fn:function(e,n){return[t._v("\n                            "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n                        ")]}},{key:"debitOcc",fn:function(e,n){return[t._v("\n                            "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n                        ")]}}],null,!1,4015417562)})]},proxy:!0}],null,!1,362614829)})],1)],1):t._e(),t._v(" "),t.visible2?n("drag-modal",{attrs:{width:"80%",footer:!1,visible:t.visible2,title:"金额关联凭证"},on:{cancel:function(){return t.visible2=!1}}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading}},[n("table-sum",{ref:"tableSum",on:{loadingState:t.loadingState}})],1)],1):t._e(),t._v(" "),t.controlRulesVisible?n("drag-modal",{attrs:{width:"90%",visible:t.controlRulesVisible,footer:null},on:{cancel:function(){return t.controlRulesVisible=!1},ok:t.initCashFlowByRulesContrast},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"dialogTitle"},[n("span",[t._v("对照规则")]),t._v(" "),n("a-button",{on:{click:t.selectOtherContrastMode}},[t._v("其他对照方式")])],1)]},proxy:!0}],null,!1,2711422833)},[t._v(" "),n("a-table",{attrs:{columns:t.controlRulesColumns,"data-source":t.controlRulesData,loading:t.controlRulesLoading,scroll:{y:"calc(100vh - 260px)",x:"scollXWidth"},pagination:!1,"row-key":function(t,e){return""+e},customRow:t.onCell,bordered:""},scopedSlots:t._u([{key:"debitSubjectName",fn:function(e,r){return[n("div",{staticStyle:{"min-height":"20px"},on:{click:function(n){return t.cellClick(r,e,"debit")}}},[r.debitTagsShow?r.debitTagsShow&&r.property?n("a-select",{staticStyle:{width:"100%"},attrs:{value:e,mode:"tags",placeholder:"输入标签",dropdownMenuStyle:{display:"none"}},on:{change:function(n){t.handleChange(n,e)}}},t._l(e,function(e,r){return n("a-select-option",{key:""+r},[t._v("\n                            "+t._s(e)+"\n                        ")])}),1):t._e():n("div",{staticStyle:{"white-space":"break-spaces"}},t._l(e,function(e,r){return n("a-tag",{key:r,staticStyle:{margin:"5px"},attrs:{color:"orange"}},[t._v("\n                            "+t._s(e)+"\n                        ")])}),1)],1)]}},{key:"creditSubjectName",fn:function(e,r){return[n("div",{staticStyle:{"min-height":"20px"},on:{click:function(n){return t.cellClick(r,e,"credit")}}},[r.creditTagsShow?r.creditTagsShow&&r.property?n("a-select",{staticStyle:{width:"100%"},attrs:{value:e,mode:"tags",placeholder:"输入标签",dropdownMenuStyle:{display:"none"}},on:{change:function(n){t.handleChange(n,e)}}},t._l(e,function(e,r){return n("a-select-option",{key:""+r},[t._v("\n                            "+t._s(e)+"\n                        ")])}),1):t._e():n("div",{staticStyle:{"white-space":"break-spaces"}},t._l(e,function(e,r){return n("a-tag",{key:r,staticStyle:{margin:"5px"},attrs:{color:"orange"}},[t._v("\n                            "+t._s(e)+"\n                        ")])}),1)],1)]}}],null,!1,3499275433)})],1):t._e(),t._v(" "),n("drag-modal",{attrs:{width:"40%",visible:t.controlRulesVisible1,title:"对照规则初始化"},on:{cancel:function(){return t.controlRulesVisible1=!1},ok:t.controlRulesOK}},[n("a-spin",{attrs:{tip:"初始化中...",spinning:t.initSpinning,size:"large"}},[n("a-form-model",{staticClass:"comparisonRuleForm",attrs:{model:t.formInline,layout:"horizontal",wrapperCol:{span:21,offset:0},labelCol:{span:3,offset:0},labelAlign:"left"}},[n("a-form-model-item",[n("h3",[t._v("根据选择的项目的规则进行初始化:")])]),t._v(" "),n("a-form-model-item",{attrs:{label:"客户名称 "}},[n("a-select",{staticStyle:{width:"80%"},attrs:{dropdownMatchSelectWidth:!1,allowClear:"",showSearch:""},on:{change:t.customerChange}},t._l(t.customerList,function(e,r){return n("a-select-option",{key:r,attrs:{value:e.customerId}},[t._v("\n                            "+t._s(e.customerName)+"\n                        ")])}),1)],1),t._v(" "),n("a-form-model-item",{attrs:{label:"项目名称 "}},[n("a-select",{staticStyle:{width:"80%"},attrs:{dropdownMatchSelectWidth:!1,allowClear:"",showSearch:""},model:{value:t.formInline.projectId,callback:function(e){t.$set(t.formInline,"projectId",e)},expression:"formInline.projectId"}},t._l(t.projectList,function(e,r){return n("a-select-option",{key:r,attrs:{value:e.projectId}},[t._v("\n                            "+t._s(e.projectName)+"\n                        ")])}),1)],1)],1)],1)],1),t._v(" "),n("drag-modal",{attrs:{width:"80%",footer:!1,visible:t.visible4,title:"受限数据汇总"},on:{cancel:t.restrictedSummaryCancel}},[n("a-spin",{attrs:{size:"large",tip:"加载中...",spinning:t.loading4}},[n("a-table",{attrs:{columns:t.boundedColumns,"data-source":t.boundedData,"row-key":function(t,e){return""+e},scroll:{y:"calc(100vh - 260px)",x:"scollXWidth"},pagination:t.pagination},scopedSlots:t._u([{key:"occurValue",fn:function(e,n){return[t._v("\n                    "+t._s(t.XEUtils.commafy(e,{digits:2}))+"\n                ")]}},{key:"subjectName",fn:function(e,r){return[t._v("\n                    "+t._s(t.handlerTag(e,0))+"\n                    "),t.handlerTag(e,1)?n("a-tag",{attrs:{color:"red"}},[t._v(t._s(t.handlerTag(e,1)))]):t._e()]}},{key:"oppoSubjectName",fn:function(e,r){return[t._v("\n                    "+t._s(t.handlerTag(e,0))+"\n                    "),t.handlerTag(e,1)?n("a-tag",{attrs:{color:"red"}},[t._v(t._s(t.handlerTag(e,1)))]):t._e()]}}])})],1)],1),t._v(" "),n("unanalyzed-voucher",{ref:"unanalyzedVoucher",on:{refresh:t.refresh}})],1)},staticRenderFns:[]};var ft=n("VU/8")(dt,ht,!1,function(t){n("gjD2"),n("tzGD")},"data-v-faa24446",null).exports,mt=n("Dno8"),pt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"icon"}],ref:"counter",staticClass:"counter",style:t.formulaState?"width:650px":"width:300px"},[r("div",[r("h2",{ref:"title"},[r("button",{staticClass:"mem",on:{click:function(e){t.formulaState=!t.formulaState}}},[t._v("\n                    MEM\n                ")]),t._v(" "),r("div",{staticClass:"min",on:{click:function(e){e.stopPropagation(),t.icon=!1}}},[t._v("_")])]),t._v(" "),r("div",{staticClass:"screen"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"textarea",attrs:{type:"text"},domProps:{value:t.text},on:{keyup:function(e){return e.type.indexOf("key")||48===e.keyCode||49===e.keyCode||50===e.keyCode||51===e.keyCode||52===e.keyCode||53===e.keyCode||54===e.keyCode||55===e.keyCode||56===e.keyCode||57===e.keyCode||187===e.keyCode||189===e.keyCode?t.keyDown(e):null},input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),r("div",{staticClass:"result"},[t._v(t._s(t._f("capitalize")(t.result)))])]),t._v(" "),r("div",{staticClass:"keyboard"},[r("div",{staticClass:"number"},t._l(t.keyboard,function(e,n){return r("button",{key:n,on:{click:function(n){return t.entry(e)}}},[t._v("\n                        "+t._s(e.key)+"\n                    ")])}),0)])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.formulaState,expression:"formulaState"}],staticClass:"formula"},t._l(t.formulaList,function(e,n){return r("div",{key:n},[r("div",{staticClass:"name"},[t._v("F"+t._s(n+1)+":")]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.formula,expression:"item.formula"}],staticClass:"formula-show",attrs:{title:t.showData(e.formula,e.result)},on:{click:function(e){return t.backView(n)}}},[r("span",{staticClass:"span-formula dir"},[t._v(t._s(e.formula))]),t._v(" "),r("span",{ref:"results"+n,refInFor:!0,class:["span-result",t.resultClass]},[t._v("="+t._s(t.formatter.commafy(1*e.result)))])]),t._v(" "),r("a-button",{staticClass:"save",staticStyle:{"min-width":"23px",width:"23px"},attrs:{type:"primary",icon:"save"},on:{click:function(e){return t.saveFormula(n)}}})],1)}),0)]),t._v(" "),r("img",{staticClass:"counter-icon",attrs:{src:n("9qlh"),alt:""},on:{click:function(e){t.icon=!t.icon}}})])},staticRenderFns:[]};var yt=function(t){n("wy8+")},gt=n("VU/8")(mt.a,pt,!1,yt,"data-v-1760ccb0",null).exports,vt=[{title:"调整前项目",dataIndex:"colDispPre",rowKey:"colDispPre",width:300},{title:"调整后项目",dataIndex:"colDispAft",rowKey:"colDispAft",width:250},{title:"借方科目",rowKey:"debitName",dataIndex:"debitName",width:200,scopedSlots:{customRender:"debitName"}},{title:"贷方科目",rowKey:"creditName",dataIndex:"creditName",width:200,scopedSlots:{customRender:"creditName"}},{title:"调整后项目金额",rowKey:"amount",dataIndex:"amount",align:"right",width:150,customRender:U.b.commafy,scopedSlots:{customRender:"amount"}},{title:"数量",rowKey:"num",dataIndex:"num",align:"right",width:100,scopedSlots:{customRender:"num"}}],It=[{title:"项目",dataIndex:"colDispAft",rowKey:"colDispAft",width:250,scopedSlots:{customRender:"colDispAft"}},{title:"调整后项目金额",rowKey:"amount",dataIndex:"amount",align:"right",width:200,customRender:U.b.commafy,scopedSlots:{customRender:"amount"}},{title:"借方科目",rowKey:"debitName",dataIndex:"debitName",width:200,scopedSlots:{customRender:"debitName"}},{title:"贷方科目",rowKey:"creditName",dataIndex:"creditName",width:200,scopedSlots:{customRender:"creditName"}},{title:"数量",rowKey:"num",dataIndex:"num",align:"right",width:80,scopedSlots:{customRender:"num"}},{title:"数据来源或去向",rowKey:"colDispPre",dataIndex:"colDispPre",width:200,scopedSlots:{customRender:"colDispPre"}}],bt=[{title:"凭证日期",dataIndex:"vchDate",rowKey:"vchDate",width:100},{title:"字",rowKey:"typeId",dataIndex:"typeId",width:50,scopedSlots:{customRender:"typeId"}},{title:"号",rowKey:"oldVoucherId",dataIndex:"oldVoucherId",width:150,scopedSlots:{customRender:"oldVoucherId"}},{title:"借方科目",rowKey:"subjectName",dataIndex:"subjectName",width:200,scopedSlots:{customRender:"subjectName"}},{title:"贷方科目",rowKey:"oppoSubjectName",dataIndex:"oppoSubjectName",width:200,scopedSlots:{customRender:"oppoSubjectName"}},{title:"金额",rowKey:"occurValue",dataIndex:"occurValue",align:"right",width:200,customRender:U.b.commafy,scopedSlots:{customRender:"occurValue"}},{title:"摘要",rowKey:"summary",dataIndex:"summary",width:250,scopedSlots:{customRender:"summary"}}],jt={name:"AdjustmentSummary",components:{},computed:{},watch:{},data:function(){var t=this;return{columns1:vt,columns2:It,columns:[],visible:!1,data:[],voucherDetailVisible:!1,voucherDetailColumns:bt,voucherDetail:[],voucherDetailLoading:{spinning:!1,tip:"加载中...",size:"large"},loading:{spinning:!1,tip:"加载中...",size:"large"},row:{},start:0,limit:10,pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.pagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.start=e-1,t.limit=n,t.pagination.pageSize=n,t.queryCashFlowSummaryEntryDetail()},onChange:function(e,n){t.start=(e-1)*n,t.limit=t.pagination.pageSize,t.pagination.current=e,t.queryCashFlowSummaryEntryDetail()}}}},methods:{handleOk:function(){this.visible=!1},cancel:function(){this.visible=!1},voucherDetailHandleOk:function(){this.voucherDetailVisible=!1},voucherDetailCancel:function(){this.voucherDetailVisible=!1,this.start=0,this.limit=10},queryCashFlowAllSummary:function(t){var e=this;this.columns=this.columns1,this.customerData=t,this.visible=!0,this.loading.spinning=!0;var n={customerId:t.curCustomerId,projectId:t.curProjectId,yyyy:t.curAccYear};this.$sacpApis.queryCashFlowAllSummary(a()(n)).then(function(t){if(t.success){e.loading.spinning=!1;var n=t.data[0];n&&n.list&&(e.data=n.list)}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})},queryCashFlowOneSummary:function(t,e){var n=this;this.columns=this.columns2,this.customerData=t,this.visible=!0,this.loading.spinning=!0;var r={customerId:t.curCustomerId,projectId:t.curProjectId,yyyy:t.curAccYear,colCode:e};this.$sacpApis.queryCashFlowOneSummary(a()(r)).then(function(t){if(t.success){n.loading.spinning=!1;var e=t.data[0];e&&e.list&&(n.data=e.list)}else n.$message.error(t.resultInfo.statusText)}).catch(function(t){n.$message.error(t)})},queryCashFlowSummaryEntryDetail:function(t){var e=this,n=this.customerData,r=n.curCustomerId,i=n.curProjectId,o=n.curAccYear;"object"===(void 0===t?"undefined":G()(t))&&(this.row=t);var s=this.row,c=s.colCodePre,u=s.colCodeAft,l=s.property,d=s.debitCode,h=s.creditCode,f={start:this.start,limit:this.limit,customerId:r,projectId:i,yyyy:o,colCodePre:c,colCodeAft:u,property:l,debitCode:d,creditCode:h};this.voucherDetailVisible=!0,this.voucherDetailLoading.spinning=!0,this.$sacpApis.queryCashFlowSummaryEntryDetail(a()(f)).then(function(t){if(t.success){e.voucherDetailLoading.spinning=!1;var n=t.data[0];n&&n.list&&(e.voucherDetail=n.list),e.pagination.total=t.totalCount}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)})}},created:function(){}},Ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("drag-modal",{attrs:{width:"80%",visible:t.visible,title:"调整汇总",footer:!1},on:{ok:t.handleOk,cancel:t.cancel}},[n("a-table",{attrs:{pagination:!1,columns:t.columns,"data-source":t.data,loading:t.loading,scroll:{y:"calc(100vh - 260px)",x:"scollXWidth"},"row-key":function(t,e){return""+e}},scopedSlots:t._u([{key:"colDispAft",fn:function(e,n){return[t._v("\n                "+t._s("调入"===n.property?e:n.colDispPre)+"\n            ")]}},{key:"colDispPre",fn:function(e,n){return[t._v("\n                "+t._s("调入"===n.property?e:n.colDispAft)+"\n            ")]}},{key:"num",fn:function(e,r){return[n("a",{on:{click:function(e){return t.queryCashFlowSummaryEntryDetail(r)}}},[t._v(t._s(e))])]}}])})],1),t._v(" "),n("drag-modal",{attrs:{width:"80%",visible:t.voucherDetailVisible,title:"凭证详情",footer:!1},on:{ok:t.voucherDetailHandleOk,cancel:t.voucherDetailCancel}},[n("a-table",{attrs:{pagination:t.pagination,columns:t.voucherDetailColumns,"data-source":t.voucherDetail,loading:t.voucherDetailLoading,scroll:{y:"calc(100vh - 260px)",x:"scollXWidth"},"row-key":function(t,e){return""+e}}})],1)],1)},staticRenderFns:[]};var _t=n("VU/8")(jt,Ct,!1,function(t){n("Ly43")},"data-v-48c74eeb",null).exports,St=n("//Fk"),wt=n.n(St),Mt={data:function(){var t=this;return{columns:[{title:"序号",width:30,customRender:this.orderNumber},{title:"客户名称",dataIndex:"customerName",key:"customerName",width:150,scopedSlots:{customRender:"customerName"}},{title:"项目名称",dataIndex:"projectName",key:"projectName",width:200},{title:"项目来源",dataIndex:"projectSource",key:"projectSource",width:80,ellipsis:!0,scopedSlots:{customRender:"projectSource"}},{title:"项目负责人",dataIndex:"projectManager",key:"projectManager",width:60,ellipsis:!0},{title:"合并范围",dataIndex:"mergeScope",key:"mergeScope",width:80,ellipsis:!0,scopedSlots:{customRender:"mergeScope"}}],data:[],visible:!1,confirmLoading:!1,start:0,limit:10,pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.pagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.start=e-1,t.limit=n,t.pagination.pageSize=n,t.queryMergeProjectList()},onChange:function(e,n){t.start=(e-1)*n,t.limit=t.pagination.pageSize,t.pagination.current=e,t.queryMergeProjectList()}},projectSource:{},mergeScope:{},loading:{tip:"加载中...",spinning:!1,size:"large"}}},watch:{visible:{handler:function(t,e){t||(this.pagination.current=1,this.start=0,this.limit=10)}}},methods:{handleOk:function(t){var e=this;this.confirmLoading=!0,setTimeout(function(){e.visible=!1,e.confirmLoading=!1},2e3)},handleCancel:function(t){this.visible=!1},queryMergeProjectType:function(t){var e=this;this.param=t;var n=this.$sacpApis.queryMergeProjectType(t).then(function(t){if(t.success)return t;e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.spinning=!1}),r=this.$sacpApis.queryDictionary().then(function(t){return t}).catch(function(t){return e.$message.error(t)}).finally(function(){return e.spinning=!1});return wt.a.all([n,r]).then(function(t){return e.projectSource=t[1]["合并报表项目来源"],e.mergeScope=t[1]["合并范围"],t[0].data&&t[0].data[0]?t[1]["合并范围"][t[0].data[0].mergeScope]:""})},queryMergeProjectList:function(){var t=this;return this.visible=!0,this.param.start=this.start,this.param.limit=this.limit,this.loading.spinning=!0,this.$sacpApis.queryMergeProjectList(this.param).then(function(e){if(e.success)return e.data&&e.data.length?(t.data=e.data,t.pagination.total=e.totalCount):t.data=[],e;t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.loading.spinning=!1})},orderNumber:function(t,e,n,r){return""+((this.pagination.current-1)*this.pagination.pageSize+(n+1))}}},Lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"合并项目",visible:t.visible,width:"70%","confirm-loading":t.confirmLoading,footer:!1},on:{ok:t.handleOk,cancel:t.handleCancel}},[n("a-table",{attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination,"row-key":function(t,e){return""+e},loading:t.loading,scroll:{y:"calc(100vh - 200px)",x:"scollXWidth"}},scopedSlots:t._u([{key:"projectSource",fn:function(e,n){return[t._v(t._s(t.projectSource[e]))]}},{key:"mergeScope",fn:function(e,n){return[t._v(t._s(t.mergeScope[e]))]}}])})],1)],1)},staticRenderFns:[]},kt={name:"index",components:{changeModel:d,leftTable:g,rightTable:V,choiceModel:X,addAccountModel:H,contrastModal:ft,counter:gt,adjustmentSummary:_t,consolidationScope:n("VU/8")(Mt,Lt,!1,null,null,null).exports},computed:{nextStep:function(){return this.$store.state.nextStep},refreshStatus:function(){return this.$store.state.refreshStatus}},watch:{nextStep:{handler:function(t){t&&this.onChange(1)},immediate:!0,refreshStatus:function(){this.queryInsideCheck()}},$route:{handler:function(t,e){if("true"===t.query.type){var n=this.$route.query,r=(n.curProjectName,n.curCustomerName,n.mergeProjectId,n.mergeCustomerId,n.curCustomerId),a=n.curProjectId,i=(n.menuID,n.curAccYear,n.type,{customerId:r,projectId:a});this.queryCurUserInfo(i)}else this.getCustomerInfomation()},immediate:!0}},data:function(){return{spinning:!1,current:-1,customerName:null,projectName:null,isZoom:!1,customerData:{},showFlag:2,rightWidth:"",leftWidth:"100%",offsetHeight:400,number:0,consolidationScopeBut:!1,butContent:""}},methods:{contrastModalShow:function(){this.$refs.contrastModal.show(this.customerData)},getLeftTable:function(t){this.$refs.leftTable.changeData(t)},dataChange:function(t){this.$refs.rightTable.dataChange({data:t,footerData:footerData})},addAccount:function(t){this.$refs.addAccountModel.show(t,this.customerData)},spinningChange:function(){this.spinning=!this.spinning},showRightTable:function(t){this.showFlag=2,this.showChange(!1),this.$refs.rightTable.getCashFlowStatement(t,this.customerData)},showChoiceModel:function(){this.$refs.choiceModel.show(this.customerData)},queryMaxHeight:function(){var t=this;setTimeout(function(){var e=document.getElementsByClassName("content")[0];t.offsetHeight=e.offsetHeight-54-52},500)},showChange:function(t){this.showFlag=t?this.showFlag+1:this.showFlag-1,0==this.showFlag&&(this.rightWidth="100%",this.leftWidth=0),1==this.showFlag&&(this.rightWidth=null,this.leftWidth=null),2==this.showFlag&&(this.rightWidth=0,this.leftWidth="100%")},queryAuditCashFlowList:function(){(0,this.$refs.leftTable.queryAuditCashFlowList)()},getCustomerInfomation:function(){var t=this;this.spinning=!0,this.$sacpApis.queryCustomerInformation().then(function(e){if(e.success){t.customerData=e.data[0],t.customerName=t.customerData.curCustomerId+"-"+t.customerData.curCustomerName,t.projectName=t.customerData.curProjectName,i.a.saveUserInfo(t.customerData);var n=e.data[0],r={lockCustomerId:n.curCustomerId,lockProjectId:n.curProjectId};t.$refs.consolidationScope.queryMergeProjectType(r).then(function(e){e?(t.consolidationScopeBut=!0,t.butContent=e):(t.consolidationScopeBut=!1,t.butContent="")}),t.queryAuditCashFlowList()}else t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.spinning=!1})},queryCurUserInfo:function(t){var e=this;this.spinning=!0,this.$sacpApis.queryCurUserInfo(a()(t)).then(function(t){if(t.success){e.customerData=t.data[0];var n=t.data[0],r=n.curCustomerId,a=n.curProjectId,o=n.curCustomerName,s=n.curProjectName;e.customerName=r+"-"+o,e.projectName=s,i.a.saveUserInfo(e.customerData);var c={lockCustomerId:r,lockProjectId:a};e.$refs.consolidationScope.queryMergeProjectType(c).then(function(t){t?(e.consolidationScopeBut=!0,e.butContent=t):(e.consolidationScopeBut=!1,e.butContent="")});var u=window.location,l=u.origin,d=u.pathname,h=u.hash,f=l+d+"#/relatedPartyReconciliation";window.location.replace(f),window.sessionStorage.setItem("routerHash",h)}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.spinning=!1})},clear:function(t){this.number=t},routerListen:function(){var t=window.location.hash.split("/");t=t[t.length-1],this.current="index"!=t?Number(this.stepData.filter(function(e){return e.content==t})[0].key):this.current},queryMergeProjectList:function(){this.$refs.consolidationScope.queryMergeProjectList()},queryCashFlowOneSummary:function(t){this.$refs.adjustmentSummary.queryCashFlowOneSummary(this.customerData,t)},queryCashFlowAllSummary:function(){this.$refs.adjustmentSummary.queryCashFlowAllSummary(this.customerData)},relatedPartyReconciliation:function(){window.open("#/relatedPartyReconciliation")}},created:function(){var t,e,n,r;t="SESSION",e="SESSION=YjMyYWM4ZmMtNDUxNi00ZDEyLWI3OGItZmZmZWIwNTIyZmVj",n=1,(r=new Date).setDate(r.getDate()+n),document.cookie=t+"="+escape(e)+(null==n?"":";expires="+r.toGMTString()),this.queryMaxHeight(),window.onresize=this.queryMaxHeight},mounted:function(){var t=this;window.addEventListener("click",function(e){if(t.$refs.counter&&t.$refs.counter.icon){if(!e.target.innerText)return;var n=t.$refs.counter.icon,r=e.target.innerText.trim().replaceAll(",",""),a=r.indexOf("."),i=r.lastIndexOf(".");!isNaN(1*r)&&a===i&&a>-1&&i>-1&&r.length-a==3&&n&&(t.number=1*r)}})}},At={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("a-spin",{attrs:{tip:"加载中...",spinning:t.spinning,size:"large"}},[n("a-layout",[this.isZoom?t._e():n("a-layout-header",[n("a-row",[n("a-col",{attrs:{span:1}},[n("div",{staticClass:"logo"})]),t._v(" "),n("a-col",{attrs:{span:6}},[n("div",{staticClass:"customerInformation"},[n("p",[t._v("客户:"+t._s(this.customerName))]),t._v(" "),n("p",[t._v("项目:"+t._s(this.projectName))])])]),t._v(" "),n("a-col",{attrs:{span:1}},[t.consolidationScopeBut?n("div",{staticStyle:{"padding-top":"30px","padding-left":"5px"}},[n("span",{staticStyle:{color:"rgb(0, 128, 0)","background-color":"rgb(239, 239, 239)","font-size":"12px",padding:"1px 6px",cursor:"pointer",display:"inline-block","min-width":"75px"},on:{click:t.queryMergeProjectList}},[t._v("\n                                "+t._s(t.butContent)+"\n                            ")])]):t._e()]),t._v(" "),n("a-col",{attrs:{span:14}},[n("div",{staticClass:"relatedPartyReconciliation"},[n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.relatedPartyReconciliation()}}},[t._v("关联方对账")])],1)])],1)],1),t._v(" "),n("a-layout-content",[n("div",{staticClass:"content"},[t.showFlag>0?n("a-button",{staticClass:"shrink-button1",style:{left:2===t.showFlag?"100%":"",transform:2===t.showFlag?"translate(0px, -55px)":"translate(-100%, -55px)"},attrs:{type:"primary"},on:{click:function(e){return t.showChange(!1)}}},[n("a-icon",{attrs:{type:"caret-left"}})],1):t._e(),t._v(" "),t.showFlag<2?n("a-button",{staticClass:"shrink-button2",style:{left:0===t.showFlag?"0":""},attrs:{type:"primary"},on:{click:function(e){return t.showChange(!0)}}},[n("a-icon",{attrs:{type:"caret-right"}})],1):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.showFlag,expression:"showFlag != 0"}],staticClass:"left",style:{width:t.leftWidth}},[n("leftTable",{ref:"leftTable",attrs:{customerData:t.customerData,offsetHeight:t.offsetHeight},on:{contrastModalShow:t.contrastModalShow,showChoiceModel:t.showChoiceModel,showRightTable:t.showRightTable,queryCashFlowAllSummary:t.queryCashFlowAllSummary}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.showFlag,expression:"showFlag != 2"}],staticClass:"right",style:{width:t.rightWidth}},[n("rightTable",{ref:"rightTable",attrs:{customerData:t.customerData,offsetHeight:t.offsetHeight},on:{spinningChange:t.spinningChange,addAccount:t.addAccount,getLeftTable:t.getLeftTable,queryCashFlowOneSummary:t.queryCashFlowOneSummary}})],1)],1)])],1)],1),t._v(" "),n("change-model",{ref:"changeModel",on:{getLeftTable:t.getLeftTable}}),t._v(" "),n("choice-model",{ref:"choiceModel",on:{getLeftTable:t.getLeftTable}}),t._v(" "),n("add-account-model",{ref:"addAccountModel",on:{getLeftTable:t.getLeftTable,dataChange:t.dataChange}}),t._v(" "),n("contrastModal",{ref:"contrastModal",on:{queryAuditCashFlowList:t.queryAuditCashFlowList,spinningChange:t.spinningChange}}),t._v(" "),n("counter",{ref:"counter",attrs:{count:t.number},on:{clear:t.clear}}),t._v(" "),n("adjustment-summary",{ref:"adjustmentSummary"}),t._v(" "),n("consolidation-scope",{ref:"consolidationScope"})],1)},staticRenderFns:[]};var Dt=n("VU/8")(kt,At,!1,function(t){n("cH8u")},"data-v-4996f409",null);e.default=Dt.exports},"6Vn/":function(t,e){},"6bND":function(t,e){},"9qlh":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjE0MjIwMTI0NzA3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE0MDIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMjA5LjEgNjUuNmg2MDcuMWMzNC40IDAgNjIuNiAyOC4yIDYyLjYgNjIuNlY4OTljMCAzNC40LTI4LjIgNjIuNi02Mi42IDYyLjZIMjA5LjFjLTM0LjQgMC02Mi42LTI4LjItNjIuNi02Mi42VjEyOC4yYzAtMzQuNCAyOC4yLTYyLjYgNjIuNi02Mi42eiIgZmlsbD0iIzVCNzlGQiIgcC1pZD0iMTQwMyI+PC9wYXRoPjxwYXRoIGQ9Ik0yMjEuNyAxMTQuOWg1ODEuOWMxNy4zIDAgMzEuNSAxNC4yIDMxLjUgMzEuNXY4OC43YzAgMTcuMy0xNC4yIDMxLjUtMzEuNSAzMS41SDIyMS43Yy0xNy4zIDAtMzEuNS0xNC4yLTMxLjUtMzEuNXYtODguN2MwLTE3LjMgMTQuMi0zMS41IDMxLjUtMzEuNXoiIGZpbGw9IiNFNUVDRkYiIHAtaWQ9IjE0MDQiPjwvcGF0aD48cGF0aCBkPSJNMjE5LjMgMjkwLjJoODEuOWMxNiAwIDI5LjEgMTMuMSAyOS4xIDI5LjF2ODQuOWMwIDE2LTEzLjEgMjkuMS0yOS4xIDI5LjFoLTgxLjljLTE2IDAtMjkuMS0xMy4xLTI5LjEtMjkuMXYtODQuOWMwLTE2IDEzLjEtMjkuMSAyOS4xLTI5LjF6TTM4Ny42IDI5MC4yaDgxLjljMTYgMCAyOS4xIDEzLjEgMjkuMSAyOS4xdjg0LjljMCAxNi0xMy4xIDI5LjEtMjkuMSAyOS4xaC04MS45Yy0xNiAwLTI5LjEtMTMuMS0yOS4xLTI5LjF2LTg0LjljMC0xNiAxMy4xLTI5LjEgMjkuMS0yOS4xek01NTUuOSAyOTAuMmg4MS45YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45Yy0wLjEtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXpNNzI0LjEgMjkwLjJIODA2YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45YzAtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXpNMjE5LjMgNDUzLjRoODEuOWMxNiAwIDI5LjEgMTMuMSAyOS4xIDI5LjF2ODQuOWMwIDE2LTEzLjEgMjkuMS0yOS4xIDI5LjFoLTgxLjljLTE2IDAtMjkuMS0xMy4xLTI5LjEtMjkuMXYtODQuOWMwLTE2IDEzLjEtMjkuMSAyOS4xLTI5LjF6TTM4Ny42IDQ1My40aDgxLjljMTYgMCAyOS4xIDEzLjEgMjkuMSAyOS4xdjg0LjljMCAxNi0xMy4xIDI5LjEtMjkuMSAyOS4xaC04MS45Yy0xNiAwLTI5LjEtMTMuMS0yOS4xLTI5LjF2LTg0LjljMC0xNiAxMy4xLTI5LjEgMjkuMS0yOS4xek01NTUuOSA0NTMuNGg4MS45YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45Yy0wLjEtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXpNNzI0LjEgNDUzLjRIODA2YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45YzAtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXpNMjE5LjMgNjE2LjZoODEuOWMxNiAwIDI5LjEgMTMuMSAyOS4xIDI5LjF2ODQuOWMwIDE2LTEzLjEgMjkuMS0yOS4xIDI5LjFoLTgxLjljLTE2IDAtMjkuMS0xMy4xLTI5LjEtMjkuMXYtODQuOWMwLTE2IDEzLjEtMjkuMSAyOS4xLTI5LjF6TTM4Ny42IDYxNi42aDgxLjljMTYgMCAyOS4xIDEzLjEgMjkuMSAyOS4xdjg0LjljMCAxNi0xMy4xIDI5LjEtMjkuMSAyOS4xaC04MS45Yy0xNiAwLTI5LjEtMTMuMS0yOS4xLTI5LjF2LTg0LjljMC0xNiAxMy4xLTI5LjEgMjkuMS0yOS4xek01NTUuOSA2MTYuNmg4MS45YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45Yy0wLjEtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXpNNzI0LjEgNjE2LjZIODA2YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45YzAtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXpNMjE5LjMgNzc5LjhoODEuOWMxNiAwIDI5LjEgMTMuMSAyOS4xIDI5LjF2ODQuOWMwIDE2LTEzLjEgMjkuMS0yOS4xIDI5LjFoLTgxLjljLTE2IDAtMjkuMS0xMy4xLTI5LjEtMjkuMXYtODQuOWMwLTE2IDEzLjEtMjkuMSAyOS4xLTI5LjF6TTM4Ny42IDc3OS44aDgxLjljMTYgMCAyOS4xIDEzLjEgMjkuMSAyOS4xdjg0LjljMCAxNi0xMy4xIDI5LjEtMjkuMSAyOS4xaC04MS45Yy0xNiAwLTI5LjEtMTMuMS0yOS4xLTI5LjF2LTg0LjljMC0xNiAxMy4xLTI5LjEgMjkuMS0yOS4xek01NTUuOSA3NzkuOGg4MS45YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45Yy0wLjEtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXoiIGZpbGw9IiNBNEJFRkYiIHAtaWQ9IjE0MDUiPjwvcGF0aD48cGF0aCBkPSJNNzI0LjEgNzc5LjhIODA2YzE2IDAgMjkuMSAxMy4xIDI5LjEgMjkuMXY4NC45YzAgMTYtMTMuMSAyOS4xLTI5LjEgMjkuMWgtODEuOWMtMTYgMC0yOS4xLTEzLjEtMjkuMS0yOS4xdi04NC45YzAtMTYgMTMuMS0yOS4xIDI5LjEtMjkuMXoiIGZpbGw9IiNGRjdFNzEiIHAtaWQ9IjE0MDYiPjwvcGF0aD48cGF0aCBkPSJNMjgxLjYgMzQyLjNjLTYuNSA3LjYtMTAuOSAxNC43LTEzLjMgMjEuMi0yLjQgNi42LTQuMSAxNC41LTUuMSAyMy44bC0wLjYgNi4yaC0xMi4xbDAuNi02LjJjMC45LTguOSAzLTE3IDYuMS0yNC41IDMuMS03LjQgNy4zLTE0LjMgMTIuNy0yMC41aC0zMS4xVjMzM2g0Mi43djkuM3pNNDQ5LjUgMzQ3LjZjMCAzLTAuOCA1LjctMi40IDgtMS42IDIuMy0zLjggNC4xLTYuNiA1LjQgMy4yIDEuNCA1LjggMy4zIDcuNiA1LjggMS45IDIuNSAyLjggNS40IDIuOCA4LjYgMCA1LjYtMS45IDkuOS01LjcgMTIuOS0zLjggMy04LjggNC41LTE0LjkgNC41LTYuMiAwLTExLjItMS41LTE1LTQuNS0zLjgtMy01LjctNy4zLTUuNy0xMi45IDAtMy4zIDAuOS02LjIgMi44LTguNyAxLjgtMi41IDQuNC00LjUgNy42LTUuOC0yLjgtMS4zLTUtMy4xLTYuNi01LjQtMS42LTIuMy0yLjQtNS0yLjQtOCAwLTUuNCAxLjgtOS41IDUuMy0xMi41IDMuNS0yLjkgOC4yLTQuNCAxMy45LTQuNCA1LjcgMCAxMC40IDEuNSAxMy45IDQuNCAzLjYgMy4xIDUuNCA3LjIgNS40IDEyLjZ6IG0tMTAuOCAyNy4xYzAtMi43LTAuOC00LjktMi40LTYuNS0xLjYtMS42LTMuNi0yLjUtNi4xLTIuNS0yLjYgMC00LjYgMC44LTYuMSAyLjUtMS41IDEuNi0yLjMgMy44LTIuMyA2LjUgMCAyLjggMC44IDUgMi4zIDYuNSAxLjUgMS42IDMuNiAyLjQgNi4yIDIuNCAyLjUgMCA0LjYtMC44IDYuMS0yLjQgMS42LTEuNiAyLjMtMy44IDIuMy02LjV6IG0tMS4zLTI2LjZjMC0yLjQtMC42LTQuNC0xLjktNS45LTEuMy0xLjUtMy0yLjItNS4yLTIuMnMtNCAwLjctNS4yIDIuMmMtMS4yIDEuNC0xLjkgMy40LTEuOSA1LjkgMCAyLjUgMC42IDQuNSAxLjkgNiAxLjMgMS41IDMgMi4yIDUuMyAyLjIgMi4yIDAgMy45LTAuNyA1LjItMi4yIDEuMS0xLjQgMS44LTMuNCAxLjgtNnpNNTk1LjcgMzgzLjZjMy4yIDAgNS44LTEuMiA3LjgtMy42IDItMi40IDMtNS44IDMtMTAuMnYtM2MtMS40IDEuNy0zIDMtNC44IDMuOS0xLjkgMC45LTMuOSAxLjMtNiAxLjMtNS42IDAtMTAuMS0xLjgtMTMuMy01LjUtMy4yLTMuNy00LjgtOC42LTQuOC0xNC45IDAtNiAxLjktMTEgNS43LTE1LjEgMy44LTQgOC43LTYgMTQuNi02IDYuMiAwIDExLjIgMi4xIDE1IDYuNCAzLjkgNC4zIDUuOCAxMC4yIDUuOCAxNy45djE0LjNjMCA3LjMtMi4yIDEzLjEtNi41IDE3LjMtNC4zIDQuMi05LjggNi4zLTE2LjUgNi4zLTIuMSAwLTQuMy0wLjItNi41LTAuNi0yLjItMC40LTQuMy0xLjEtNi4yLTEuOWwxLjQtOC44YzEuOCAwLjcgMy42IDEuMiA1LjMgMS41IDEuOCAwLjYgMy44IDAuNyA2IDAuN3ogbTItMjAuM2MyIDAgMy43LTAuNCA1LjItMS4xIDEuNS0wLjggMi43LTEuNyAzLjYtM3YtNS42YzAtNC40LTAuOC03LjgtMi4zLTEwLjEtMS41LTIuMy0zLjctMy40LTYuMy0zLjQtMi40IDAtNC40IDEuMS02IDMuNC0xLjUgMi4zLTIuMyA1LTIuMyA4LjMgMCAzLjQgMC43IDYuMiAyLjEgOC4zIDEuNCAyLjEgMy40IDMuMiA2IDMuMnpNNzM5LjYgMzQzLjJjMC0zLjYgMS4yLTYuNSAzLjUtOC45IDIuMy0yLjQgNS41LTMuNiA5LjctMy42IDQuMiAwIDcuNCAxLjIgOS43IDMuNSAyLjMgMi40IDMuNCA1LjQgMy40IDl2My4yYzAgMy42LTEuMiA2LjUtMy40IDguOS0yLjMgMi40LTUuNSAzLjUtOS42IDMuNS00LjIgMC03LjQtMS4yLTkuNy0zLjUtMi4zLTIuMy0zLjUtNS4zLTMuNS04Ljl2LTMuMmgtMC4xeiBtOC4xIDMuMmMwIDEuNiAwLjQgMi45IDEuMyA0czIuMiAxLjYgMy44IDEuNmMxLjYgMCAyLjktMC42IDMuNy0xLjYgMC45LTEuMSAxLjMtMi40IDEuMy00di0zLjJjMC0xLjYtMC40LTMtMS4zLTQuMS0wLjktMS4xLTIuMi0xLjctMy44LTEuNy0xLjYgMC0yLjkgMC42LTMuOCAxLjctMC45IDEuMS0xLjMgMi41LTEuMyA0LjF2My4yaDAuMXogbTIwLjkgMzAuOGMwLTMuNSAxLjItNi41IDMuNS04LjkgMi4zLTIuNCA1LjYtMy42IDkuNy0zLjYgNC4yIDAgNy40IDEuMiA5LjcgMy41IDIuMyAyLjQgMy41IDUuMyAzLjUgOC45djMuMmMwIDMuNi0xLjEgNi42LTMuNCA4LjktMi4zIDIuNC01LjUgMy41LTkuNiAzLjUtNC4yIDAtNy40LTEuMi05LjctMy41LTIuMy0yLjQtMy41LTUuMy0zLjUtOC45di0zLjFoLTAuMnogbTggMy4yYzAgMS42IDAuNSAyLjkgMS40IDQgMSAxLjEgMi4yIDEuNyAzLjggMS43IDEuOCAwIDMuMS0wLjUgMy45LTEuNiAwLjgtMSAxLjItMi40IDEuMi00LjJ2LTMuMmMwLTEuNi0wLjQtMi45LTEuMy00cy0yLjItMS43LTMuOC0xLjdjLTEuNyAwLTIuOSAwLjYtMy44IDEuNy0wLjkgMS4xLTEuMyAyLjUtMS4zIDR2My4zaC0wLjF6IG0tMjEuNyA3LjFsMjkuNS00Ny4zLTUuOS0zLjEtMjkuNSA0Ny4zIDUuOSAzLjF6TTI3Ni4xIDUzMi42aDYuOXY5LjRoLTYuOXYxMy4xSDI2NFY1NDJoLTI0LjdsLTAuNS03LjMgMjUuMS00MC4xaDEyLjJ2Mzh6IG0tMjYgMEgyNjR2LTIxLjhsLTAuMi0wLjEtMSAxLjctMTIuNyAyMC4yek00MTEuNSA1MjguNGwzLjUtMzMuN2gzMy43djkuN2gtMjMuOGwtMS43IDE0YzEuMS0wLjggMi40LTEuNSA0LTIuMSAxLjYtMC41IDMuMy0wLjggNS4yLTAuOSA1LjgtMC4xIDEwLjMgMS43IDEzLjUgNS4zIDMuMiAzLjYgNC44IDguNiA0LjggMTUgMCA1LjgtMS44IDEwLjYtNS4zIDE0LjUtMy41IDMuOC04LjYgNS44LTE1LjEgNS44LTUuNiAwLTEwLjMtMS41LTE0LjMtNC42LTQtMy01LjktNy4yLTUuNy0xMi41bDAuMS0wLjIgMTEuNy0wLjZjMCAyLjcgMC44IDQuOCAyLjMgNi4zIDEuNSAxLjUgMy41IDIuMyA2IDIuMyAyLjggMCA0LjktMSA2LjMtMyAxLjMtMiAyLTQuNiAyLTcuOSAwLTMuNS0wLjctNi4zLTIuMi04LjQtMS40LTIuMS0zLjYtMy4yLTYuNC0zLjItMi4zIDAtNC4xIDAuNC01LjMgMS4zLTEuMiAwLjktMi4xIDItMi42IDMuNWwtMTAuNy0wLjZ6TTYwMi41IDQ5My44YzIuMyAwIDQuNCAwLjIgNi4zIDAuNiAxLjkgMC40IDMuOSAxLjEgNS44IDEuOWwtMi4yIDguOWMtMS44LTAuNi0zLjUtMS4xLTQuOS0xLjQtMS40LTAuMy0zLjEtMC41LTUtMC41LTMuNyAwLTYuNiAxLjQtOC45IDQuMS0yLjIgMi44LTMuMyA2LjYtMy4xIDExLjRsMC4xIDAuMmMxLjQtMS40IDMuMS0yLjUgNS4yLTMuMyAyLjEtMC44IDQuNC0xLjIgNy0xLjIgNS40IDAgOS42IDEuOSAxMi43IDUuOCAzLjEgMy44IDQuNiA4LjcgNC42IDE0LjcgMCA2LjEtMS45IDExLjEtNS43IDE1LjEtMy44IDQtOC43IDUuOS0xNC43IDUuOS02LjQgMC0xMS42LTIuMi0xNS42LTYuNXMtNi0xMC4zLTYtMTh2LTExLjhjMC03LjkgMi4zLTE0LjIgNi44LTE4LjkgNC44LTQuNyAxMC42LTcgMTcuNi03eiBtLTIuNyAzMGMtMi4zIDAtNC4yIDAuNC01LjcgMS4xLTEuNiAwLjctMi44IDEuNy0zLjYgM3Y0YzAgNC44IDAuOSA4LjUgMi42IDExIDEuNyAyLjYgNCAzLjkgNi45IDMuOSAyLjUgMCA0LjUtMS4xIDYtMy40czIuMy01IDIuMy04LjNjMC0zLjMtMC44LTYuMS0yLjMtOC4xLTEuNy0yLjItMy43LTMuMi02LjItMy4yek03NjcgNTI0LjVoMC4ybDYuOS0xNC4zaDEzLjdsLTEzLjUgMjIuMiAxNCAyMi44aC0xMy43bC03LjMtMTUtNy40IDE1aC0xMy43bDE0LTIyLjgtMTMuNi0yMi4yaDEzLjZ6TTI2Ny45IDcxOC40aC0xMi4xdi00OS44aC0xMi4zVjY2MGwyNC40LTIuMXpNNDUxLjMgNzE4LjRINDEwdi03LjlsMTkuNi0yMWMyLjgtMy4yIDQuOC02IDYtOC4yIDEuMi0yLjIgMS44LTQuMyAxLjgtNi4yIDAtMi41LTAuNy00LjYtMi4xLTYuMy0xLjQtMS42LTMuMy0yLjQtNS44LTIuNC0yLjggMC00LjkgMC45LTYuNCAyLjktMS40IDEuOS0yLjIgNC40LTIuMiA3LjZoLTExLjhsLTAuMS0wLjJjLTAuMS01LjUgMS42LTEwLjEgNS40LTEzLjkgMy43LTMuOCA4LjctNS43IDE1LjEtNS43IDYuMiAwIDExLjEgMS42IDE0LjcgNC45IDMuNiAzLjIgNS4zIDcuNiA1LjMgMTMgMCAzLjctMSA3LTMgMTAuMS0yIDMuMS01LjMgNy4xLTEwIDEyLjJsLTEwLjggMTEuOCAwLjEgMC4yaDI1LjR2OS4xek01OTAuNSA2ODNoNi44YzIuOSAwIDUtMC44IDYuNC0yLjMgMS40LTEuNSAyLjEtMy42IDIuMS02LjMgMC0yLjQtMC43LTQuNC0yLjEtNS45LTEuNC0xLjUtMy40LTIuMi02LTIuMi0yLjMgMC00LjIgMC43LTUuNyAyLTEuNiAxLjMtMi4zIDMuMS0yLjMgNS4yaC0xMS44bC0wLjEtMC4zYy0wLjItNC43IDEuNi04LjYgNS40LTExLjcgMy44LTMuMSA4LjUtNC42IDE0LjEtNC42IDYuMyAwIDExLjIgMS41IDE1IDQuNSAzLjcgMyA1LjYgNy4zIDUuNiAxMi44IDAgMi42LTAuOCA1LjEtMi41IDcuNS0xLjcgMi40LTMuOSA0LjItNi44IDUuNSAzLjMgMS4yIDUuOSAzIDcuNyA1LjUgMS44IDIuNSAyLjYgNS4zIDIuNiA4LjYgMCA1LjUtMiA5LjktNiAxMy4xLTQgMy4yLTkuMiA0LjctMTUuNSA0LjctNS42IDAtMTAuNS0xLjUtMTQuNS00LjVzLTYtNy4yLTUuOC0xMi42bDAuMS0wLjNINTg5YzAgMi4zIDAuOCA0LjMgMi41IDUuOHMzLjggMi4zIDYuMyAyLjNjMi44IDAgNS0wLjggNi42LTIuMyAxLjYtMS41IDIuNC0zLjcgMi40LTYuMyAwLTMuMi0wLjgtNS41LTIuNC03LTEuNi0xLjUtMy45LTIuMi03LTIuMmgtNi44di05ek03NTUuNiA2ODguMkg3Nzl2OS4zaC0yMy40ek0yODEuMyA4NThjMCA4LTEuOCAxNC4xLTUuNSAxOC4ycy04LjYgNi4yLTE0LjkgNi4yYy02LjMgMC0xMS4zLTIuMS0xNS02LjItMy43LTQuMS01LjUtMTAuMi01LjUtMTguMnYtMTMuM2MwLTggMS44LTE0LjEgNS41LTE4LjIgMy43LTQuMiA4LjYtNi4yIDE0LjktNi4yIDYuMyAwIDExLjIgMi4xIDE0LjkgNi4yIDMuNyA0LjIgNS41IDEwLjIgNS41IDE4LjJWODU4aDAuMXogbS0xMi4xLTE0LjZjMC00LjgtMC43LTguMy0yLjItMTAuNS0xLjQtMi4yLTMuNS0zLjMtNi4yLTMuMy0yLjggMC00LjggMS4xLTYuMiAzLjMtMS40IDIuMi0yLjEgNS43LTIuMSAxMC42djE1LjdjMCA0LjkgMC43IDguNCAyLjEgMTAuNyAxLjQgMi4yIDMuNSAzLjMgNi4zIDMuMyAyLjcgMCA0LjgtMS4xIDYuMi0zLjMgMS40LTIuMiAyLjEtNS44IDIuMS0xMC43di0xNS44ek00MjAuNiA4NDguMWMwLTIuOCAwLjktNSAyLjctNi44IDEuOC0xLjggNC4yLTIuNyA3LjEtMi43IDMgMCA1LjUgMC45IDcuMyAyLjYgMS44IDEuOCAyLjcgNCAyLjcgNi44djMuN2MwIDIuOC0wLjkgNS0yLjcgNi44LTEuOCAxLjctNC4yIDIuNi03LjIgMi42cy01LjQtMC45LTcuMi0yLjZjLTEuOC0xLjctMi43LTQtMi43LTYuN3YtMy43ek02MDQuMSA4NDcuOGgxNXYxMC41aC0xNXYxNy4yaC0xMS40di0xNy4yaC0xNS4xdi0xMC41aDE1LjF2LTE2LjNoMTEuNHpNNzg1LjUgODQ5LjloLTM3LjJ2LTkuNWgzNy4ydjkuNXogbTAgMTcuOWgtMzcuMnYtOS41aDM3LjJ2OS41eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iMTQwNyI+PC9wYXRoPjwvc3ZnPg=="},Dno8:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1__libs_utils_formatter_js__=__webpack_require__("K/T8");__webpack_exports__.a={name:"counter",props:{count:Number},data:function(){var t={formula:"",result:""},e=new Array(7).fill(null).map(function(e){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},t)});return{formatter:__WEBPACK_IMPORTED_MODULE_1__libs_utils_formatter_js__.b,keyboard:[{key:"(",id:1},{key:")",id:1},{key:"copy",id:1},{key:"AC",id:1},{key:1,id:1},{key:2,id:1},{key:3,id:1},{key:"/",id:1},{key:4,id:1},{key:5,id:1},{key:6,id:1},{key:"*",id:1},{key:7,id:1},{key:8,id:1},{key:9,id:1},{key:"-",id:1},{key:0,id:1},{key:".",id:1},{key:"=",id:1},{key:"+",id:1}],text:"",result:0,icon:!1,propsNum:0,formulaState:!1,formulaList:e,resultClass:""}},watch:{text:function(t,e){var n=this;if(t&&"string"==typeof t){var r=new RegExp("[\\u4E00-\\u9FFF]","g"),a=t.match(r),i=t.match(/[a-zA-Z]+/),o=t.match(/[`~!@#$^&_=<>?:"{}|,;'\\[\]·~！@#￥……&（）——={}|《》？：“”【】、；‘'，。、]/im);a&&a.length&&a.forEach(function(e){n.text=t.replaceAll(e,"")}),i&&i.length&&i.forEach(function(e){n.text=t.replaceAll(e,"")}),o&&o.length&&o.forEach(function(e){n.text=t.replaceAll(e,"")})}},count:function(t,e){var n=this.text.length;t&&(this.propsNum++,this.propsNum>=2&&-1=="+-*/".indexOf(this.text.slice(n-1,n))?this.text+="+"+t:this.text+=t)}},filters:{capitalize:function(t){return isNaN(1*t)?t:__WEBPACK_IMPORTED_MODULE_1__libs_utils_formatter_js__.b.commafy(1*t)}},methods:{entry:function entry(val){var textarea=this.$refs.textarea;if(textarea.focus(),"AC"==val.key)this.text="",this.result=0,this.propsNum=0,this.$emit("clear",0);else if("="===val.key)try{this.result=eval(this.text.replaceAll("%","/100"))}catch(t){this.result="公式错误！"}else"copy"===val.key&&this.copyTextToClipboard();var pressKey=""+val.key,start=void 0;start=textarea.selectionStart,pressKey&&(null!=start?this.text=this.text.slice(0,start)+pressKey+this.text.slice(start):this.text+=pressKey),pressKey=""},keyDown:function(t){this.$refs.textarea.focus()},keepFocus:function(){var t=this.$refs.textarea;t.focus(),this.$nextTick(function(){t.onblur=function(){t.focus()}})},moveWindow:function(){var t=this.$refs.counter,e=this.$refs.title,n=!1,r=0,a=0;e.onmousedown=function(e){e=e||window.event;n=!0,r=e.clientX-t.offsetLeft,a=e.clientY-t.offsetTop},document.onmousemove=function(e){if(n){var i=(e=e||window.event).clientX-r,o=e.clientY-a,s=document.documentElement.clientWidth-t.offsetWidth,c=document.documentElement.clientHeight-t.offsetHeight;return i=(i=i<0?0:i)>s?s:i,o=(o=o<0?0:o)>c?c:o,t.style.marginTop=t.style.marginLeft=0,t.style.left=i+"px",t.style.top=o+"px",!1}},document.onmouseup=window.onblur=e.onlosecapture=function(){n=!1,e.releaseCapture&&e.releaseCapture()}},copyTextToClipboard:function(){var t=document.createElement("input");t.style.background="transparent",t.value=__WEBPACK_IMPORTED_MODULE_1__libs_utils_formatter_js__.b.commafy(1*this.result),document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(t){console.log("Oops, unable to copy")}document.body.removeChild(t)},saveFormula:function(t){this.formulaList[t].formula=this.text,this.formulaList[t].result=this.result;var e=this.$refs["results"+t].offsetWidth;this.resultClass=e>220?"span-formula":""},showData:function(t,e){return t&&!e?""+t:t+"="+__WEBPACK_IMPORTED_MODULE_1__libs_utils_formatter_js__.b.commafy(1*e)},backView:function(t){this.text=this.formulaList[t].formula,this.result=this.formulaList[t].result}},mounted:function(){this.moveWindow()}}},Fk41:function(t,e){},IK1N:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Dd8w"),a=n.n(r),i=n("mvHQ"),o=n.n(i),s=n("0RKR"),c=n("K/T8"),u=n("M4fF"),l=n.n(u),d={template:'\n                            <div\n                                class="slot-div"\n                                @dblclick="\n                                    switchState(\n                                        $event,\n                                        row\n                                    )\n                                "\n                            >\n                                <a-input-number\n                                v-if="inputState"\n                                    v-model="value"\n                                    :default-value="0"\n                                    :precision="2"\n                                    :max="99999999999999999999.99"\n                                    :formatter="formatterMoney"\n                                    :parser="parser"\n                                    @change="onChange($event, row)"\n                                />\n                                <div\n                                    class="slot-div"\n                                    style="text-align: right"\n                                    v-else\n                                >\n                                    {{formatter.commafy(value)}}\n                                </div>\n                            </div>',props:["text","row","columns","menuItem"],data:function(){return{formatter:c.b,value:""}},computed:{inputState:function(){return!this.row.isSumItem&&this.row["is"+this.columns+"Show"]}},watch:{text:{handler:function(t,e){this.value=t},immediate:!0}},methods:{formatterMoney:function(t){return(""+t.match(/^[\+\-]?\d*?\.?\d*?$/)).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\$\s?|(,*)/g,"")},onChange:function(t,e){},switchState:function(t,e){var n=this;"1"!=this.menuItem.isChecked&&(this.$set(e,"is"+this.columns+"Show",!0),this.$nextTick(function(){if("DIV"==t.target.tagName){var r=t.currentTarget.querySelector("input");if(r){r.blur(),r.focus();var a=n;r.addEventListener("blur",function(){a.$set(e,"is"+a.columns+"Show",!1);var t="oppoOffsetAmount"===a.columns?"2":"1";a.$emit("cellValueChange",t,e,a.columns,a.value)})}}}))}}},h=[{title:"借方科目",dataIndex:"debitName",key:"debitName",ellipsis:!0,width:150,scopedSlots:{customRender:"debitName"}},{title:"贷方科目",dataIndex:"creditName",key:"creditName",ellipsis:!0,width:150,scopedSlots:{customRender:"creditName"}},{title:"金额",dataIndex:"amount",key:"amount",scopedSlots:{customRender:"amount"},width:130,ellipsis:!0,align:"right",customRender:c.b.commafy},{title:"数量",dataIndex:"num",key:"num",ellipsis:!0,width:100,scopedSlots:{customRender:"num"}}],f=[{title:"项目",dataIndex:"colDisp",key:"colDisp",ellipsis:!0,width:350,scopedSlots:{customRender:"colDisp"}},{title:"关联方",dataIndex:"curAmount",key:"curAmount",ellipsis:!0,width:250,scopedSlots:{customRender:"curAmount"},customRender:c.b.commafy},{title:"对方",dataIndex:"curAmount1",key:"curAmount1",ellipsis:!0,width:250,scopedSlots:{customRender:"curAmount1"},customRender:c.b.commafy}],m=[{title:"凭证日期",key:"vchDate",width:110,ellipsis:!0,dataIndex:"vchDate",scopedSlots:{customRender:"vchDate"}},{title:"字",key:"typeId",width:50,ellipsis:!0,dataIndex:"typeId",scopedSlots:{customRender:"typeId"}},{title:"号",width:190,key:"oldVoucherId",ellipsis:!0,dataIndex:"oldVoucherId",scopedSlots:{customRender:"oldVoucherId"}},{title:"借方科目",key:"subjectName",dataIndex:"subjectName",ellipsis:!0,width:160,scopedSlots:{customRender:"subjectName"}},{title:"贷方科目",key:"oppoSubjectName",dataIndex:"oppoSubjectName",ellipsis:!0,width:160,scopedSlots:{customRender:"oppoSubjectName"}},{title:"摘要",key:"summary",dataIndex:"summary",ellipsis:!0,width:160,scopedSlots:{customRender:"summary"}},{title:"借方发生额",key:"occurValue",dataIndex:"occurValue",scopedSlots:{customRender:"occurValue"},align:"right",ellipsis:!0,width:150},{title:"贷方发生额",key:"occupyPosition",dataIndex:"occupyPosition",align:"right",ellipsis:!0,width:120,scopedSlots:{customRender:"occupyPosition"}}],p=[{title:"凭证日期",key:"vchDate",width:110,dataIndex:"vchDate",scopedSlots:{customRender:"vchDate"}},{title:"字",key:"typeId",width:60,dataIndex:"typeId",scopedSlots:{customRender:"typeId"}},{title:"号",width:150,key:"oldVoucherId",dataIndex:"oldVoucherId",scopedSlots:{customRender:"oldVoucherId"}},{title:"借方科目",key:"subjectName",dataIndex:"subjectName",width:250,ellipsis:!0,scopedSlots:{customRender:"subjectName"}},{title:"贷方科目",key:"oppoSubjectName",dataIndex:"oppoSubjectName",width:250,ellipsis:!0,scopedSlots:{customRender:"oppoSubjectName"}},{title:"摘要",key:"summary",dataIndex:"summary",width:250,ellipsis:!0,scopedSlots:{customRender:"summary"}},{dataIndex:"occurValue",width:160,title:"金额",align:"right",key:"occurValue",fixed:"right",slots:{title:"occurValue"},scopedSlots:{customRender:"occurValue"},customRender:c.b.commafy},{title:"操作",key:"action",width:110,dataIndex:"action",fixed:"right",scopedSlots:{customRender:"action"}}],y=[{title:"借方科目",dataIndex:"debitAccountName",key:"debitAccountName",width:180,scopedSlots:{customRender:"debitAccountName"}},{title:"贷方科目",dataIndex:"creditAccountName",key:"creditAccountName",width:180,scopedSlots:{customRender:"creditAccountName"}},{title:"调整后金额",key:"balance",dataIndex:"balance",width:200,align:"right",scopedSlots:{customRender:"balance"},customRender:c.b.commafy},{title:"调整后数量",key:"balanceNum",dataIndex:"balanceNum",align:"right",width:130,scopedSlots:{customRender:"balanceNum"}},{title:"操作",key:"action",dataIndex:"action",width:80,scopedSlots:{customRender:"action"}}],g={data:function(){var t=this;return{formatter:c.b,columns:m,columns1:[{title:"序号",width:80,customRender:this.orderNumber},{title:"凭证日期",key:"vchDate",width:110,dataIndex:"vchDate",ellipsis:!0,scopedSlots:{customRender:"vchDate"}},{title:"字",key:"typeId",width:60,dataIndex:"typeId",ellipsis:!0,scopedSlots:{customRender:"typeId"}},{title:"号",width:150,key:"oldVoucherId",dataIndex:"oldVoucherId",ellipsis:!0,scopedSlots:{customRender:"oldVoucherId"}},{title:"借方科目",key:"subjectName",dataIndex:"subjectName",width:250,ellipsis:!0,scopedSlots:{customRender:"subjectName"}},{title:"贷方科目",key:"oppoSubjectName",dataIndex:"oppoSubjectName",width:250,ellipsis:!0,scopedSlots:{customRender:"oppoSubjectName"}},{title:"摘要",key:"summary",dataIndex:"summary",width:250,ellipsis:!0,scopedSlots:{customRender:"summary"}},{dataIndex:"occurValue",width:160,title:"金额",align:"right",key:"occurValue",scopedSlots:{customRender:"occurValue"},customRender:c.b.commafy},{title:"操作",key:"action",width:200,dataIndex:"action",fixed:"right",scopedSlots:{customRender:"action"}}],columns2:h,columns3:[{title:"项目",dataIndex:"colName",key:"colName",width:350,ellipsis:!0,scopedSlots:{customRender:"colName"},customCell:this.customCellStyle},{title:"本期金额",dataIndex:"amount",key:"amount",width:180,align:"right",scopedSlots:{customRender:"amount"}}],checkedResultColumns:[{title:"项目",dataIndex:"colName",key:"colName",ellipsis:!0,width:300,scopedSlots:{customRender:"colName"},customCell:this.customCellStyle},{title:"关联方",dataIndex:"amount",key:"amount",width:250,ellipsis:!0,align:"right",scopedSlots:{customRender:"amount"}},{dataIndex:"oppoAmount",key:"oppoAmount",width:200,ellipsis:!0,align:"right",scopedSlots:{customRender:"oppoAmount"},slots:{title:"customTitle"}},{dataIndex:"offsetAmount",key:"offsetAmount",width:200,ellipsis:!0,align:"right",slots:{title:"offsetAmountTitle"},scopedSlots:{customRender:"offsetAmount"}},{dataIndex:"oppoOffsetAmount",key:"oppoOffsetAmount",width:200,ellipsis:!0,align:"right",slots:{title:"oppoOffsetAmountTitle"},scopedSlots:{customRender:"oppoOffsetAmount"}}],columns5:f,viewVoucherColumns:[],data1:[],data2:[],data3:[],checkedResultData:[],data5:[],viewVoucherData:[],menuList:[],menuItem:{},userInfo:s.a.findUserInfo(),visible:!1,confirmLoading:!1,checkResultVisible:!1,checkResultConfirmLoading:!1,viewVoucherVisible:!1,viewVoucherConfirmLoading:!1,rightTableRow:{},adjustVoucherEntryVisible:!1,adjustVoucherEntryConfirmLoading:!1,adjustVoucherEntryData:[],title:"",colDisp:"",selectedRowKeys:[],selectedRows:[],start:0,limit:10,pagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.pagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.start=e-1,t.limit=n,t.pagination.pageSize=n,t.querySubjectAllEntry()},onChange:function(e,n){t.start=(e-1)*n,t.limit=t.pagination.pageSize,t.pagination.current=e,t.querySubjectAllEntry()}},relatedEntrysStart:0,relatedEntrysLimit:10,relatedEntrysPagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.relatedEntrysPagination.total+"条"},change:!0,onShowSizeChange:function(e,n){console.log("current",e),t.relatedEntrysPagination.current=1,t.relatedEntrysStart=0,t.relatedEntrysLimit=n,t.relatedEntrysPagination.pageSize=n,t.getMerchantrelatedEntrys()},onChange:function(e,n){t.relatedEntrysStart=(e-1)*n,t.relatedEntrysLimit=t.relatedEntrysPagination.pageSize,t.relatedEntrysPagination.current=e,t.getMerchantrelatedEntrys()}},entryContrastStart:0,entryContrastLimit:10,entryContrastPagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.entryContrastPagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.entryContrastStart=0,t.entryContrastLimit=n,t.entryContrastPagination.pageSize=n,t.entryContrastPagination.current=1,t.queryEntryContrast()},onChange:function(e,n){t.entryContrastStart=(e-1)*n,t.entryContrastLimit=t.entryContrastPagination.pageSize,t.entryContrastPagination.current=e,t.queryEntryContrast()}},checkDataShow:{},colName:"",spinning:!1,tableLoading:{spinning:!1,tip:"加载中...",size:"large"},checkTableLoading:{spinning:!1,tip:"加载中...",size:"large"},loading:{spinning:!1,tip:"加载中...",size:"large"},voucherEntryInfoLoading:{spinning:!1,tip:"加载中...",size:"large"},lookAddLoading:{spinning:!1,tip:"加载中...",size:"large"},lookAddStart:0,lookAddLimit:10,lookAddPagination:{current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!1,size:"small",total:0,showTotal:function(){return"共"+t.lookAddPagination.total+"条"},change:!0,onShowSizeChange:function(e,n){t.lookAddStart=e-1,t.lookAddLimit=n,t.lookAddPagination.pageSize=n,t.param.start=t.lookAddStart,t.param.limit=t.lookAddLimit,t.queryStatementAllEntry()},onChange:function(e,n){t.lookAddStart=(e-1)*n,t.lookAddLimit=t.lookAddPagination.pageSize,t.lookAddPagination.current=e,t.param.start=t.lookAddStart,t.param.limit=t.lookAddLimit,t.queryStatementAllEntry()}},key:"1",addColumns:y,addData:[],addConfirmLoading:!1,addVisible:!1,form:{debitName:"",creditName:"",summary:""},lookAddColumns:p,lookAddData:[],lookAddVisible:!1,leftTableRow:{},addDialogRow:{},param:{},checkResultsRow:{},dataType:"1",pageShow:!1,submitLoading:!1,checkedResultButState:!1,checkedResultReason:"",checkVisible:!1,reason:"",reasonLoading:!1,checkConfirmLoading:!1,pageContentTip:"",urlQuery:{},otherBut:!1,isSACP:2}},components:{inputNumber:d},watch:{visible:{handler:function(t,e){t||(this.relatedEntrysPagination.current=1,this.relatedEntrysStart=0,this.relatedEntrysLimit=10)}},viewVoucherVisible:{handler:function(t,e){t||(this.entryContrastPagination.current=1,this.entryContrastStart=0,this.entryContrastLimit=10)}}},computed:{routeQuery:function(){return this.$route.query}},methods:{rowClassName:function(t,e){switch(t.property){case"in":return"in";case"out":return"out";default:return""}},checkTableRowClassName:function(t,e){if("F00037"===t.colCode&&1*t.oppoOffsetAmount+1*t.offsetAmount!=0)return 1==t.isRight?"in":"out";if(!1!==t.isSumItem)return"";switch(t.property){case"in":return"in";case"out":return"out";default:return""}},customCellStyle:function(t,e){return{style:{"white-space":"pre-wrap"}}},callback:function(t){this.key=t,2==t?this.getCheckedResult():this.getMerchantrelatedCashFlow()},menuClick:function(t){this.menuItem=t,this.leftTableRow="",this.getMerchantrelatedCashFlow(),this.getCheckedResult()},edit:function(){},look:function(){this.checkResultVisible=!0},handleOk:function(t){var e=this;this.confirmLoading=!0,setTimeout(function(){e.visible=!1,e.confirmLoading=!1},2e3)},handleCancel:function(){this.visible=!1,this.getMerchantrelatedCashFlow(),this.getMerchantrelatedCashFlowDetail()},checkResultHandleOk:function(t){var e=this;this.checkResultConfirmLoading=!0,setTimeout(function(){e.checkResultVisible=!1,e.checkResultConfirmLoading=!1},2e3)},checkResultHandleCancel:function(t){this.checkResultVisible=!1},getMerchantrelated:function(){var t=this,e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear};this.$sacpApis.getMerchantrelated(o()(n)).then(function(e){e.success?e.data&&e.data[0]&&e.data[0].list?(t.menuList=e.data[0].list,t.menuList.forEach(function(e){t.isSACP=e.isSACP,t.menuItem&&e.uscc==t.menuItem.uscc&&(t.menuItem=e)}),t.getCheckedNum()):t.menuList=[]:t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){})},getMerchantrelatedCashFlow:function(){var t=this,e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId};this.loading.spinning=!0,this.data2=[],this.$sacpApis.getMerchantrelatedCashFlow(o()(n)).then(function(e){e.success?(t.loading.spinning=!1,e.data&&e.data[0]&&e.data[0].list?t.data1=e.data[0].list:t.data1=[]):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.loading.spinning=!1})},getMerchantrelatedCashFlowDetail:function(t){var e=this,n=this.userInfo,r=n.curCustomerId,a=n.curProjectId,i=n.curAccYear;t&&(this.leftTableRow=t);var s={customerId:r,projectId:a,yyyy:i,mergeCustomerId:this.leftTableRow.mergeCustomerId,mergeProjectId:this.leftTableRow.mergeProjectId,colCode:this.leftTableRow.colCode};this.colName=this.leftTableRow.colName,this.tableLoading.spinning=!0,this.tableLoading.tip="加载中...",this.$sacpApis.getMerchantrelatedCashFlowDetail(o()(s)).then(function(t){t.success?(e.tableLoading.spinning=!1,t.data&&t.data[0]&&t.data[0].list?e.data2=t.data[0].list:e.data2=[]):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.tableLoading.spinning=!1})},showInitConfirm:function(){var t=this;this.$confirm({title:"提示:",content:"是否确认初始化?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){t.initMerchantrelatedCashFlow()},onCancel:function(){}})},showDeleteConfirm:function(t){var e=this;this.$confirm({title:"提示",content:"是否确定删除该条数据?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){e.deleteMerchantrelatedEntry(t)},onCancel:function(){}})},showCheckConfirm:function(t){var e=this,n=!1,r=!1,a=!1,i={};if(this.checkedResultData.forEach(function(t){"F00037"===t.colCode&&(i=t,""!==t.oppoOffsetAmount&&""!==t.offsetAmount&&1*t.oppoOffsetAmount+1*t.offsetAmount==0?(n=!0,r=""!==t.offsetAmount&&""!==t.amount&&t.offsetAmount==t.amount,a=""!==t.oppoOffsetAmount&&""!==t.oppoAmount&&t.oppoOffsetAmount==t.oppoAmount):n=!1)}),!n)return this.$message.error("【五、现金及现金等价物净增加额】抵销金额（关联方）："+c.b.commafy(i.offsetAmount)+"、抵销金额（对方）："+c.b.commafy(i.oppoOffsetAmount)+"，金额不匹配，无法确认完成！");if(r&&a)this.$confirm({title:"提示",content:"是否确认完成?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){e.checkCompleted()},onCancel:function(){}});else{if(!r&&!a)return this.$message.error("【五、现金及现金等价物净增加额】抵销金额（关联方）："+c.b.commafy(i.offsetAmount)+"、抵销金额（对方）："+c.b.commafy(i.oppoOffsetAmount)+"关联方："+c.b.commafy(i.amount)+"对方："+c.b.commafy(i.oppoAmount)+"，抵销金额与关联现金流不匹配，无法确认完成！");(r||a)&&(this.reason="",this.checkVisible=!0)}},confirmCompletion:function(t){var e=!1,n={};this.checkedResultData.forEach(function(t){"F00037"===t.colCode&&(n=t,t.amount||t.oppoAmount||(e=!0))}),e?this.$message.error("【五、现金及现金等价物净增加额】关联方："+c.b.commafy(n.amount)+"、对方："+c.b.commafy(n.oppoAmount)+"，金额不匹配，无法无关联现流表确认完成！"):this.checkNonCompleted()},initMerchantrelatedCashFlow:function(){var t=this,e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId};this.data2=[],this.spinning=!0,this.pageContentTip="初始化中...",this.$sacpApis.initMerchantrelatedCashFlow(o()(n)).then(function(e){e.success?(t.$message.success("初始化成功!"),t.spinning=!1,t.data1=e.data[0].list):(t.data1=[],t.$message.error(e.resultInfo.statusText))}).catch(function(e){t.$message.error(e)}).finally(function(){t.spinning=!1})},getMerchantrelatedEntrys:function(t){var e=this;t&&(this.rightTableRow=t),this.visible=!0;var n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,autoId:this.rightTableRow.autoId,limit:this.relatedEntrysLimit,start:this.relatedEntrysStart};this.voucherEntryInfoLoading.spinning=!0,this.$sacpApis.getMerchantrelatedEntrys(o()(r)).then(function(t){t.success?(e.voucherEntryInfoLoading.spinning=!1,t.data&&t.data[0]&&t.data[0].list?(e.data3=t.data[0].list,e.relatedEntrysPagination.total=t.totalCount):e.data3=[]):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.voucherEntryInfoLoading.spinning=!1})},getMerchantrelatedEntryInfo:function(t){var e=this;this.viewVoucherColumns=[{title:"序号",width:80,customRender:this.orderNumber2},{title:"摘要",dataIndex:"summary",key:"summary",ellipsis:!0,width:350,scopedSlots:{customRender:"summary"}},{title:"科目编号",dataIndex:"subjectId",key:"subjectId",ellipsis:!0,width:200,scopedSlots:{customRender:"subjectId"}},{title:"科目名称",dataIndex:"subjectName",key:"subjectName",ellipsis:!0,width:250,scopedSlots:{customRender:"subjectName"}},{title:"借方金额",dataIndex:"occurValue",key:"occurValue",width:200,ellipsis:!0,align:"right",scopedSlots:{customRender:"occurValue"}},{title:"贷方金额",dataIndex:"lendValue",key:"lendValue",width:200,ellipsis:!0,align:"right",scopedSlots:{customRender:"lendValue"}}],this.viewVoucherVisible=!0;var n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,autoId:this.rightTableRow.autoId,voucherId:t.voucherId};this.tableLoading.spinning=!0,this.pageShow=!1,this.tableLoading.tip="加载中...",this.$sacpApis.getMerchantrelatedEntryInfo(o()(r)).then(function(t){t.success?(e.tableLoading.spinning=!1,t.data&&t.data[0]&&t.data[0].list?e.viewVoucherData=t.data[0].list:e.viewVoucherData=[]):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.tableLoading.spinning=!1})},viewVoucherHandleOk:function(){},viewVoucherHandleCancel:function(){this.viewVoucherVisible=!1},handleChange:function(t,e){this.selectedRows=e,this.selectedRowKeys=t},getCheckboxProps:function(t){return{props:{disabled:"Disabled User"===t.name,name:t.name}}},querySubjectAllEntry:function(){var t=this;this.adjustVoucherEntryVisible=!0,this.selectedRowKeys=[],this.selectedRows=[];var e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,autoId:this.rightTableRow.autoId,start:this.start,limit:this.limit};this.tableLoading.tip="加载中...",this.tableLoading.spinning=!0,this.$sacpApis.querySubjectAllEntry(o()(n)).then(function(e){e.success?(t.tableLoading.spinning=!1,e.data&&e.data[0]&&e.data[0].list?(t.adjustVoucherEntryData=e.data[0].list,t.pagination.total=e.totalCount):t.adjustVoucherEntryData=[]):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.tableLoading.spinning=!1})},adjustVoucherEntryOK:function(){},adjustVoucherEntryCancel:function(){this.adjustVoucherEntryVisible=!1},addSubjectEntrys:function(){var t=this,e=this.userInfo,n=e.curCustomerId,r=e.curProjectId,a=e.curAccYear,i=this.selectedRows.map(function(t){return t.voucherId}).join(","),s={customerId:n,projectId:r,yyyy:a,autoId:this.rightTableRow.autoId,voucherIds:i};this.tableLoading.spinning=!0,this.tableLoading.tip="保存中...",this.$sacpApis.addSubjectEntrys(o()(s)).then(function(e){e.success?(t.tableLoading.spinning=!1,t.$message.success("保存成功!"),t.adjustVoucherEntryVisible=!1,t.visible=!1,t.getMerchantrelatedEntrys()):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.tableLoading.spinning=!1})},addSubjectAllEntrys:function(){var t=this,e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,autoId:this.rightTableRow.autoId};this.tableLoading.spinning=!0,this.tableLoading.tip="保存中...",this.$sacpApis.addSubjectAllEntrys(o()(n)).then(function(e){e.success?(t.tableLoading.spinning=!1,t.$message.success("保存成功!"),t.adjustVoucherEntryVisible=!1,t.getMerchantrelatedEntrys()):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.tableLoading.spinning=!1})},deleteMerchantrelatedEntry:function(t){var e=this,n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,autoId:this.rightTableRow.autoId,voucherId:t.voucherId};this.voucherEntryInfoLoading.spinning=!0,this.voucherEntryInfoLoading.tip="删除中...",this.$sacpApis.deleteMerchantrelatedEntry(o()(r)).then(function(t){t.success?(e.voucherEntryInfoLoading.spinning=!1,e.$message.success("删除成功!"),e.visible=!1,e.getMerchantrelatedCashFlow(),e.getMerchantrelatedCashFlowDetail()):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.tableLoading.spinning=!1})},getCheckedResult:function(){var t=this;this.checkTableLoading.spinning=!0;var e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId};return this.$sacpApis.getCheckedResult(o()(n)).then(function(e){if(e.success){var n=e.data[0];e.data&&n?(t.checkedResultData=n.list,t.checkedResultButState=n.isDisplay,t.checkedResultReason=n.reason):(t.checkedResultData=[],t.checkedResultButState=!1,t.checkedResultReason=""),t.checkTableLoading.spinning=!1}else t.$message.error(e.resultInfo.statusText);return e}).catch(function(e){t.$message.error(e)}).finally(function(){t.checkTableLoading.spinning=!1})},checkCompleted:function(t){var e=this,n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,reason:!1===t?"":this.reason};this.tableLoading.spinning=!0,this.reasonLoading=!0,this.checkConfirmLoading=!0,this.tableLoading.tip="保存中...",this.$sacpApis.checkCompleted(o()(r)).then(function(t){t.success?(e.tableLoading.spinning=!1,e.reasonLoading=!1,e.checkVisible=!1,e.checkConfirmLoading=!1,e.$message.success("保存成功!"),e.adjustVoucherEntryVisible=!1,e.getMerchantrelated(),e.getCheckedNum(),e.getCheckedResult()):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.tableLoading.spinning=!1})},checkNonCompleted:function(t){var e=this,n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId};this.tableLoading.spinning=!0,this.reasonLoading=!0,this.checkConfirmLoading=!0,this.tableLoading.tip="保存中...",this.$sacpApis.checkNonCompleted(o()(r)).then(function(t){t.success?(e.tableLoading.spinning=!1,e.reasonLoading=!1,e.checkVisible=!1,e.checkConfirmLoading=!1,e.$message.success("保存成功!"),e.adjustVoucherEntryVisible=!1,e.getMerchantrelated(),e.getCheckedNum(),e.getCheckedResult()):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.tableLoading.spinning=!1})},getCheckedNum:function(){var t=this,e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear};this.$sacpApis.getCheckedNum(o()(n)).then(function(e){e.success?e.data&&e.data[0]?t.checkDataShow=e.data[0]:t.checkDataShow={}:t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){})},queryEntryContrastBut:function(t,e){t&&(this.checkResultsRow=t),e&&(this.dataType=e),this.viewVoucherVisible=!0,this.viewVoucherColumns=l.a.cloneDeep(this.columns1),this.viewVoucherColumns.pop(),this.pageShow=!0,this.queryEntryContrast()},queryEntryContrast:function(){var t=this,e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,colCode:this.checkResultsRow.colCode,dataType:this.dataType,start:this.entryContrastStart,limit:this.entryContrastLimit};this.tableLoading.spinning=!0,this.tableLoading.tip="加载中...",this.$sacpApis.queryEntryContrast(o()(n)).then(function(e){e.success?(t.tableLoading.spinning=!1,e.data&&e.data[0]&&e.data[0].list?(t.viewVoucherData=e.data[0].list,t.entryContrastPagination.total=e.totalCount):t.viewVoucherData=[]):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.tableLoading.spinning=!1})},menuItemStyle:function(t){return this.menuItem.uscc==t.uscc?"aLink":""},orderNumber:function(t,e,n,r){return""+((this.relatedEntrysPagination.current-1)*this.relatedEntrysPagination.pageSize+(n+1))},orderNumber2:function(t,e,n,r){return""+((this.entryContrastPagination.current-1)*this.entryContrastPagination.pageSize+(n+1))},addCancel:function(){this.addVisible=!1},addOk:function(){this.addVisible=!1},getCashFlowStatement:function(){var t=this;this.addVisible=!0;var e=this.userInfo,n={customerId:e.curCustomerId,projectId:e.curProjectId,yyyy:e.curAccYear,colCode:this.leftTableRow.colCode};this.tableLoading.spinning=!0,this.tableLoading.tip="加载中...",this.$sacpApis.getCashFlowStatement(o()(n)).then(function(e){e.success?(t.tableLoading.spinning=!1,e.data&&e.data[0]&&e.data[0].list?t.addData=e.data[0].list:t.addData=[]):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)}).finally(function(){t.tableLoading.spinning=!1})},addStatementAll:function(t){var e=this;this.$confirm({title:"提示:",content:"是否确认添加?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){e.addStatementAllEntry(t.autoId)},onCancel:function(){}})},addStatementAllEntry:function(t){var e=this,n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,autoId:t};this.tableLoading.spinning=!0,this.tableLoading.tip="添加中...",this.$sacpApis.addStatementAllEntry(o()(r)).then(function(t){t.success?(e.tableLoading.spinning=!1,e.$message.success("添加成功!"),e.addVisible=!1,e.getMerchantrelatedCashFlow(),e.getMerchantrelatedCashFlowDetail()):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.tableLoading.spinning=!1})},lookStatementAllEntry:function(t){this.addDialogRow=t,this.form={debitName:"",creditName:"",summary:""},this.queryStatementAllEntry(this.statementAllEntryParam())},queryStatementAllEntryBut:function(){var t=a()({},this.statementAllEntryParam(),this.form);this.queryStatementAllEntry(t)},statementAllEntryParam:function(){return this.lookAddVisible=!0,this.lookAddStart=0,this.lookAddLimit=10,this.lookAddPagination.current=1,this.lookAddPagination.pageSize=10,{customerId:this.userInfo.curCustomerId,projectId:this.userInfo.curProjectId,yyyy:this.userInfo.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,autoId:this.addDialogRow.autoId,start:this.lookAddStart,limit:this.lookAddLimit}},queryStatementAllEntry:function(t){var e=this;this.lookAddLoading.spinning=!0,t&&(this.param=t),this.$sacpApis.queryStatementAllEntry(o()(this.param)).then(function(t){if(t.success){e.lookAddLoading.spinning=!1;var n=t.data;n&&n[0]&&n[0].list?e.lookAddData=n[0].list:e.lookAddData=[],e.lookAddPagination.total=t.totalCount}else e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.lookAddLoading.spinning=!1})},afterClose:function(){this.lookAddVisible=!1},addStatement:function(t){var e=this;this.$confirm({title:"提示:",content:"是否确认添加?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){e.addStatementEntry(t)},onCancel:function(){}})},addStatementEntry:function(t){var e=this,n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,autoId:this.addDialogRow.autoId,voucherId:t.voucherId};this.lookAddLoading.spinning=!0,this.$sacpApis.addStatementEntry(o()(r)).then(function(t){t.success?(e.lookAddLoading.spinning=!1,e.lookAddVisible=!1,e.$message.success("添加成功!"),e.getMerchantrelatedCashFlow(),e.getMerchantrelatedCashFlowDetail()):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.lookAddLoading.spinning=!1})},sendCheckMessageConfirm:function(){var t=this;this.$confirm({title:"提示",content:"请确认是否要发送消息提醒对方完成关联方对账？",onOk:function(){t.sendCheckMessage()},onCancel:function(){}})},sendCheckMessage:function(){var t=this,e={param1:this.menuItem.mergeCustomerId,param2:this.menuItem.mergeProjectId,param3:"请去现金流量表关联方对账核对数据"};this.submitLoading=!0,this.$sacpApis.sendCheckMessage(e).then(function(e){t.submitLoading=!1,e.success?t.$message.success("发送成功!"):t.$message.error(e.resultInfo.statusText)}).catch(function(e){t.$message.error(e)})},updateAllOffsetAmount:function(t){var e=this;this.spinning=!0,this.pageContentTip="加载中...";var n=this.userInfo,r={customerId:n.curCustomerId,projectId:n.curProjectId,yyyy:n.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,dataType:t};this.$sacpApis.updateAllOffsetAmount(o()(r)).then(function(t){t.success?(t.data&&t.data[0]&&t.data[0].list&&(e.checkedResultData=t.data[0].list),e.spinning=!1):e.$message.error(t.resultInfo.statusText)}).catch(function(t){e.$message.error(t)}).finally(function(){e.spinning=!1})},updateOffsetAmount:function(t,e,n){var r=this;this.spinning=!0,this.pageContentTip="加载中...";var a=this.userInfo,i={customerId:a.curCustomerId,projectId:a.curProjectId,yyyy:a.curAccYear,mergeCustomerId:this.menuItem.mergeCustomerId,mergeProjectId:this.menuItem.mergeProjectId,dataType:t,colCode:e.colCode,value:""+n};this.$sacpApis.updateOffsetAmount(o()(i)).then(function(t){t.success?(t.data&&t.data[0]&&t.data[0].list&&(r.checkedResultData=t.data[0].list),r.spinning=!1):r.$message.error(t.resultInfo.statusText)}).catch(function(t){r.$message.error(t)}).finally(function(){r.spinning=!1})},cellValueChange:function(t,e,n,r){var a=null===r?"":r;this.checkedResultData.forEach(function(t){""+e==""+t&&(t[n]=a)}),this.updateOffsetAmount(t,e,a)},checkOk:function(){this.reason?this.checkCompleted():this.$message.error("请填写确认理由!")},checkCancel:function(){this.checkVisible=!1},allButState:function(){return"true"==this.urlQuery.type?"1"==this.menuItem.isChecked?0==this.checkedResultButState?{isShow:!0,isDisabled:!0}:{isShow:!1,isDisabled:!1}:0==this.checkedResultButState?{isShow:!0,isDisabled:!0}:{isShow:!1,isDisabled:!1,loney:!0}:"1"==this.menuItem.isChecked?{isShow:!1,isDisabled:!1}:{isShow:!0,isDisabled:!1}}},created:function(){var t={},e=window.sessionStorage.getItem("routerHash");e&&e.split("?")[1]&&e.split("?")[1].length&&e.split("?")[1].split("&").forEach(function(e){t[e.split("=")[0]]=isNaN(1*e.split("=")[1])?window.decodeURI(e.split("=")[1]):1*e.split("=")[1]});this.urlQuery=t},mounted:function(){document.title="现金流量表直接法--关联方对账",this.getMerchantrelated()}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-layout",[n("a-layout-header",[n("a-row",[n("a-col",{attrs:{span:1}},[n("div",{staticClass:"logo"})]),t._v(" "),n("a-col",{attrs:{span:7}},[n("div",{staticClass:"customerInformation"},[n("p",[t._v("\n                        客户:"+t._s(t.userInfo.curCustomerId+"-"+t.userInfo.curCustomerName)+"\n                    ")]),t._v(" "),n("p",[t._v("项目:"+t._s(t.userInfo.curProjectName))])])]),t._v(" "),n("a-col",{attrs:{span:6,push:3}},[n("div",{staticClass:"checkDataShow"},[n("span",{staticStyle:{"margin-right":"25px"}},[t._v("关联方对账")]),t._v(" "),n("span",[t._v(" 已确认:"+t._s(t.checkDataShow.checkedNum)+" ")]),t._v(" "),n("span",[t._v(" 未确认:"+t._s(t.checkDataShow.nonCheckedNum)+" ")])])])],1)],1),t._v(" "),n("a-layout",[n("a-layout-sider",{staticClass:"layout-sider"},[n("a-list",{attrs:{split:"","data-source":t.menuList},scopedSlots:t._u([{key:"renderItem",fn:function(e,r){return n("a-list-item",{staticClass:"items",on:{click:function(n){return t.menuClick(e)}}},[n("div",{staticClass:"menuListStyle",class:t.menuItemStyle(e)},[t._v("\n                        "+t._s(e.mergeCustomer)+"\n                        "),"1"===e.isChecked?n("a-icon",{staticStyle:{color:"#46c37b"},attrs:{type:"check"}}):t._e()],1)])}}])})],1),t._v(" "),n("a-layout-content",[n("a-spin",{attrs:{tip:t.pageContentTip,size:"large",spinning:t.spinning}},[n("a-tabs",{attrs:{type:"card"},on:{change:t.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"现金流量表"}},[n("div",{staticClass:"table-top"}),t._v(" "),n("div",[n("div",{staticClass:"left-table"},[n("div",[t.allButState().isShow?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:t.showInitConfirm}},[t._v("\n                                        初始化\n                                    ")]):t._e()],1),t._v(" "),n("a-table",{attrs:{columns:t.columns3,"data-source":t.data1,scroll:{y:"calc(100vh - 230px)",x:"scollXWidth"},rowKey:"autoId",rowClassName:t.rowClassName,tableLayout:"fixed",loading:t.loading,pagination:!1},scopedSlots:t._u([{key:"amount",fn:function(e,r){return[r.isSumItem?n("span",[t._v(t._s("number"==typeof e?t.formatter.commafy(e):e))]):n("a",{on:{click:function(e){return t.getMerchantrelatedCashFlowDetail(r)}}},[t._v("\n                                            "+t._s("number"==typeof e?t.formatter.commafy(e):e)+"\n                                        ")])]}}])})],1),t._v(" "),n("div",{staticClass:"right-table"},[n("div",[n("span",[t._v(t._s(t.leftTableRow?t.leftTableRow.colName:""))]),t._v(" "),t.allButState().isShow?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:t.getCashFlowStatement}},[t._v("\n                                        添加\n                                    ")]):t._e()],1),t._v(" "),n("a-table",{attrs:{columns:t.columns2,"data-source":t.data2,scroll:{y:"calc(100vh - 230px)",x:"scollXWidth"},"row-key":function(t,e){return""+e},rowClassName:t.rowClassName,tableLayout:"fixed",loading:t.tableLoading,pagination:!1},scopedSlots:t._u([{key:"num",fn:function(e,r){return[n("a",{on:{click:function(e){return t.getMerchantrelatedEntrys(r)}}},[t._v(t._s(e))])]}}])})],1)])]),t._v(" "),n("a-tab-pane",{key:"2",attrs:{tab:"核对结果"}},[n("a-row",[n("a-col",{attrs:{xl:24,xxl:24}},[n("a-row",{attrs:{type:"flex",justify:"space-between",align:"bottom"}},[n("span",[(t.allButState().loney?!t.allButState().isShow:t.allButState().isShow)?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:t.showCheckConfirm}},[t._v("\n                                            确认完成\n                                        ")]):n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:function(e){return t.checkCompleted(!1)}}},[t._v("\n                                            取消\n                                        ")])],1),t._v(" "),n("div",{staticStyle:{flex:"1 0",margin:"0 15px",color:"#ff5050"}},[t._v("\n                                        "+t._s(t.checkedResultReason)+"\n                                    ")])])],1)],1),t._v(" "),n("a-row",[n("a-col",{attrs:{xl:24,xxl:24}},[n("a-table",{attrs:{columns:t.checkedResultColumns,"data-source":t.checkedResultData,scroll:{y:"calc(100vh - 230px)",x:"scollXWidth"},"row-key":function(t,e){return""+e},rowClassName:t.checkTableRowClassName,loading:t.checkTableLoading,pagination:!1},scopedSlots:t._u([{key:"amount",fn:function(e,r){return[r.isSumItem?n("span",[t._v(t._s(isNaN(1*e)?e:t.formatter.commafy(e)))]):n("a",{on:{click:function(e){return t.queryEntryContrastBut(r,"1")}}},[t._v(t._s(isNaN(1*e)?e:t.formatter.commafy(e)))])]}},{key:"oppoAmount",fn:function(e,r){return[r.isSumItem?n("span",[t._v(t._s(isNaN(1*e)?e:t.formatter.commafy(e)))]):n("a",{on:{click:function(e){return t.queryEntryContrastBut(r,"2")}}},[t._v(t._s(isNaN(1*e)?e:t.formatter.commafy(e)))])]}},{key:"offsetAmount",fn:function(e,r){return[n("input-number",{ref:"inputNumber",attrs:{text:e,row:r,menuItem:t.menuItem,columns:"offsetAmount"},on:{cellValueChange:t.cellValueChange}})]}},{key:"oppoOffsetAmount",fn:function(e,r){return[n("input-number",{ref:"inputNumber",attrs:{text:e,row:r,menuItem:t.menuItem,columns:"oppoOffsetAmount"},on:{cellValueChange:t.cellValueChange}})]}}])},[n("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[n("span",{staticStyle:{"margin-right":"5px"}},[t._v("对方")]),t._v(" "),n("a-tooltip",{attrs:{placement:"topLeft",title:"企业微信提醒"}},[(t.allButState().loney?!t.allButState().isShow:t.allButState().isShow)?n("a-button",{attrs:{type:"primary",size:"small",disabled:t.allButState().isDisabled},on:{click:t.sendCheckMessageConfirm}},[n("a-icon",{attrs:{type:"wechat",loading:t.submitLoading}})],1):t._e()],1)],1),t._v(" "),n("span",{attrs:{slot:"oppoOffsetAmountTitle"},slot:"oppoOffsetAmountTitle"},[t._v("\n                                        抵销金额（对方）\n                                        "),(t.allButState().loney?!t.allButState().isShow:t.allButState().isShow)?n("a-button",{attrs:{type:"primary",size:"small",disabled:t.allButState().isDisabled},on:{click:function(e){return t.updateAllOffsetAmount("2")}}},[n("a-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"edit"}})],1):t._e()],1),t._v(" "),n("span",{attrs:{slot:"offsetAmountTitle"},slot:"offsetAmountTitle"},[t._v("\n                                        抵销金额（关联方）\n                                        "),(t.allButState().loney?!t.allButState().isShow:t.allButState().isShow)?n("a-button",{attrs:{type:"primary",size:"small",disabled:t.allButState().isDisabled},on:{click:function(e){return t.updateAllOffsetAmount("1")}}},[n("a-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"edit"}})],1):t._e()],1)])],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("drag-modal",{attrs:{width:"90%",visible:t.visible,"confirm-loading":t.confirmLoading,footer:!1},on:{ok:t.handleOk,cancel:t.handleCancel},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"dialogTitle"},[n("span",[t._v("凭证分录信息")]),t._v(" "),t.allButState().isShow?n("a-button",{attrs:{disabled:t.allButState().isDisabled},on:{click:t.querySubjectAllEntry}},[t._v("添加")]):t._e()],1)]},proxy:!0}])},[t._v(" "),n("a-table",{attrs:{columns:t.columns1,"data-source":t.data3,scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},"row-key":function(t,e){},tableLayout:"fixed",loading:t.voucherEntryInfoLoading,pagination:t.relatedEntrysPagination},scopedSlots:t._u([{key:"action",fn:function(e,r){return[n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.getMerchantrelatedEntryInfo(r)}}},[t._v("\n                    查看\n                ")]),t._v(" "),t.allButState().isShow?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:function(e){return t.showDeleteConfirm(r)}}},[t._v("\n                    删除\n                ")]):t._e()]}}])})],1),t._v(" "),t.viewVoucherVisible?n("drag-modal",{attrs:{title:"查看凭证分录",width:"75%",visible:t.viewVoucherVisible,"confirm-loading":t.viewVoucherConfirmLoading,footer:!1},on:{ok:t.viewVoucherHandleOk,cancel:t.viewVoucherHandleCancel}},[n("a-table",{attrs:{columns:t.viewVoucherColumns,"data-source":t.viewVoucherData,scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},"row-key":function(t,e){return""+e},loading:t.tableLoading,pagination:!!t.pageShow&&t.entryContrastPagination},scopedSlots:t._u([{key:"occurValue",fn:function(e,r){return[n("div",[t._v("\n                    "+t._s(t.formatter.commafy(1==r.direction?e:0))+"\n                ")])]}},{key:"lendValue",fn:function(e,r){return[n("div",[t._v("\n                    "+t._s(t.formatter.commafy(-1==r.direction?r.occurValue:0))+"\n                ")])]}}],null,!1,1849160661)})],1):t._e(),t._v(" "),n("drag-modal",{attrs:{title:"核对结果",width:"70%",visible:t.checkResultVisible,"confirm-loading":t.checkResultConfirmLoading},on:{ok:t.checkResultHandleOk,cancel:t.checkResultHandleCancel}},[n("a-table",{attrs:{columns:t.columns5,"data-source":t.data1,scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},"row-key":function(t,e){},tableLayout:"fixed",loading:t.tableLoading,pagination:!1}})],1),t._v(" "),n("drag-modal",{attrs:{width:"90%",title:"添加关联方凭证",visible:t.adjustVoucherEntryVisible,confirmLoading:t.adjustVoucherEntryConfirmLoading},on:{ok:t.addSubjectEntrys,cancel:t.adjustVoucherEntryCancel},scopedSlots:t._u([{key:"footerOtherBut",fn:function(){return[t.allButState().isShow?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:t.addSubjectAllEntrys}},[t._v("\n                全部调整\n            ")]):t._e()]},proxy:!0}])},[t._v(" "),n("a-table",{attrs:{columns:t.columns,"data-source":t.adjustVoucherEntryData,"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.handleChange,getCheckboxProps:t.getCheckboxProps},loading:t.tableLoading,pagination:t.pagination,scroll:{y:"calc(100vh - 400px)",x:"scollXWidth"}},scopedSlots:t._u([{key:"occurValue",fn:function(e,n){return[t._v("\n                "+t._s(t.formatter.commafy(1==n.direction?e:0))+"\n            ")]}},{key:"occupyPosition",fn:function(e,n){return[t._v("\n                "+t._s(t.formatter.commafy(-1==n.direction?n.occurValue:0))+"\n            ")]}}])})],1),t._v(" "),n("drag-modal",{attrs:{width:"45%",title:"添加",visible:t.addVisible,footer:!1,confirmLoading:t.addConfirmLoading},on:{ok:t.addOk,cancel:t.addCancel}},[n("a-table",{attrs:{columns:t.addColumns,"data-source":t.addData,loading:t.tableLoading,pagination:!1,rowKey:"autoId",scroll:{y:"calc(100vh - 400px)",x:"scollXWidth"}},scopedSlots:t._u([{key:"balanceNum",fn:function(e,r){return n("div",{},[n("a",{staticClass:"clickA",style:{color:r.balanceNum>0&&"#1890ff"},on:{click:function(e){return t.lookStatementAllEntry(r)}}},[t._v(t._s(r.balanceNum))])])}},{key:"action",fn:function(e,r){return[t.allButState().isShow?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:function(e){return t.addStatementAll(r)}}},[t._v("\n                    添加\n                ")]):t._e()]}}])})],1),t._v(" "),n("drag-modal",{attrs:{width:"80%",visible:t.lookAddVisible,title:"添加",footer:!1},on:{cancel:t.afterClose,ok:t.handleOk}},[n("a-spin",{attrs:{tip:"加载中...",size:"large",spinning:t.lookAddLoading.spinning}},[n("a-form-model",{ref:"form",attrs:{layout:"inline",model:t.form}},[n("a-form-model-item",{attrs:{label:"借方科目"}},[n("a-input",{attrs:{allowClear:"",placeholder:""},model:{value:t.form.debitName,callback:function(e){t.$set(t.form,"debitName",e)},expression:"form.debitName"}})],1),t._v(" "),n("a-form-model-item",{attrs:{label:"贷方科目"}},[n("a-input",{attrs:{allowClear:"",placeholder:""},model:{value:t.form.creditName,callback:function(e){t.$set(t.form,"creditName",e)},expression:"form.creditName"}})],1),t._v(" "),n("a-form-model-item",{attrs:{label:"摘要"}},[n("a-input",{attrs:{allowClear:"",placeholder:""},model:{value:t.form.summary,callback:function(e){t.$set(t.form,"summary",e)},expression:"form.summary"}})],1),t._v(" "),n("a-form-model-item",[n("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:function(e){return t.queryStatementAllEntryBut()}}},[t._v("\n                        查询\n                    ")])],1)],1),t._v(" "),n("a-table",{attrs:{pagination:t.lookAddPagination,columns:t.lookAddColumns,scroll:{y:"calc(100vh - 300px)",x:"scollXWidth"},"data-source":t.lookAddData,"row-key":function(t,e){return""+e}},scopedSlots:t._u([{key:"action",fn:function(e,r){return[t.allButState().isShow?n("a-button",{attrs:{type:"primary",disabled:t.allButState().isDisabled},on:{click:function(e){return t.addStatement(r)}}},[t._v("\n                        添加\n                    ")]):t._e()]}}])})],1)],1),t._v(" "),n("drag-modal",{attrs:{width:"45%",title:"确认理由",visible:t.checkVisible,confirmLoading:t.checkConfirmLoading},on:{ok:t.checkOk,cancel:t.checkCancel}},[n("a-spin",{attrs:{tip:"提交中...",size:"large",spinning:t.reasonLoading}},[n("a-textarea",{attrs:{allowClear:"",maxLength:500,placeholder:"请输入确认理由",rows:8},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)],1)],1)},staticRenderFns:[]};var I=n("VU/8")(g,v,!1,function(t){n("pMhl"),n("ifJ0")},"data-v-51927760",null);e.default=I.exports},Iehi:function(t,e){},JXOY:function(t,e){},Ly43:function(t,e){},M4fF:function(t,e,n){(function(t,r){var a;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="__lodash_hash_undefined__",l=500,d="__lodash_placeholder__",h=1,f=2,m=4,p=1,y=2,g=1,v=2,I=4,b=8,j=16,C=32,_=64,S=128,w=256,M=512,L=30,k="...",A=800,D=16,x=1,N=2,T=1/0,E=9007199254740991,R=1.7976931348623157e308,O=NaN,$=4294967295,z=$-1,Y=$>>>1,P=[["ary",S],["bind",g],["bindKey",v],["curry",b],["curryRight",j],["flip",M],["partial",C],["partialRight",_],["rearg",w]],F="[object Arguments]",V="[object Array]",U="[object AsyncFunction]",q="[object Boolean]",B="[object Date]",W="[object DOMException]",X="[object Error]",Q="[object Function]",K="[object GeneratorFunction]",H="[object Map]",Z="[object Number]",G="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",at="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",st="[object WeakSet]",ct="[object ArrayBuffer]",ut="[object DataView]",lt="[object Float32Array]",dt="[object Float64Array]",ht="[object Int8Array]",ft="[object Int16Array]",mt="[object Int32Array]",pt="[object Uint8Array]",yt="[object Uint8ClampedArray]",gt="[object Uint16Array]",vt="[object Uint32Array]",It=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ct=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,St=RegExp(Ct.source),wt=RegExp(_t.source),Mt=/<%-([\s\S]+?)%>/g,Lt=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nt=/[\\^$.*+?()[\]{}|]/g,Tt=RegExp(Nt.source),Et=/^\s+|\s+$/g,Rt=/^\s+/,Ot=/\s+$/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Yt=/,? & /,Pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Xt=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",ne="["+Gt+"]",re="\\d+",ae="[\\u2700-\\u27bf]",ie="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Jt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ce="[^\\ud800-\\udfff]",ue="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",de="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+ie+"|"+oe+")",fe="(?:"+de+"|"+oe+")",me="(?:"+ne+"|"+se+")"+"?",pe="[\\ufe0e\\ufe0f]?"+me+("(?:\\u200d(?:"+[ce,ue,le].join("|")+")[\\ufe0e\\ufe0f]?"+me+")*"),ye="(?:"+[ae,ue,le].join("|")+")"+pe,ge="(?:"+[ce+ne+"?",ne,ue,le,te].join("|")+")",ve=RegExp("['’]","g"),Ie=RegExp(ne,"g"),be=RegExp(se+"(?="+se+")|"+ge+pe,"g"),je=RegExp([de+"?"+ie+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,de,"$"].join("|")+")",fe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,de+he,"$"].join("|")+")",de+"?"+he+"+(?:['’](?:d|ll|m|re|s|t|ve))?",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,ye].join("|"),"g"),Ce=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),_e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],we=-1,Me={};Me[lt]=Me[dt]=Me[ht]=Me[ft]=Me[mt]=Me[pt]=Me[yt]=Me[gt]=Me[vt]=!0,Me[F]=Me[V]=Me[ct]=Me[q]=Me[ut]=Me[B]=Me[X]=Me[Q]=Me[H]=Me[Z]=Me[J]=Me[et]=Me[nt]=Me[rt]=Me[ot]=!1;var Le={};Le[F]=Le[V]=Le[ct]=Le[ut]=Le[q]=Le[B]=Le[lt]=Le[dt]=Le[ht]=Le[ft]=Le[mt]=Le[H]=Le[Z]=Le[J]=Le[et]=Le[nt]=Le[rt]=Le[at]=Le[pt]=Le[yt]=Le[gt]=Le[vt]=!0,Le[X]=Le[Q]=Le[ot]=!1;var ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ae=parseFloat,De=parseInt,xe="object"==typeof t&&t&&t.Object===Object&&t,Ne="object"==typeof self&&self&&self.Object===Object&&self,Te=xe||Ne||Function("return this")(),Ee="object"==typeof e&&e&&!e.nodeType&&e,Re=Ee&&"object"==typeof r&&r&&!r.nodeType&&r,Oe=Re&&Re.exports===Ee,$e=Oe&&xe.process,ze=function(){try{var t=Re&&Re.require&&Re.require("util").types;return t||$e&&$e.binding&&$e.binding("util")}catch(t){}}(),Ye=ze&&ze.isArrayBuffer,Pe=ze&&ze.isDate,Fe=ze&&ze.isMap,Ve=ze&&ze.isRegExp,Ue=ze&&ze.isSet,qe=ze&&ze.isTypedArray;function Be(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function We(t,e,n,r){for(var a=-1,i=null==t?0:t.length;++a<i;){var o=t[a];e(r,o,n(o),t)}return r}function Xe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Qe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function He(t,e){for(var n=-1,r=null==t?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}function Ze(t,e){return!!(null==t?0:t.length)&&cn(t,e,0)>-1}function Ge(t,e,n){for(var r=-1,a=null==t?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}function Je(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}function tn(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}function en(t,e,n,r){var a=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}function nn(t,e,n,r){var a=null==t?0:t.length;for(r&&a&&(n=t[--a]);a--;)n=e(n,t[a],a,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var an=hn("length");function on(t,e,n){var r;return n(t,function(t,n,a){if(e(t,n,a))return r=n,!1}),r}function sn(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}function cn(t,e,n){return e==e?function(t,e,n){var r=n-1,a=t.length;for(;++r<a;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,ln,n)}function un(t,e,n,r){for(var a=n-1,i=t.length;++a<i;)if(r(t[a],e))return a;return-1}function ln(t){return t!=t}function dn(t,e){var n=null==t?0:t.length;return n?pn(t,e)/n:O}function hn(t){return function(e){return null==e?i:e[t]}}function fn(t){return function(e){return null==t?i:t[e]}}function mn(t,e,n,r,a){return a(t,function(t,a,i){n=r?(r=!1,t):e(n,t,a,i)}),n}function pn(t,e){for(var n,r=-1,a=t.length;++r<a;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function yn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function gn(t){return function(e){return t(e)}}function vn(t,e){return Je(e,function(e){return t[e]})}function In(t,e){return t.has(e)}function bn(t,e){for(var n=-1,r=t.length;++n<r&&cn(e,t[n],0)>-1;);return n}function jn(t,e){for(var n=t.length;n--&&cn(e,t[n],0)>-1;);return n}var Cn=fn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),_n=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+ke[t]}function wn(t){return Ce.test(t)}function Mn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Ln(t,e){return function(n){return t(e(n))}}function kn(t,e){for(var n=-1,r=t.length,a=0,i=[];++n<r;){var o=t[n];o!==e&&o!==d||(t[n]=d,i[a++]=n)}return i}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Dn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function xn(t){return wn(t)?function(t){var e=be.lastIndex=0;for(;be.test(t);)++e;return e}(t):an(t)}function Nn(t){return wn(t)?function(t){return t.match(be)||[]}(t):function(t){return t.split("")}(t)}var Tn=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var En=function t(e){var n,r=(e=null==e?Te:En.defaults(Te.Object(),e,En.pick(Te,Se))).Array,a=e.Date,Gt=e.Error,Jt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,ae=e.TypeError,ie=r.prototype,oe=Jt.prototype,se=ee.prototype,ce=e["__core-js_shared__"],ue=oe.toString,le=se.hasOwnProperty,de=0,he=(n=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",fe=se.toString,me=ue.call(ee),pe=Te._,ye=ne("^"+ue.call(le).replace(Nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=Oe?e.Buffer:i,be=e.Symbol,Ce=e.Uint8Array,ke=ge?ge.allocUnsafe:i,xe=Ln(ee.getPrototypeOf,ee),Ne=ee.create,Ee=se.propertyIsEnumerable,Re=ie.splice,$e=be?be.isConcatSpreadable:i,ze=be?be.iterator:i,an=be?be.toStringTag:i,fn=function(){try{var t=zi(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rn=e.clearTimeout!==Te.clearTimeout&&e.clearTimeout,On=a&&a.now!==Te.Date.now&&a.now,$n=e.setTimeout!==Te.setTimeout&&e.setTimeout,zn=te.ceil,Yn=te.floor,Pn=ee.getOwnPropertySymbols,Fn=ge?ge.isBuffer:i,Vn=e.isFinite,Un=ie.join,qn=Ln(ee.keys,ee),Bn=te.max,Wn=te.min,Xn=a.now,Qn=e.parseInt,Kn=te.random,Hn=ie.reverse,Zn=zi(e,"DataView"),Gn=zi(e,"Map"),Jn=zi(e,"Promise"),tr=zi(e,"Set"),er=zi(e,"WeakMap"),nr=zi(ee,"create"),rr=er&&new er,ar={},ir=lo(Zn),or=lo(Gn),sr=lo(Jn),cr=lo(tr),ur=lo(er),lr=be?be.prototype:i,dr=lr?lr.valueOf:i,hr=lr?lr.toString:i;function fr(t){if(ks(t)&&!gs(t)&&!(t instanceof gr)){if(t instanceof yr)return t;if(le.call(t,"__wrapped__"))return ho(t)}return new yr(t)}var mr=function(){function t(){}return function(e){if(!Ls(e))return{};if(Ne)return Ne(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function pr(){}function yr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function gr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function vr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ir(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new br;++e<n;)this.add(t[e])}function Cr(t){var e=this.__data__=new Ir(t);this.size=e.size}function _r(t,e){var n=gs(t),r=!n&&ys(t),a=!n&&!r&&js(t),i=!n&&!r&&!a&&Os(t),o=n||r||a||i,s=o?yn(t.length,re):[],c=s.length;for(var u in t)!e&&!le.call(t,u)||o&&("length"==u||a&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Bi(u,c))||s.push(u);return s}function Sr(t){var e=t.length;return e?t[ja(0,e-1)]:i}function wr(t,e){return so(ni(t),Er(e,0,t.length))}function Mr(t){return so(ni(t))}function Lr(t,e,n){(n===i||fs(t[e],n))&&(n!==i||e in t)||Nr(t,e,n)}function kr(t,e,n){var r=t[e];le.call(t,e)&&fs(r,n)&&(n!==i||e in t)||Nr(t,e,n)}function Ar(t,e){for(var n=t.length;n--;)if(fs(t[n][0],e))return n;return-1}function Dr(t,e,n,r){return Yr(t,function(t,a,i){e(r,t,n(t),i)}),r}function xr(t,e){return t&&ri(e,ac(e),t)}function Nr(t,e,n){"__proto__"==e&&fn?fn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Tr(t,e){for(var n=-1,a=e.length,o=r(a),s=null==t;++n<a;)o[n]=s?i:Js(t,e[n]);return o}function Er(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Rr(t,e,n,r,a,o){var s,c=e&h,u=e&f,l=e&m;if(n&&(s=a?n(t,r,a,o):n(t)),s!==i)return s;if(!Ls(t))return t;var d=gs(t);if(d){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return ni(t,s)}else{var p=Fi(t),y=p==Q||p==K;if(js(t))return Ha(t,c);if(p==J||p==F||y&&!a){if(s=u||y?{}:Ui(t),!c)return u?function(t,e){return ri(t,Pi(t),e)}(t,function(t,e){return t&&ri(e,ic(e),t)}(s,t)):function(t,e){return ri(t,Yi(t),e)}(t,xr(s,t))}else{if(!Le[p])return a?t:{};s=function(t,e,n){var r,a,i,o=t.constructor;switch(e){case ct:return Za(t);case q:case B:return new o(+t);case ut:return function(t,e){var n=e?Za(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case dt:case ht:case ft:case mt:case pt:case yt:case gt:case vt:return Ga(t,n);case H:return new o;case Z:case rt:return new o(t);case et:return(i=new(a=t).constructor(a.source,Ut.exec(a))).lastIndex=a.lastIndex,i;case nt:return new o;case at:return r=t,dr?ee(dr.call(r)):{}}}(t,p,c)}}o||(o=new Cr);var g=o.get(t);if(g)return g;o.set(t,s),Ts(t)?t.forEach(function(r){s.add(Rr(r,e,n,r,t,o))}):As(t)&&t.forEach(function(r,a){s.set(a,Rr(r,e,n,a,t,o))});var v=d?i:(l?u?xi:Di:u?ic:ac)(t);return Xe(v||t,function(r,a){v&&(r=t[a=r]),kr(s,a,Rr(r,e,n,a,t,o))}),s}function Or(t,e,n){var r=n.length;if(null==t)return!r;for(t=ee(t);r--;){var a=n[r],o=e[a],s=t[a];if(s===i&&!(a in t)||!o(s))return!1}return!0}function $r(t,e,n){if("function"!=typeof t)throw new ae(c);return ro(function(){t.apply(i,n)},e)}function zr(t,e,n,r){var a=-1,i=Ze,s=!0,c=t.length,u=[],l=e.length;if(!c)return u;n&&(e=Je(e,gn(n))),r?(i=Ge,s=!1):e.length>=o&&(i=In,s=!1,e=new jr(e));t:for(;++a<c;){var d=t[a],h=null==n?d:n(d);if(d=r||0!==d?d:0,s&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(d)}else i(e,h,r)||u.push(d)}return u}fr.templateSettings={escape:Mt,evaluate:Lt,interpolate:kt,variable:"",imports:{_:fr}},fr.prototype=pr.prototype,fr.prototype.constructor=fr,yr.prototype=mr(pr.prototype),yr.prototype.constructor=yr,gr.prototype=mr(pr.prototype),gr.prototype.constructor=gr,vr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===u?i:n}return le.call(e,t)?e[t]:i},vr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==i:le.call(e,t)},vr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===i?u:e,this},Ir.prototype.clear=function(){this.__data__=[],this.size=0},Ir.prototype.delete=function(t){var e=this.__data__,n=Ar(e,t);return!(n<0||(n==e.length-1?e.pop():Re.call(e,n,1),--this.size,0))},Ir.prototype.get=function(t){var e=this.__data__,n=Ar(e,t);return n<0?i:e[n][1]},Ir.prototype.has=function(t){return Ar(this.__data__,t)>-1},Ir.prototype.set=function(t,e){var n=this.__data__,r=Ar(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new vr,map:new(Gn||Ir),string:new vr}},br.prototype.delete=function(t){var e=Oi(this,t).delete(t);return this.size-=e?1:0,e},br.prototype.get=function(t){return Oi(this,t).get(t)},br.prototype.has=function(t){return Oi(this,t).has(t)},br.prototype.set=function(t,e){var n=Oi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},jr.prototype.add=jr.prototype.push=function(t){return this.__data__.set(t,u),this},jr.prototype.has=function(t){return this.__data__.has(t)},Cr.prototype.clear=function(){this.__data__=new Ir,this.size=0},Cr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Cr.prototype.get=function(t){return this.__data__.get(t)},Cr.prototype.has=function(t){return this.__data__.has(t)},Cr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ir){var r=n.__data__;if(!Gn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(t,e),this.size=n.size,this};var Yr=oi(Xr),Pr=oi(Qr,!0);function Fr(t,e){var n=!0;return Yr(t,function(t,r,a){return n=!!e(t,r,a)}),n}function Vr(t,e,n){for(var r=-1,a=t.length;++r<a;){var o=t[r],s=e(o);if(null!=s&&(c===i?s==s&&!Rs(s):n(s,c)))var c=s,u=o}return u}function Ur(t,e){var n=[];return Yr(t,function(t,r,a){e(t,r,a)&&n.push(t)}),n}function qr(t,e,n,r,a){var i=-1,o=t.length;for(n||(n=qi),a||(a=[]);++i<o;){var s=t[i];e>0&&n(s)?e>1?qr(s,e-1,n,r,a):tn(a,s):r||(a[a.length]=s)}return a}var Br=si(),Wr=si(!0);function Xr(t,e){return t&&Br(t,e,ac)}function Qr(t,e){return t&&Wr(t,e,ac)}function Kr(t,e){return He(e,function(e){return Ss(t[e])})}function Hr(t,e){for(var n=0,r=(e=Wa(e,t)).length;null!=t&&n<r;)t=t[uo(e[n++])];return n&&n==r?t:i}function Zr(t,e,n){var r=e(t);return gs(t)?r:tn(r,n(t))}function Gr(t){return null==t?t===i?it:G:an&&an in ee(t)?function(t){var e=le.call(t,an),n=t[an];try{t[an]=i;var r=!0}catch(t){}var a=fe.call(t);return r&&(e?t[an]=n:delete t[an]),a}(t):function(t){return fe.call(t)}(t)}function Jr(t,e){return t>e}function ta(t,e){return null!=t&&le.call(t,e)}function ea(t,e){return null!=t&&e in ee(t)}function na(t,e,n){for(var a=n?Ge:Ze,o=t[0].length,s=t.length,c=s,u=r(s),l=1/0,d=[];c--;){var h=t[c];c&&e&&(h=Je(h,gn(e))),l=Wn(h.length,l),u[c]=!n&&(e||o>=120&&h.length>=120)?new jr(c&&h):i}h=t[0];var f=-1,m=u[0];t:for(;++f<o&&d.length<l;){var p=h[f],y=e?e(p):p;if(p=n||0!==p?p:0,!(m?In(m,y):a(d,y,n))){for(c=s;--c;){var g=u[c];if(!(g?In(g,y):a(t[c],y,n)))continue t}m&&m.push(y),d.push(p)}}return d}function ra(t,e,n){var r=null==(t=to(t,e=Wa(e,t)))?t:t[uo(_o(e))];return null==r?i:Be(r,t,n)}function aa(t){return ks(t)&&Gr(t)==F}function ia(t,e,n,r,a){return t===e||(null==t||null==e||!ks(t)&&!ks(e)?t!=t&&e!=e:function(t,e,n,r,a,o){var s=gs(t),c=gs(e),u=s?V:Fi(t),l=c?V:Fi(e),d=(u=u==F?J:u)==J,h=(l=l==F?J:l)==J,f=u==l;if(f&&js(t)){if(!js(e))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new Cr),s||Os(t)?ki(t,e,n,r,a,o):function(t,e,n,r,a,i,o){switch(n){case ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ct:return!(t.byteLength!=e.byteLength||!i(new Ce(t),new Ce(e)));case q:case B:case Z:return fs(+t,+e);case X:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case H:var s=Mn;case nt:var c=r&p;if(s||(s=An),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=y,o.set(t,e);var l=ki(s(t),s(e),r,a,i,o);return o.delete(t),l;case at:if(dr)return dr.call(t)==dr.call(e)}return!1}(t,e,u,n,r,a,o);if(!(n&p)){var m=d&&le.call(t,"__wrapped__"),g=h&&le.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,I=g?e.value():e;return o||(o=new Cr),a(v,I,n,r,o)}}return!!f&&(o||(o=new Cr),function(t,e,n,r,a,o){var s=n&p,c=Di(t),u=c.length,l=Di(e).length;if(u!=l&&!s)return!1;for(var d=u;d--;){var h=c[d];if(!(s?h in e:le.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var m=!0;o.set(t,e),o.set(e,t);for(var y=s;++d<u;){h=c[d];var g=t[h],v=e[h];if(r)var I=s?r(v,g,h,e,t,o):r(g,v,h,t,e,o);if(!(I===i?g===v||a(g,v,n,r,o):I)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var b=t.constructor,j=e.constructor;b!=j&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j)&&(m=!1)}return o.delete(t),o.delete(e),m}(t,e,n,r,a,o))}(t,e,n,r,ia,a))}function oa(t,e,n,r){var a=n.length,o=a,s=!r;if(null==t)return!o;for(t=ee(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var u=(c=n[a])[0],l=t[u],d=c[1];if(s&&c[2]){if(l===i&&!(u in t))return!1}else{var h=new Cr;if(r)var f=r(l,d,u,t,e,h);if(!(f===i?ia(d,l,p|y,r,h):f))return!1}}return!0}function sa(t){return!(!Ls(t)||he&&he in t)&&(Ss(t)?ye:Wt).test(lo(t))}function ca(t){return"function"==typeof t?t:null==t?Dc:"object"==typeof t?gs(t)?ma(t[0],t[1]):fa(t):Yc(t)}function ua(t){if(!Hi(t))return qn(t);var e=[];for(var n in ee(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function la(t){if(!Ls(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Hi(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function da(t,e){return t<e}function ha(t,e){var n=-1,a=Is(t)?r(t.length):[];return Yr(t,function(t,r,i){a[++n]=e(t,r,i)}),a}function fa(t){var e=$i(t);return 1==e.length&&e[0][2]?Gi(e[0][0],e[0][1]):function(n){return n===t||oa(n,t,e)}}function ma(t,e){return Xi(t)&&Zi(e)?Gi(uo(t),e):function(n){var r=Js(n,t);return r===i&&r===e?tc(n,t):ia(e,r,p|y)}}function pa(t,e,n,r,a){t!==e&&Br(e,function(o,s){if(a||(a=new Cr),Ls(o))!function(t,e,n,r,a,o,s){var c=eo(t,n),u=eo(e,n),l=s.get(u);if(l)Lr(t,n,l);else{var d=o?o(c,u,n+"",t,e,s):i,h=d===i;if(h){var f=gs(u),m=!f&&js(u),p=!f&&!m&&Os(u);d=u,f||m||p?gs(c)?d=c:bs(c)?d=ni(c):m?(h=!1,d=Ha(u,!0)):p?(h=!1,d=Ga(u,!0)):d=[]:xs(u)||ys(u)?(d=c,ys(c)?d=qs(c):Ls(c)&&!Ss(c)||(d=Ui(u))):h=!1}h&&(s.set(u,d),a(d,u,r,o,s),s.delete(u)),Lr(t,n,d)}}(t,e,s,n,pa,r,a);else{var c=r?r(eo(t,s),o,s+"",t,e,a):i;c===i&&(c=o),Lr(t,s,c)}},ic)}function ya(t,e){var n=t.length;if(n)return Bi(e+=e<0?n:0,n)?t[e]:i}function ga(t,e,n){var r=-1;return e=Je(e.length?e:[Dc],gn(Ri())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ha(t,function(t,n,a){return{criteria:Je(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,a=t.criteria,i=e.criteria,o=a.length,s=n.length;++r<o;){var c=Ja(a[r],i[r]);if(c){if(r>=s)return c;var u=n[r];return c*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)})}function va(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var o=e[r],s=Hr(t,o);n(s,o)&&Ma(i,Wa(o,t),s)}return i}function Ia(t,e,n,r){var a=r?un:cn,i=-1,o=e.length,s=t;for(t===e&&(e=ni(e)),n&&(s=Je(t,gn(n)));++i<o;)for(var c=0,u=e[i],l=n?n(u):u;(c=a(s,l,c,r))>-1;)s!==t&&Re.call(s,c,1),Re.call(t,c,1);return t}function ba(t,e){for(var n=t?e.length:0,r=n-1;n--;){var a=e[n];if(n==r||a!==i){var i=a;Bi(a)?Re.call(t,a,1):za(t,a)}}return t}function ja(t,e){return t+Yn(Kn()*(e-t+1))}function Ca(t,e){var n="";if(!t||e<1||e>E)return n;do{e%2&&(n+=t),(e=Yn(e/2))&&(t+=t)}while(e);return n}function _a(t,e){return ao(Ji(t,e,Dc),t+"")}function Sa(t){return Sr(fc(t))}function wa(t,e){var n=fc(t);return so(n,Er(e,0,n.length))}function Ma(t,e,n,r){if(!Ls(t))return t;for(var a=-1,o=(e=Wa(e,t)).length,s=o-1,c=t;null!=c&&++a<o;){var u=uo(e[a]),l=n;if(a!=s){var d=c[u];(l=r?r(d,u,c):i)===i&&(l=Ls(d)?d:Bi(e[a+1])?[]:{})}kr(c,u,l),c=c[u]}return t}var La=rr?function(t,e){return rr.set(t,e),t}:Dc,ka=fn?function(t,e){return fn(t,"toString",{configurable:!0,enumerable:!1,value:Lc(e),writable:!0})}:Dc;function Aa(t){return so(fc(t))}function Da(t,e,n){var a=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=r(i);++a<i;)o[a]=t[a+e];return o}function xa(t,e){var n;return Yr(t,function(t,r,a){return!(n=e(t,r,a))}),!!n}function Na(t,e,n){var r=0,a=null==t?r:t.length;if("number"==typeof e&&e==e&&a<=Y){for(;r<a;){var i=r+a>>>1,o=t[i];null!==o&&!Rs(o)&&(n?o<=e:o<e)?r=i+1:a=i}return a}return Ta(t,e,Dc,n)}function Ta(t,e,n,r){e=n(e);for(var a=0,o=null==t?0:t.length,s=e!=e,c=null===e,u=Rs(e),l=e===i;a<o;){var d=Yn((a+o)/2),h=n(t[d]),f=h!==i,m=null===h,p=h==h,y=Rs(h);if(s)var g=r||p;else g=l?p&&(r||f):c?p&&f&&(r||!m):u?p&&f&&!m&&(r||!y):!m&&!y&&(r?h<=e:h<e);g?a=d+1:o=d}return Wn(o,z)}function Ea(t,e){for(var n=-1,r=t.length,a=0,i=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!fs(s,c)){var c=s;i[a++]=0===o?0:o}}return i}function Ra(t){return"number"==typeof t?t:Rs(t)?O:+t}function Oa(t){if("string"==typeof t)return t;if(gs(t))return Je(t,Oa)+"";if(Rs(t))return hr?hr.call(t):"";var e=t+"";return"0"==e&&1/t==-T?"-0":e}function $a(t,e,n){var r=-1,a=Ze,i=t.length,s=!0,c=[],u=c;if(n)s=!1,a=Ge;else if(i>=o){var l=e?null:Ci(t);if(l)return An(l);s=!1,a=In,u=new jr}else u=e?[]:c;t:for(;++r<i;){var d=t[r],h=e?e(d):d;if(d=n||0!==d?d:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),c.push(d)}else a(u,h,n)||(u!==c&&u.push(h),c.push(d))}return c}function za(t,e){return null==(t=to(t,e=Wa(e,t)))||delete t[uo(_o(e))]}function Ya(t,e,n,r){return Ma(t,e,n(Hr(t,e)),r)}function Pa(t,e,n,r){for(var a=t.length,i=r?a:-1;(r?i--:++i<a)&&e(t[i],i,t););return n?Da(t,r?0:i,r?i+1:a):Da(t,r?i+1:0,r?a:i)}function Fa(t,e){var n=t;return n instanceof gr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Va(t,e,n){var a=t.length;if(a<2)return a?$a(t[0]):[];for(var i=-1,o=r(a);++i<a;)for(var s=t[i],c=-1;++c<a;)c!=i&&(o[i]=zr(o[i]||s,t[c],e,n));return $a(qr(o,1),e,n)}function Ua(t,e,n){for(var r=-1,a=t.length,o=e.length,s={};++r<a;){var c=r<o?e[r]:i;n(s,t[r],c)}return s}function qa(t){return bs(t)?t:[]}function Ba(t){return"function"==typeof t?t:Dc}function Wa(t,e){return gs(t)?t:Xi(t,e)?[t]:co(Bs(t))}var Xa=_a;function Qa(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Da(t,e,n)}var Ka=Rn||function(t){return Te.clearTimeout(t)};function Ha(t,e){if(e)return t.slice();var n=t.length,r=ke?ke(n):new t.constructor(n);return t.copy(r),r}function Za(t){var e=new t.constructor(t.byteLength);return new Ce(e).set(new Ce(t)),e}function Ga(t,e){var n=e?Za(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ja(t,e){if(t!==e){var n=t!==i,r=null===t,a=t==t,o=Rs(t),s=e!==i,c=null===e,u=e==e,l=Rs(e);if(!c&&!l&&!o&&t>e||o&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!l&&t<e||l&&n&&a&&!r&&!o||c&&n&&a||!s&&a||!u)return-1}return 0}function ti(t,e,n,a){for(var i=-1,o=t.length,s=n.length,c=-1,u=e.length,l=Bn(o-s,0),d=r(u+l),h=!a;++c<u;)d[c]=e[c];for(;++i<s;)(h||i<o)&&(d[n[i]]=t[i]);for(;l--;)d[c++]=t[i++];return d}function ei(t,e,n,a){for(var i=-1,o=t.length,s=-1,c=n.length,u=-1,l=e.length,d=Bn(o-c,0),h=r(d+l),f=!a;++i<d;)h[i]=t[i];for(var m=i;++u<l;)h[m+u]=e[u];for(;++s<c;)(f||i<o)&&(h[m+n[s]]=t[i++]);return h}function ni(t,e){var n=-1,a=t.length;for(e||(e=r(a));++n<a;)e[n]=t[n];return e}function ri(t,e,n,r){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var c=e[o],u=r?r(n[c],t[c],c,n,t):i;u===i&&(u=t[c]),a?Nr(n,c,u):kr(n,c,u)}return n}function ai(t,e){return function(n,r){var a=gs(n)?We:Dr,i=e?e():{};return a(n,t,Ri(r,2),i)}}function ii(t){return _a(function(e,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(a--,o):i,s&&Wi(n[0],n[1],s)&&(o=a<3?i:o,a=1),e=ee(e);++r<a;){var c=n[r];c&&t(e,c,r,o)}return e})}function oi(t,e){return function(n,r){if(null==n)return n;if(!Is(n))return t(n,r);for(var a=n.length,i=e?a:-1,o=ee(n);(e?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function si(t){return function(e,n,r){for(var a=-1,i=ee(e),o=r(e),s=o.length;s--;){var c=o[t?s:++a];if(!1===n(i[c],c,i))break}return e}}function ci(t){return function(e){var n=wn(e=Bs(e))?Nn(e):i,r=n?n[0]:e.charAt(0),a=n?Qa(n,1).join(""):e.slice(1);return r[t]()+a}}function ui(t){return function(e){return en(Sc(yc(e).replace(ve,"")),t,"")}}function li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=mr(t.prototype),r=t.apply(n,e);return Ls(r)?r:n}}function di(t){return function(e,n,r){var a=ee(e);if(!Is(e)){var o=Ri(n,3);e=ac(e),n=function(t){return o(a[t],t,a)}}var s=t(e,n,r);return s>-1?a[o?e[s]:s]:i}}function hi(t){return Ai(function(e){var n=e.length,r=n,a=yr.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new ae(c);if(a&&!s&&"wrapper"==Ti(o))var s=new yr([],!0)}for(r=s?r:n;++r<n;){var u=Ti(o=e[r]),l="wrapper"==u?Ni(o):i;s=l&&Qi(l[0])&&l[1]==(S|b|C|w)&&!l[4].length&&1==l[9]?s[Ti(l[0])].apply(s,l[3]):1==o.length&&Qi(o)?s[u]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&gs(r))return s.plant(r).value();for(var a=0,i=n?e[a].apply(this,t):r;++a<n;)i=e[a].call(this,i);return i}})}function fi(t,e,n,a,o,s,c,u,l,d){var h=e&S,f=e&g,m=e&v,p=e&(b|j),y=e&M,I=m?i:li(t);return function g(){for(var v=arguments.length,b=r(v),j=v;j--;)b[j]=arguments[j];if(p)var C=Ei(g),_=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,C);if(a&&(b=ti(b,a,o,p)),s&&(b=ei(b,s,c,p)),v-=_,p&&v<d){var S=kn(b,C);return bi(t,e,fi,g.placeholder,n,b,S,u,l,d-v)}var w=f?n:this,M=m?w[t]:t;return v=b.length,u?b=function(t,e){for(var n=t.length,r=Wn(e.length,n),a=ni(t);r--;){var o=e[r];t[r]=Bi(o,n)?a[o]:i}return t}(b,u):y&&v>1&&b.reverse(),h&&l<v&&(b.length=l),this&&this!==Te&&this instanceof g&&(M=I||li(M)),M.apply(w,b)}}function mi(t,e){return function(n,r){return function(t,e,n,r){return Xr(t,function(t,a,i){e(r,n(t),a,i)}),r}(n,t,e(r),{})}}function pi(t,e){return function(n,r){var a;if(n===i&&r===i)return e;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=Oa(n),r=Oa(r)):(n=Ra(n),r=Ra(r)),a=t(n,r)}return a}}function yi(t){return Ai(function(e){return e=Je(e,gn(Ri())),_a(function(n){var r=this;return t(e,function(t){return Be(t,r,n)})})})}function gi(t,e){var n=(e=e===i?" ":Oa(e)).length;if(n<2)return n?Ca(e,t):e;var r=Ca(e,zn(t/xn(e)));return wn(e)?Qa(Nn(r),0,t).join(""):r.slice(0,t)}function vi(t){return function(e,n,a){return a&&"number"!=typeof a&&Wi(e,n,a)&&(n=a=i),e=Ps(e),n===i?(n=e,e=0):n=Ps(n),function(t,e,n,a){for(var i=-1,o=Bn(zn((e-t)/(n||1)),0),s=r(o);o--;)s[a?o:++i]=t,t+=n;return s}(e,n,a=a===i?e<n?1:-1:Ps(a),t)}}function Ii(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Us(e),n=Us(n)),t(e,n)}}function bi(t,e,n,r,a,o,s,c,u,l){var d=e&b;e|=d?C:_,(e&=~(d?_:C))&I||(e&=~(g|v));var h=[t,e,a,d?o:i,d?s:i,d?i:o,d?i:s,c,u,l],f=n.apply(i,h);return Qi(t)&&no(f,h),f.placeholder=r,io(f,t,e)}function ji(t){var e=te[t];return function(t,n){if(t=Us(t),(n=null==n?0:Wn(Fs(n),292))&&Vn(t)){var r=(Bs(t)+"e").split("e");return+((r=(Bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ci=tr&&1/An(new tr([,-0]))[1]==T?function(t){return new tr(t)}:Rc;function _i(t){return function(e){var n=Fi(e);return n==H?Mn(e):n==nt?Dn(e):function(t,e){return Je(e,function(e){return[e,t[e]]})}(e,t(e))}}function Si(t,e,n,a,o,s,u,l){var h=e&v;if(!h&&"function"!=typeof t)throw new ae(c);var f=a?a.length:0;if(f||(e&=~(C|_),a=o=i),u=u===i?u:Bn(Fs(u),0),l=l===i?l:Fs(l),f-=o?o.length:0,e&_){var m=a,p=o;a=o=i}var y=h?i:Ni(t),M=[t,e,n,a,o,m,p,s,u,l];if(y&&function(t,e){var n=t[1],r=e[1],a=n|r,i=a<(g|v|S),o=r==S&&n==b||r==S&&n==w&&t[7].length<=e[8]||r==(S|w)&&e[7].length<=e[8]&&n==b;if(!i&&!o)return t;r&g&&(t[2]=e[2],a|=n&g?0:I);var s=e[3];if(s){var c=t[3];t[3]=c?ti(c,s,e[4]):s,t[4]=c?kn(t[3],d):e[4]}(s=e[5])&&(c=t[5],t[5]=c?ei(c,s,e[6]):s,t[6]=c?kn(t[5],d):e[6]),(s=e[7])&&(t[7]=s),r&S&&(t[8]=null==t[8]?e[8]:Wn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=a}(M,y),t=M[0],e=M[1],n=M[2],a=M[3],o=M[4],!(l=M[9]=M[9]===i?h?0:t.length:Bn(M[9]-f,0))&&e&(b|j)&&(e&=~(b|j)),e&&e!=g)L=e==b||e==j?function(t,e,n){var a=li(t);return function o(){for(var s=arguments.length,c=r(s),u=s,l=Ei(o);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:kn(c,l);return(s-=d.length)<n?bi(t,e,fi,o.placeholder,i,c,d,i,i,n-s):Be(this&&this!==Te&&this instanceof o?a:t,this,c)}}(t,e,l):e!=C&&e!=(g|C)||o.length?fi.apply(i,M):function(t,e,n,a){var i=e&g,o=li(t);return function e(){for(var s=-1,c=arguments.length,u=-1,l=a.length,d=r(l+c),h=this&&this!==Te&&this instanceof e?o:t;++u<l;)d[u]=a[u];for(;c--;)d[u++]=arguments[++s];return Be(h,i?n:this,d)}}(t,e,n,a);else var L=function(t,e,n){var r=e&g,a=li(t);return function e(){return(this&&this!==Te&&this instanceof e?a:t).apply(r?n:this,arguments)}}(t,e,n);return io((y?La:no)(L,M),t,e)}function wi(t,e,n,r){return t===i||fs(t,se[n])&&!le.call(r,n)?e:t}function Mi(t,e,n,r,a,o){return Ls(t)&&Ls(e)&&(o.set(e,t),pa(t,e,i,Mi,o),o.delete(e)),t}function Li(t){return xs(t)?i:t}function ki(t,e,n,r,a,o){var s=n&p,c=t.length,u=e.length;if(c!=u&&!(s&&u>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var d=-1,h=!0,f=n&y?new jr:i;for(o.set(t,e),o.set(e,t);++d<c;){var m=t[d],g=e[d];if(r)var v=s?r(g,m,d,e,t,o):r(m,g,d,t,e,o);if(v!==i){if(v)continue;h=!1;break}if(f){if(!rn(e,function(t,e){if(!In(f,e)&&(m===t||a(m,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(m!==g&&!a(m,g,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Ai(t){return ao(Ji(t,i,vo),t+"")}function Di(t){return Zr(t,ac,Yi)}function xi(t){return Zr(t,ic,Pi)}var Ni=rr?function(t){return rr.get(t)}:Rc;function Ti(t){for(var e=t.name+"",n=ar[e],r=le.call(ar,e)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==t)return a.name}return e}function Ei(t){return(le.call(fr,"placeholder")?fr:t).placeholder}function Ri(){var t=fr.iteratee||xc;return t=t===xc?ca:t,arguments.length?t(arguments[0],arguments[1]):t}function Oi(t,e){var n,r,a=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function $i(t){for(var e=ac(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,Zi(a)]}return e}function zi(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return sa(n)?n:i}var Yi=Pn?function(t){return null==t?[]:(t=ee(t),He(Pn(t),function(e){return Ee.call(t,e)}))}:Vc,Pi=Pn?function(t){for(var e=[];t;)tn(e,Yi(t)),t=xe(t);return e}:Vc,Fi=Gr;function Vi(t,e,n){for(var r=-1,a=(e=Wa(e,t)).length,i=!1;++r<a;){var o=uo(e[r]);if(!(i=null!=t&&n(t,o)))break;t=t[o]}return i||++r!=a?i:!!(a=null==t?0:t.length)&&Ms(a)&&Bi(o,a)&&(gs(t)||ys(t))}function Ui(t){return"function"!=typeof t.constructor||Hi(t)?{}:mr(xe(t))}function qi(t){return gs(t)||ys(t)||!!($e&&t&&t[$e])}function Bi(t,e){var n=typeof t;return!!(e=null==e?E:e)&&("number"==n||"symbol"!=n&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function Wi(t,e,n){if(!Ls(n))return!1;var r=typeof e;return!!("number"==r?Is(n)&&Bi(e,n.length):"string"==r&&e in n)&&fs(n[e],t)}function Xi(t,e){if(gs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Rs(t))||Dt.test(t)||!At.test(t)||null!=e&&t in ee(e)}function Qi(t){var e=Ti(t),n=fr[e];if("function"!=typeof n||!(e in gr.prototype))return!1;if(t===n)return!0;var r=Ni(n);return!!r&&t===r[0]}(Zn&&Fi(new Zn(new ArrayBuffer(1)))!=ut||Gn&&Fi(new Gn)!=H||Jn&&"[object Promise]"!=Fi(Jn.resolve())||tr&&Fi(new tr)!=nt||er&&Fi(new er)!=ot)&&(Fi=function(t){var e=Gr(t),n=e==J?t.constructor:i,r=n?lo(n):"";if(r)switch(r){case ir:return ut;case or:return H;case sr:return"[object Promise]";case cr:return nt;case ur:return ot}return e});var Ki=ce?Ss:Uc;function Hi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Zi(t){return t==t&&!Ls(t)}function Gi(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in ee(n))}}function Ji(t,e,n){return e=Bn(e===i?t.length-1:e,0),function(){for(var a=arguments,i=-1,o=Bn(a.length-e,0),s=r(o);++i<o;)s[i]=a[e+i];i=-1;for(var c=r(e+1);++i<e;)c[i]=a[i];return c[e]=n(s),Be(t,this,c)}}function to(t,e){return e.length<2?t:Hr(t,Da(e,0,-1))}function eo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var no=oo(La),ro=$n||function(t,e){return Te.setTimeout(t,e)},ao=oo(ka);function io(t,e,n){var r=e+"";return ao(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace($t,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Xe(P,function(n){var r="_."+n[0];e&n[1]&&!Ze(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(zt);return e?e[1].split(Yt):[]}(r),n)))}function oo(t){var e=0,n=0;return function(){var r=Xn(),a=D-(r-n);if(n=r,a>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(i,arguments)}}function so(t,e){var n=-1,r=t.length,a=r-1;for(e=e===i?r:e;++n<e;){var o=ja(n,a),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var co=function(t){var e=ss(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(xt,function(t,n,r,a){e.push(r?a.replace(Ft,"$1"):n||t)}),e});function uo(t){if("string"==typeof t||Rs(t))return t;var e=t+"";return"0"==e&&1/t==-T?"-0":e}function lo(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ho(t){if(t instanceof gr)return t.clone();var e=new yr(t.__wrapped__,t.__chain__);return e.__actions__=ni(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var fo=_a(function(t,e){return bs(t)?zr(t,qr(e,1,bs,!0)):[]}),mo=_a(function(t,e){var n=_o(e);return bs(n)&&(n=i),bs(t)?zr(t,qr(e,1,bs,!0),Ri(n,2)):[]}),po=_a(function(t,e){var n=_o(e);return bs(n)&&(n=i),bs(t)?zr(t,qr(e,1,bs,!0),i,n):[]});function yo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=null==n?0:Fs(n);return a<0&&(a=Bn(r+a,0)),sn(t,Ri(e,3),a)}function go(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r-1;return n!==i&&(a=Fs(n),a=n<0?Bn(r+a,0):Wn(a,r-1)),sn(t,Ri(e,3),a,!0)}function vo(t){return null!=t&&t.length?qr(t,1):[]}function Io(t){return t&&t.length?t[0]:i}var bo=_a(function(t){var e=Je(t,qa);return e.length&&e[0]===t[0]?na(e):[]}),jo=_a(function(t){var e=_o(t),n=Je(t,qa);return e===_o(n)?e=i:n.pop(),n.length&&n[0]===t[0]?na(n,Ri(e,2)):[]}),Co=_a(function(t){var e=_o(t),n=Je(t,qa);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?na(n,i,e):[]});function _o(t){var e=null==t?0:t.length;return e?t[e-1]:i}var So=_a(wo);function wo(t,e){return t&&t.length&&e&&e.length?Ia(t,e):t}var Mo=Ai(function(t,e){var n=null==t?0:t.length,r=Tr(t,e);return ba(t,Je(e,function(t){return Bi(t,n)?+t:t}).sort(Ja)),r});function Lo(t){return null==t?t:Hn.call(t)}var ko=_a(function(t){return $a(qr(t,1,bs,!0))}),Ao=_a(function(t){var e=_o(t);return bs(e)&&(e=i),$a(qr(t,1,bs,!0),Ri(e,2))}),Do=_a(function(t){var e=_o(t);return e="function"==typeof e?e:i,$a(qr(t,1,bs,!0),i,e)});function xo(t){if(!t||!t.length)return[];var e=0;return t=He(t,function(t){if(bs(t))return e=Bn(t.length,e),!0}),yn(e,function(e){return Je(t,hn(e))})}function No(t,e){if(!t||!t.length)return[];var n=xo(t);return null==e?n:Je(n,function(t){return Be(e,i,t)})}var To=_a(function(t,e){return bs(t)?zr(t,e):[]}),Eo=_a(function(t){return Va(He(t,bs))}),Ro=_a(function(t){var e=_o(t);return bs(e)&&(e=i),Va(He(t,bs),Ri(e,2))}),Oo=_a(function(t){var e=_o(t);return e="function"==typeof e?e:i,Va(He(t,bs),i,e)}),$o=_a(xo);var zo=_a(function(t){var e=t.length,n=e>1?t[e-1]:i;return No(t,n="function"==typeof n?(t.pop(),n):i)});function Yo(t){var e=fr(t);return e.__chain__=!0,e}function Po(t,e){return e(t)}var Fo=Ai(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return Tr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof gr&&Bi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Po,args:[a],thisArg:i}),new yr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(a)});var Vo=ai(function(t,e,n){le.call(t,n)?++t[n]:Nr(t,n,1)});var Uo=di(yo),qo=di(go);function Bo(t,e){return(gs(t)?Xe:Yr)(t,Ri(e,3))}function Wo(t,e){return(gs(t)?Qe:Pr)(t,Ri(e,3))}var Xo=ai(function(t,e,n){le.call(t,n)?t[n].push(e):Nr(t,n,[e])});var Qo=_a(function(t,e,n){var a=-1,i="function"==typeof e,o=Is(t)?r(t.length):[];return Yr(t,function(t){o[++a]=i?Be(e,t,n):ra(t,e,n)}),o}),Ko=ai(function(t,e,n){Nr(t,n,e)});function Ho(t,e){return(gs(t)?Je:ha)(t,Ri(e,3))}var Zo=ai(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Go=_a(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Wi(t,e[0],e[1])?e=[]:n>2&&Wi(e[0],e[1],e[2])&&(e=[e[0]]),ga(t,qr(e,1),[])}),Jo=On||function(){return Te.Date.now()};function ts(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Si(t,S,i,i,i,i,e)}function es(t,e){var n;if("function"!=typeof e)throw new ae(c);return t=Fs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var ns=_a(function(t,e,n){var r=g;if(n.length){var a=kn(n,Ei(ns));r|=C}return Si(t,r,e,n,a)}),rs=_a(function(t,e,n){var r=g|v;if(n.length){var a=kn(n,Ei(rs));r|=C}return Si(e,r,t,n,a)});function as(t,e,n){var r,a,o,s,u,l,d=0,h=!1,f=!1,m=!0;if("function"!=typeof t)throw new ae(c);function p(e){var n=r,o=a;return r=a=i,d=e,s=t.apply(o,n)}function y(t){var n=t-l;return l===i||n>=e||n<0||f&&t-d>=o}function g(){var t=Jo();if(y(t))return v(t);u=ro(g,function(t){var n=e-(t-l);return f?Wn(n,o-(t-d)):n}(t))}function v(t){return u=i,m&&r?p(t):(r=a=i,s)}function I(){var t=Jo(),n=y(t);if(r=arguments,a=this,l=t,n){if(u===i)return function(t){return d=t,u=ro(g,e),h?p(t):s}(l);if(f)return Ka(u),u=ro(g,e),p(l)}return u===i&&(u=ro(g,e)),s}return e=Us(e)||0,Ls(n)&&(h=!!n.leading,o=(f="maxWait"in n)?Bn(Us(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),I.cancel=function(){u!==i&&Ka(u),d=0,r=l=a=u=i},I.flush=function(){return u===i?s:v(Jo())},I}var is=_a(function(t,e){return $r(t,1,e)}),os=_a(function(t,e,n){return $r(t,Us(e)||0,n)});function ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(c);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(ss.Cache||br),n}function cs(t){if("function"!=typeof t)throw new ae(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ss.Cache=br;var us=Xa(function(t,e){var n=(e=1==e.length&&gs(e[0])?Je(e[0],gn(Ri())):Je(qr(e,1),gn(Ri()))).length;return _a(function(r){for(var a=-1,i=Wn(r.length,n);++a<i;)r[a]=e[a].call(this,r[a]);return Be(t,this,r)})}),ls=_a(function(t,e){var n=kn(e,Ei(ls));return Si(t,C,i,e,n)}),ds=_a(function(t,e){var n=kn(e,Ei(ds));return Si(t,_,i,e,n)}),hs=Ai(function(t,e){return Si(t,w,i,i,i,e)});function fs(t,e){return t===e||t!=t&&e!=e}var ms=Ii(Jr),ps=Ii(function(t,e){return t>=e}),ys=aa(function(){return arguments}())?aa:function(t){return ks(t)&&le.call(t,"callee")&&!Ee.call(t,"callee")},gs=r.isArray,vs=Ye?gn(Ye):function(t){return ks(t)&&Gr(t)==ct};function Is(t){return null!=t&&Ms(t.length)&&!Ss(t)}function bs(t){return ks(t)&&Is(t)}var js=Fn||Uc,Cs=Pe?gn(Pe):function(t){return ks(t)&&Gr(t)==B};function _s(t){if(!ks(t))return!1;var e=Gr(t);return e==X||e==W||"string"==typeof t.message&&"string"==typeof t.name&&!xs(t)}function Ss(t){if(!Ls(t))return!1;var e=Gr(t);return e==Q||e==K||e==U||e==tt}function ws(t){return"number"==typeof t&&t==Fs(t)}function Ms(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}function Ls(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ks(t){return null!=t&&"object"==typeof t}var As=Fe?gn(Fe):function(t){return ks(t)&&Fi(t)==H};function Ds(t){return"number"==typeof t||ks(t)&&Gr(t)==Z}function xs(t){if(!ks(t)||Gr(t)!=J)return!1;var e=xe(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==me}var Ns=Ve?gn(Ve):function(t){return ks(t)&&Gr(t)==et};var Ts=Ue?gn(Ue):function(t){return ks(t)&&Fi(t)==nt};function Es(t){return"string"==typeof t||!gs(t)&&ks(t)&&Gr(t)==rt}function Rs(t){return"symbol"==typeof t||ks(t)&&Gr(t)==at}var Os=qe?gn(qe):function(t){return ks(t)&&Ms(t.length)&&!!Me[Gr(t)]};var $s=Ii(da),zs=Ii(function(t,e){return t<=e});function Ys(t){if(!t)return[];if(Is(t))return Es(t)?Nn(t):ni(t);if(ze&&t[ze])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ze]());var e=Fi(t);return(e==H?Mn:e==nt?An:fc)(t)}function Ps(t){return t?(t=Us(t))===T||t===-T?(t<0?-1:1)*R:t==t?t:0:0===t?t:0}function Fs(t){var e=Ps(t),n=e%1;return e==e?n?e-n:e:0}function Vs(t){return t?Er(Fs(t),0,$):0}function Us(t){if("number"==typeof t)return t;if(Rs(t))return O;if(Ls(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ls(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Et,"");var n=Bt.test(t);return n||Xt.test(t)?De(t.slice(2),n?2:8):qt.test(t)?O:+t}function qs(t){return ri(t,ic(t))}function Bs(t){return null==t?"":Oa(t)}var Ws=ii(function(t,e){if(Hi(e)||Is(e))ri(e,ac(e),t);else for(var n in e)le.call(e,n)&&kr(t,n,e[n])}),Xs=ii(function(t,e){ri(e,ic(e),t)}),Qs=ii(function(t,e,n,r){ri(e,ic(e),t,r)}),Ks=ii(function(t,e,n,r){ri(e,ac(e),t,r)}),Hs=Ai(Tr);var Zs=_a(function(t,e){t=ee(t);var n=-1,r=e.length,a=r>2?e[2]:i;for(a&&Wi(e[0],e[1],a)&&(r=1);++n<r;)for(var o=e[n],s=ic(o),c=-1,u=s.length;++c<u;){var l=s[c],d=t[l];(d===i||fs(d,se[l])&&!le.call(t,l))&&(t[l]=o[l])}return t}),Gs=_a(function(t){return t.push(i,Mi),Be(sc,i,t)});function Js(t,e,n){var r=null==t?i:Hr(t,e);return r===i?n:r}function tc(t,e){return null!=t&&Vi(t,e,ea)}var ec=mi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n},Lc(Dc)),nc=mi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},Ri),rc=_a(ra);function ac(t){return Is(t)?_r(t):ua(t)}function ic(t){return Is(t)?_r(t,!0):la(t)}var oc=ii(function(t,e,n){pa(t,e,n)}),sc=ii(function(t,e,n,r){pa(t,e,n,r)}),cc=Ai(function(t,e){var n={};if(null==t)return n;var r=!1;e=Je(e,function(e){return e=Wa(e,t),r||(r=e.length>1),e}),ri(t,xi(t),n),r&&(n=Rr(n,h|f|m,Li));for(var a=e.length;a--;)za(n,e[a]);return n});var uc=Ai(function(t,e){return null==t?{}:function(t,e){return va(t,e,function(e,n){return tc(t,n)})}(t,e)});function lc(t,e){if(null==t)return{};var n=Je(xi(t),function(t){return[t]});return e=Ri(e),va(t,n,function(t,n){return e(t,n[0])})}var dc=_i(ac),hc=_i(ic);function fc(t){return null==t?[]:vn(t,ac(t))}var mc=ui(function(t,e,n){return e=e.toLowerCase(),t+(n?pc(e):e)});function pc(t){return _c(Bs(t).toLowerCase())}function yc(t){return(t=Bs(t))&&t.replace(Kt,Cn).replace(Ie,"")}var gc=ui(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),vc=ui(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Ic=ci("toLowerCase");var bc=ui(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var jc=ui(function(t,e,n){return t+(n?" ":"")+_c(e)});var Cc=ui(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),_c=ci("toUpperCase");function Sc(t,e,n){return t=Bs(t),(e=n?i:e)===i?function(t){return _e.test(t)}(t)?function(t){return t.match(je)||[]}(t):function(t){return t.match(Pt)||[]}(t):t.match(e)||[]}var wc=_a(function(t,e){try{return Be(t,i,e)}catch(t){return _s(t)?t:new Gt(t)}}),Mc=Ai(function(t,e){return Xe(e,function(e){e=uo(e),Nr(t,e,ns(t[e],t))}),t});function Lc(t){return function(){return t}}var kc=hi(),Ac=hi(!0);function Dc(t){return t}function xc(t){return ca("function"==typeof t?t:Rr(t,h))}var Nc=_a(function(t,e){return function(n){return ra(n,t,e)}}),Tc=_a(function(t,e){return function(n){return ra(t,n,e)}});function Ec(t,e,n){var r=ac(e),a=Kr(e,r);null!=n||Ls(e)&&(a.length||!r.length)||(n=e,e=t,t=this,a=Kr(e,ac(e)));var i=!(Ls(n)&&"chain"in n&&!n.chain),o=Ss(t);return Xe(a,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=ni(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Rc(){}var Oc=yi(Je),$c=yi(Ke),zc=yi(rn);function Yc(t){return Xi(t)?hn(uo(t)):function(t){return function(e){return Hr(e,t)}}(t)}var Pc=vi(),Fc=vi(!0);function Vc(){return[]}function Uc(){return!1}var qc=pi(function(t,e){return t+e},0),Bc=ji("ceil"),Wc=pi(function(t,e){return t/e},1),Xc=ji("floor");var Qc,Kc=pi(function(t,e){return t*e},1),Hc=ji("round"),Zc=pi(function(t,e){return t-e},0);return fr.after=function(t,e){if("function"!=typeof e)throw new ae(c);return t=Fs(t),function(){if(--t<1)return e.apply(this,arguments)}},fr.ary=ts,fr.assign=Ws,fr.assignIn=Xs,fr.assignInWith=Qs,fr.assignWith=Ks,fr.at=Hs,fr.before=es,fr.bind=ns,fr.bindAll=Mc,fr.bindKey=rs,fr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return gs(t)?t:[t]},fr.chain=Yo,fr.chunk=function(t,e,n){e=(n?Wi(t,e,n):e===i)?1:Bn(Fs(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];for(var o=0,s=0,c=r(zn(a/e));o<a;)c[s++]=Da(t,o,o+=e);return c},fr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,a=[];++e<n;){var i=t[e];i&&(a[r++]=i)}return a},fr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],a=t;a--;)e[a-1]=arguments[a];return tn(gs(n)?ni(n):[n],qr(e,1))},fr.cond=function(t){var e=null==t?0:t.length,n=Ri();return t=e?Je(t,function(t){if("function"!=typeof t[1])throw new ae(c);return[n(t[0]),t[1]]}):[],_a(function(n){for(var r=-1;++r<e;){var a=t[r];if(Be(a[0],this,n))return Be(a[1],this,n)}})},fr.conforms=function(t){return function(t){var e=ac(t);return function(n){return Or(n,t,e)}}(Rr(t,h))},fr.constant=Lc,fr.countBy=Vo,fr.create=function(t,e){var n=mr(t);return null==e?n:xr(n,e)},fr.curry=function t(e,n,r){var a=Si(e,b,i,i,i,i,i,n=r?i:n);return a.placeholder=t.placeholder,a},fr.curryRight=function t(e,n,r){var a=Si(e,j,i,i,i,i,i,n=r?i:n);return a.placeholder=t.placeholder,a},fr.debounce=as,fr.defaults=Zs,fr.defaultsDeep=Gs,fr.defer=is,fr.delay=os,fr.difference=fo,fr.differenceBy=mo,fr.differenceWith=po,fr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Da(t,(e=n||e===i?1:Fs(e))<0?0:e,r):[]},fr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Da(t,0,(e=r-(e=n||e===i?1:Fs(e)))<0?0:e):[]},fr.dropRightWhile=function(t,e){return t&&t.length?Pa(t,Ri(e,3),!0,!0):[]},fr.dropWhile=function(t,e){return t&&t.length?Pa(t,Ri(e,3),!0):[]},fr.fill=function(t,e,n,r){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&Wi(t,e,n)&&(n=0,r=a),function(t,e,n,r){var a=t.length;for((n=Fs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:Fs(r))<0&&(r+=a),r=n>r?0:Vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},fr.filter=function(t,e){return(gs(t)?He:Ur)(t,Ri(e,3))},fr.flatMap=function(t,e){return qr(Ho(t,e),1)},fr.flatMapDeep=function(t,e){return qr(Ho(t,e),T)},fr.flatMapDepth=function(t,e,n){return n=n===i?1:Fs(n),qr(Ho(t,e),n)},fr.flatten=vo,fr.flattenDeep=function(t){return null!=t&&t.length?qr(t,T):[]},fr.flattenDepth=function(t,e){return null!=t&&t.length?qr(t,e=e===i?1:Fs(e)):[]},fr.flip=function(t){return Si(t,M)},fr.flow=kc,fr.flowRight=Ac,fr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var a=t[e];r[a[0]]=a[1]}return r},fr.functions=function(t){return null==t?[]:Kr(t,ac(t))},fr.functionsIn=function(t){return null==t?[]:Kr(t,ic(t))},fr.groupBy=Xo,fr.initial=function(t){return null!=t&&t.length?Da(t,0,-1):[]},fr.intersection=bo,fr.intersectionBy=jo,fr.intersectionWith=Co,fr.invert=ec,fr.invertBy=nc,fr.invokeMap=Qo,fr.iteratee=xc,fr.keyBy=Ko,fr.keys=ac,fr.keysIn=ic,fr.map=Ho,fr.mapKeys=function(t,e){var n={};return e=Ri(e,3),Xr(t,function(t,r,a){Nr(n,e(t,r,a),t)}),n},fr.mapValues=function(t,e){var n={};return e=Ri(e,3),Xr(t,function(t,r,a){Nr(n,r,e(t,r,a))}),n},fr.matches=function(t){return fa(Rr(t,h))},fr.matchesProperty=function(t,e){return ma(t,Rr(e,h))},fr.memoize=ss,fr.merge=oc,fr.mergeWith=sc,fr.method=Nc,fr.methodOf=Tc,fr.mixin=Ec,fr.negate=cs,fr.nthArg=function(t){return t=Fs(t),_a(function(e){return ya(e,t)})},fr.omit=cc,fr.omitBy=function(t,e){return lc(t,cs(Ri(e)))},fr.once=function(t){return es(2,t)},fr.orderBy=function(t,e,n,r){return null==t?[]:(gs(e)||(e=null==e?[]:[e]),gs(n=r?i:n)||(n=null==n?[]:[n]),ga(t,e,n))},fr.over=Oc,fr.overArgs=us,fr.overEvery=$c,fr.overSome=zc,fr.partial=ls,fr.partialRight=ds,fr.partition=Zo,fr.pick=uc,fr.pickBy=lc,fr.property=Yc,fr.propertyOf=function(t){return function(e){return null==t?i:Hr(t,e)}},fr.pull=So,fr.pullAll=wo,fr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ia(t,e,Ri(n,2)):t},fr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ia(t,e,i,n):t},fr.pullAt=Mo,fr.range=Pc,fr.rangeRight=Fc,fr.rearg=hs,fr.reject=function(t,e){return(gs(t)?He:Ur)(t,cs(Ri(e,3)))},fr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,a=[],i=t.length;for(e=Ri(e,3);++r<i;){var o=t[r];e(o,r,t)&&(n.push(o),a.push(r))}return ba(t,a),n},fr.rest=function(t,e){if("function"!=typeof t)throw new ae(c);return _a(t,e=e===i?e:Fs(e))},fr.reverse=Lo,fr.sampleSize=function(t,e,n){return e=(n?Wi(t,e,n):e===i)?1:Fs(e),(gs(t)?wr:wa)(t,e)},fr.set=function(t,e,n){return null==t?t:Ma(t,e,n)},fr.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Ma(t,e,n,r)},fr.shuffle=function(t){return(gs(t)?Mr:Aa)(t)},fr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Wi(t,e,n)?(e=0,n=r):(e=null==e?0:Fs(e),n=n===i?r:Fs(n)),Da(t,e,n)):[]},fr.sortBy=Go,fr.sortedUniq=function(t){return t&&t.length?Ea(t):[]},fr.sortedUniqBy=function(t,e){return t&&t.length?Ea(t,Ri(e,2)):[]},fr.split=function(t,e,n){return n&&"number"!=typeof n&&Wi(t,e,n)&&(e=n=i),(n=n===i?$:n>>>0)?(t=Bs(t))&&("string"==typeof e||null!=e&&!Ns(e))&&!(e=Oa(e))&&wn(t)?Qa(Nn(t),0,n):t.split(e,n):[]},fr.spread=function(t,e){if("function"!=typeof t)throw new ae(c);return e=null==e?0:Bn(Fs(e),0),_a(function(n){var r=n[e],a=Qa(n,0,e);return r&&tn(a,r),Be(t,this,a)})},fr.tail=function(t){var e=null==t?0:t.length;return e?Da(t,1,e):[]},fr.take=function(t,e,n){return t&&t.length?Da(t,0,(e=n||e===i?1:Fs(e))<0?0:e):[]},fr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Da(t,(e=r-(e=n||e===i?1:Fs(e)))<0?0:e,r):[]},fr.takeRightWhile=function(t,e){return t&&t.length?Pa(t,Ri(e,3),!1,!0):[]},fr.takeWhile=function(t,e){return t&&t.length?Pa(t,Ri(e,3)):[]},fr.tap=function(t,e){return e(t),t},fr.throttle=function(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new ae(c);return Ls(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),as(t,e,{leading:r,maxWait:e,trailing:a})},fr.thru=Po,fr.toArray=Ys,fr.toPairs=dc,fr.toPairsIn=hc,fr.toPath=function(t){return gs(t)?Je(t,uo):Rs(t)?[t]:ni(co(Bs(t)))},fr.toPlainObject=qs,fr.transform=function(t,e,n){var r=gs(t),a=r||js(t)||Os(t);if(e=Ri(e,4),null==n){var i=t&&t.constructor;n=a?r?new i:[]:Ls(t)&&Ss(i)?mr(xe(t)):{}}return(a?Xe:Xr)(t,function(t,r,a){return e(n,t,r,a)}),n},fr.unary=function(t){return ts(t,1)},fr.union=ko,fr.unionBy=Ao,fr.unionWith=Do,fr.uniq=function(t){return t&&t.length?$a(t):[]},fr.uniqBy=function(t,e){return t&&t.length?$a(t,Ri(e,2)):[]},fr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?$a(t,i,e):[]},fr.unset=function(t,e){return null==t||za(t,e)},fr.unzip=xo,fr.unzipWith=No,fr.update=function(t,e,n){return null==t?t:Ya(t,e,Ba(n))},fr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Ya(t,e,Ba(n),r)},fr.values=fc,fr.valuesIn=function(t){return null==t?[]:vn(t,ic(t))},fr.without=To,fr.words=Sc,fr.wrap=function(t,e){return ls(Ba(e),t)},fr.xor=Eo,fr.xorBy=Ro,fr.xorWith=Oo,fr.zip=$o,fr.zipObject=function(t,e){return Ua(t||[],e||[],kr)},fr.zipObjectDeep=function(t,e){return Ua(t||[],e||[],Ma)},fr.zipWith=zo,fr.entries=dc,fr.entriesIn=hc,fr.extend=Xs,fr.extendWith=Qs,Ec(fr,fr),fr.add=qc,fr.attempt=wc,fr.camelCase=mc,fr.capitalize=pc,fr.ceil=Bc,fr.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=Us(n))==n?n:0),e!==i&&(e=(e=Us(e))==e?e:0),Er(Us(t),e,n)},fr.clone=function(t){return Rr(t,m)},fr.cloneDeep=function(t){return Rr(t,h|m)},fr.cloneDeepWith=function(t,e){return Rr(t,h|m,e="function"==typeof e?e:i)},fr.cloneWith=function(t,e){return Rr(t,m,e="function"==typeof e?e:i)},fr.conformsTo=function(t,e){return null==e||Or(t,e,ac(e))},fr.deburr=yc,fr.defaultTo=function(t,e){return null==t||t!=t?e:t},fr.divide=Wc,fr.endsWith=function(t,e,n){t=Bs(t),e=Oa(e);var r=t.length,a=n=n===i?r:Er(Fs(n),0,r);return(n-=e.length)>=0&&t.slice(n,a)==e},fr.eq=fs,fr.escape=function(t){return(t=Bs(t))&&wt.test(t)?t.replace(_t,_n):t},fr.escapeRegExp=function(t){return(t=Bs(t))&&Tt.test(t)?t.replace(Nt,"\\$&"):t},fr.every=function(t,e,n){var r=gs(t)?Ke:Fr;return n&&Wi(t,e,n)&&(e=i),r(t,Ri(e,3))},fr.find=Uo,fr.findIndex=yo,fr.findKey=function(t,e){return on(t,Ri(e,3),Xr)},fr.findLast=qo,fr.findLastIndex=go,fr.findLastKey=function(t,e){return on(t,Ri(e,3),Qr)},fr.floor=Xc,fr.forEach=Bo,fr.forEachRight=Wo,fr.forIn=function(t,e){return null==t?t:Br(t,Ri(e,3),ic)},fr.forInRight=function(t,e){return null==t?t:Wr(t,Ri(e,3),ic)},fr.forOwn=function(t,e){return t&&Xr(t,Ri(e,3))},fr.forOwnRight=function(t,e){return t&&Qr(t,Ri(e,3))},fr.get=Js,fr.gt=ms,fr.gte=ps,fr.has=function(t,e){return null!=t&&Vi(t,e,ta)},fr.hasIn=tc,fr.head=Io,fr.identity=Dc,fr.includes=function(t,e,n,r){t=Is(t)?t:fc(t),n=n&&!r?Fs(n):0;var a=t.length;return n<0&&(n=Bn(a+n,0)),Es(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&cn(t,e,n)>-1},fr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=null==n?0:Fs(n);return a<0&&(a=Bn(r+a,0)),cn(t,e,a)},fr.inRange=function(t,e,n){return e=Ps(e),n===i?(n=e,e=0):n=Ps(n),function(t,e,n){return t>=Wn(e,n)&&t<Bn(e,n)}(t=Us(t),e,n)},fr.invoke=rc,fr.isArguments=ys,fr.isArray=gs,fr.isArrayBuffer=vs,fr.isArrayLike=Is,fr.isArrayLikeObject=bs,fr.isBoolean=function(t){return!0===t||!1===t||ks(t)&&Gr(t)==q},fr.isBuffer=js,fr.isDate=Cs,fr.isElement=function(t){return ks(t)&&1===t.nodeType&&!xs(t)},fr.isEmpty=function(t){if(null==t)return!0;if(Is(t)&&(gs(t)||"string"==typeof t||"function"==typeof t.splice||js(t)||Os(t)||ys(t)))return!t.length;var e=Fi(t);if(e==H||e==nt)return!t.size;if(Hi(t))return!ua(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},fr.isEqual=function(t,e){return ia(t,e)},fr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?ia(t,e,i,n):!!r},fr.isError=_s,fr.isFinite=function(t){return"number"==typeof t&&Vn(t)},fr.isFunction=Ss,fr.isInteger=ws,fr.isLength=Ms,fr.isMap=As,fr.isMatch=function(t,e){return t===e||oa(t,e,$i(e))},fr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,oa(t,e,$i(e),n)},fr.isNaN=function(t){return Ds(t)&&t!=+t},fr.isNative=function(t){if(Ki(t))throw new Gt(s);return sa(t)},fr.isNil=function(t){return null==t},fr.isNull=function(t){return null===t},fr.isNumber=Ds,fr.isObject=Ls,fr.isObjectLike=ks,fr.isPlainObject=xs,fr.isRegExp=Ns,fr.isSafeInteger=function(t){return ws(t)&&t>=-E&&t<=E},fr.isSet=Ts,fr.isString=Es,fr.isSymbol=Rs,fr.isTypedArray=Os,fr.isUndefined=function(t){return t===i},fr.isWeakMap=function(t){return ks(t)&&Fi(t)==ot},fr.isWeakSet=function(t){return ks(t)&&Gr(t)==st},fr.join=function(t,e){return null==t?"":Un.call(t,e)},fr.kebabCase=gc,fr.last=_o,fr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=Fs(n))<0?Bn(r+a,0):Wn(a,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,a):sn(t,ln,a,!0)},fr.lowerCase=vc,fr.lowerFirst=Ic,fr.lt=$s,fr.lte=zs,fr.max=function(t){return t&&t.length?Vr(t,Dc,Jr):i},fr.maxBy=function(t,e){return t&&t.length?Vr(t,Ri(e,2),Jr):i},fr.mean=function(t){return dn(t,Dc)},fr.meanBy=function(t,e){return dn(t,Ri(e,2))},fr.min=function(t){return t&&t.length?Vr(t,Dc,da):i},fr.minBy=function(t,e){return t&&t.length?Vr(t,Ri(e,2),da):i},fr.stubArray=Vc,fr.stubFalse=Uc,fr.stubObject=function(){return{}},fr.stubString=function(){return""},fr.stubTrue=function(){return!0},fr.multiply=Kc,fr.nth=function(t,e){return t&&t.length?ya(t,Fs(e)):i},fr.noConflict=function(){return Te._===this&&(Te._=pe),this},fr.noop=Rc,fr.now=Jo,fr.pad=function(t,e,n){t=Bs(t);var r=(e=Fs(e))?xn(t):0;if(!e||r>=e)return t;var a=(e-r)/2;return gi(Yn(a),n)+t+gi(zn(a),n)},fr.padEnd=function(t,e,n){t=Bs(t);var r=(e=Fs(e))?xn(t):0;return e&&r<e?t+gi(e-r,n):t},fr.padStart=function(t,e,n){t=Bs(t);var r=(e=Fs(e))?xn(t):0;return e&&r<e?gi(e-r,n)+t:t},fr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Qn(Bs(t).replace(Rt,""),e||0)},fr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Wi(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Ps(t),e===i?(e=t,t=0):e=Ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var a=Kn();return Wn(t+a*(e-t+Ae("1e-"+((a+"").length-1))),e)}return ja(t,e)},fr.reduce=function(t,e,n){var r=gs(t)?en:mn,a=arguments.length<3;return r(t,Ri(e,4),n,a,Yr)},fr.reduceRight=function(t,e,n){var r=gs(t)?nn:mn,a=arguments.length<3;return r(t,Ri(e,4),n,a,Pr)},fr.repeat=function(t,e,n){return e=(n?Wi(t,e,n):e===i)?1:Fs(e),Ca(Bs(t),e)},fr.replace=function(){var t=arguments,e=Bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},fr.result=function(t,e,n){var r=-1,a=(e=Wa(e,t)).length;for(a||(a=1,t=i);++r<a;){var o=null==t?i:t[uo(e[r])];o===i&&(r=a,o=n),t=Ss(o)?o.call(t):o}return t},fr.round=Hc,fr.runInContext=t,fr.sample=function(t){return(gs(t)?Sr:Sa)(t)},fr.size=function(t){if(null==t)return 0;if(Is(t))return Es(t)?xn(t):t.length;var e=Fi(t);return e==H||e==nt?t.size:ua(t).length},fr.snakeCase=bc,fr.some=function(t,e,n){var r=gs(t)?rn:xa;return n&&Wi(t,e,n)&&(e=i),r(t,Ri(e,3))},fr.sortedIndex=function(t,e){return Na(t,e)},fr.sortedIndexBy=function(t,e,n){return Ta(t,e,Ri(n,2))},fr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Na(t,e);if(r<n&&fs(t[r],e))return r}return-1},fr.sortedLastIndex=function(t,e){return Na(t,e,!0)},fr.sortedLastIndexBy=function(t,e,n){return Ta(t,e,Ri(n,2),!0)},fr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Na(t,e,!0)-1;if(fs(t[n],e))return n}return-1},fr.startCase=jc,fr.startsWith=function(t,e,n){return t=Bs(t),n=null==n?0:Er(Fs(n),0,t.length),e=Oa(e),t.slice(n,n+e.length)==e},fr.subtract=Zc,fr.sum=function(t){return t&&t.length?pn(t,Dc):0},fr.sumBy=function(t,e){return t&&t.length?pn(t,Ri(e,2)):0},fr.template=function(t,e,n){var r=fr.templateSettings;n&&Wi(t,e,n)&&(e=i),t=Bs(t),e=Qs({},e,r,wi);var a,o,s=Qs({},e.imports,r.imports,wi),c=ac(s),u=vn(s,c),l=0,d=e.interpolate||Ht,h="__p += '",f=ne((e.escape||Ht).source+"|"+d.source+"|"+(d===kt?Vt:Ht).source+"|"+(e.evaluate||Ht).source+"|$","g"),m="//# sourceURL="+(le.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++we+"]")+"\n";t.replace(f,function(e,n,r,i,s,c){return r||(r=i),h+=t.slice(l,c).replace(Zt,Sn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),h+="';\n";var p=le.call(e,"variable")&&e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(It,""):h).replace(bt,"$1").replace(jt,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=wc(function(){return Jt(c,m+"return "+h).apply(i,u)});if(y.source=h,_s(y))throw y;return y},fr.times=function(t,e){if((t=Fs(t))<1||t>E)return[];var n=$,r=Wn(t,$);e=Ri(e),t-=$;for(var a=yn(r,e);++n<t;)e(n);return a},fr.toFinite=Ps,fr.toInteger=Fs,fr.toLength=Vs,fr.toLower=function(t){return Bs(t).toLowerCase()},fr.toNumber=Us,fr.toSafeInteger=function(t){return t?Er(Fs(t),-E,E):0===t?t:0},fr.toString=Bs,fr.toUpper=function(t){return Bs(t).toUpperCase()},fr.trim=function(t,e,n){if((t=Bs(t))&&(n||e===i))return t.replace(Et,"");if(!t||!(e=Oa(e)))return t;var r=Nn(t),a=Nn(e);return Qa(r,bn(r,a),jn(r,a)+1).join("")},fr.trimEnd=function(t,e,n){if((t=Bs(t))&&(n||e===i))return t.replace(Ot,"");if(!t||!(e=Oa(e)))return t;var r=Nn(t);return Qa(r,0,jn(r,Nn(e))+1).join("")},fr.trimStart=function(t,e,n){if((t=Bs(t))&&(n||e===i))return t.replace(Rt,"");if(!t||!(e=Oa(e)))return t;var r=Nn(t);return Qa(r,bn(r,Nn(e))).join("")},fr.truncate=function(t,e){var n=L,r=k;if(Ls(e)){var a="separator"in e?e.separator:a;n="length"in e?Fs(e.length):n,r="omission"in e?Oa(e.omission):r}var o=(t=Bs(t)).length;if(wn(t)){var s=Nn(t);o=s.length}if(n>=o)return t;var c=n-xn(r);if(c<1)return r;var u=s?Qa(s,0,c).join(""):t.slice(0,c);if(a===i)return u+r;if(s&&(c+=u.length-c),Ns(a)){if(t.slice(c).search(a)){var l,d=u;for(a.global||(a=ne(a.source,Bs(Ut.exec(a))+"g")),a.lastIndex=0;l=a.exec(d);)var h=l.index;u=u.slice(0,h===i?c:h)}}else if(t.indexOf(Oa(a),c)!=c){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+r},fr.unescape=function(t){return(t=Bs(t))&&St.test(t)?t.replace(Ct,Tn):t},fr.uniqueId=function(t){var e=++de;return Bs(t)+e},fr.upperCase=Cc,fr.upperFirst=_c,fr.each=Bo,fr.eachRight=Wo,fr.first=Io,Ec(fr,(Qc={},Xr(fr,function(t,e){le.call(fr.prototype,e)||(Qc[e]=t)}),Qc),{chain:!1}),fr.VERSION="4.17.15",Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){fr[t].placeholder=fr}),Xe(["drop","take"],function(t,e){gr.prototype[t]=function(n){n=n===i?1:Bn(Fs(n),0);var r=this.__filtered__&&!e?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=Wn(n,r.__takeCount__):r.__views__.push({size:Wn(n,$),type:t+(r.__dir__<0?"Right":"")}),r},gr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Xe(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==x||3==n;gr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ri(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Xe(["head","last"],function(t,e){var n="take"+(e?"Right":"");gr.prototype[t]=function(){return this[n](1).value()[0]}}),Xe(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");gr.prototype[t]=function(){return this.__filtered__?new gr(this):this[n](1)}}),gr.prototype.compact=function(){return this.filter(Dc)},gr.prototype.find=function(t){return this.filter(t).head()},gr.prototype.findLast=function(t){return this.reverse().find(t)},gr.prototype.invokeMap=_a(function(t,e){return"function"==typeof t?new gr(this):this.map(function(n){return ra(n,t,e)})}),gr.prototype.reject=function(t){return this.filter(cs(Ri(t)))},gr.prototype.slice=function(t,e){t=Fs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new gr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=Fs(e))<0?n.dropRight(-e):n.take(e-t)),n)},gr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},gr.prototype.toArray=function(){return this.take($)},Xr(gr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=fr[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);a&&(fr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,c=e instanceof gr,u=s[0],l=c||gs(e),d=function(t){var e=a.apply(fr,tn([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,f=!!this.__actions__.length,m=o&&!h,p=c&&!f;if(!o&&l){e=p?e:new gr(this);var y=t.apply(e,s);return y.__actions__.push({func:Po,args:[d],thisArg:i}),new yr(y,h)}return m&&p?t.apply(this,s):(y=this.thru(d),m?r?y.value()[0]:y.value():y)})}),Xe(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);fr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var a=this.value();return e.apply(gs(a)?a:[],t)}return this[n](function(n){return e.apply(gs(n)?n:[],t)})}}),Xr(gr.prototype,function(t,e){var n=fr[e];if(n){var r=n.name+"";le.call(ar,r)||(ar[r]=[]),ar[r].push({name:e,func:n})}}),ar[fi(i,v).name]=[{name:"wrapper",func:i}],gr.prototype.clone=function(){var t=new gr(this.__wrapped__);return t.__actions__=ni(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ni(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ni(this.__views__),t},gr.prototype.reverse=function(){if(this.__filtered__){var t=new gr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},gr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=gs(t),r=e<0,a=n?t.length:0,i=function(t,e,n){for(var r=-1,a=n.length;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Wn(e,t+o);break;case"takeRight":t=Bn(t,e-o)}}return{start:t,end:e}}(0,a,this.__views__),o=i.start,s=i.end,c=s-o,u=r?s:o-1,l=this.__iteratees__,d=l.length,h=0,f=Wn(c,this.__takeCount__);if(!n||!r&&a==c&&f==c)return Fa(t,this.__actions__);var m=[];t:for(;c--&&h<f;){for(var p=-1,y=t[u+=e];++p<d;){var g=l[p],v=g.iteratee,I=g.type,b=v(y);if(I==N)y=b;else if(!b){if(I==x)continue t;break t}}m[h++]=y}return m},fr.prototype.at=Fo,fr.prototype.chain=function(){return Yo(this)},fr.prototype.commit=function(){return new yr(this.value(),this.__chain__)},fr.prototype.next=function(){this.__values__===i&&(this.__values__=Ys(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},fr.prototype.plant=function(t){for(var e,n=this;n instanceof pr;){var r=ho(n);r.__index__=0,r.__values__=i,e?a.__wrapped__=r:e=r;var a=r;n=n.__wrapped__}return a.__wrapped__=t,e},fr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof gr){var e=t;return this.__actions__.length&&(e=new gr(this)),(e=e.reverse()).__actions__.push({func:Po,args:[Lo],thisArg:i}),new yr(e,this.__chain__)}return this.thru(Lo)},fr.prototype.toJSON=fr.prototype.valueOf=fr.prototype.value=function(){return Fa(this.__wrapped__,this.__actions__)},fr.prototype.first=fr.prototype.head,ze&&(fr.prototype[ze]=function(){return this}),fr}();Te._=En,(a=function(){return En}.call(e,n,e,r))===i||(r.exports=a)}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},N4P7:function(t,e){},Q0TJ:function(t,e){},YOzV:function(t,e){},cH8u:function(t,e){},gjD2:function(t,e){},ifJ0:function(t,e){},pMhl:function(t,e){},q4H5:function(t,e){},tzGD:function(t,e){},wCXz:function(t,e){},"wy8+":function(t,e){},xdrL:function(t,e){}});