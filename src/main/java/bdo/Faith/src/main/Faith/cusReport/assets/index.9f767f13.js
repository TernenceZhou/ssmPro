import{d as ue,h as f,M as $e,i as a,E as Le,j as ie,r as C,o as u,b as i,t as y,w as Ne,k as Me,l as b,m as ne,n as De,p as Ee,q as Oe,s as Ae,u as Re,F as S,v as $,x as c,y as d,z as G,D as Ue}from"./vendor.7005e464.js";import{e as D}from"./eventbus.38817e84.js";var ce=ue({name:"appbar",props:["baseInfo"],setup(e,{attrs:o,slots:E,emit:O}){const{ctx:X,proxy:k}=ie(),A=f(!1);return{updateTime:()=>{$e.confirm({title:"\u786E\u8BA4",icon:a(Le),content:"\u662F\u5426\u91CD\u65B0\u751F\u6210\u62A5\u544A\u6570\u636E",okText:"\u751F\u6210",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){k.$faithApi.getReportTime({}).then(I=>{I.success&&Array.isArray(I.data)||k.$toast.warning(I.resultInfo.statusText)}).catch(I=>{console.log(I)})}})},timeVisible:A}}}),Be="assets/sacpintelligentanalysis.61877c09.png";const Fe={class:"appbar"},We=a("div",{class:"logo"},[a("img",{src:Be,alt:""})],-1),je={class:"systemName"},Ke={class:"downloadBtn"},Pe={class:"clock"},Ve=b("\u4E0B\u8F7D\u62A5\u544A");function qe(e,o){const E=C("bdo-icon"),O=C("bdo-a-button");return u(),i("div",Fe,[We,a("div",je,y(e.baseInfo.customerName),1),a("div",Ke,[a(E,{class:"pointer",onClick:Ne(e.updateTime,["stop"]),src:"ReloadOutlined",title:"\u5237\u65B0"},null,8,["onClick"]),a("p",Pe,y(e.baseInfo.updateDate),1),a(O,{type:"primary"},{default:Me(()=>[Ve]),_:1})])])}ce.render=qe;var de=ue({components:{BdoAppbar:ce},setup(e,{attrs:o,slots:E,emit:O}){const{ctx:X,proxy:k}=ie(),A=f("1"),L=f(!1),I=f(!1),v=f({}),_=f(!0),T=f(0),R=f(!0),N=f(!0),U=f(!0),B=f(!0),M=f(!0),t=f(!0),m=f(!0),g=f([]),H=f([]),Z=f([]),F=f([]),W=f([]),x=f([]),z=f([]),j=f([]),Y=f([]),J=f([]),le=f(""),K=f([]),P=f([]),V=f([]),ee=ne([]),he=ne([{title:"\u98CE\u9669\u626B\u63CF",key:"/riskFetection"},{title:"\u57FA\u672C\u4FE1\u606F",key:"/essentialInformation"},{title:"\u8D22\u52A1\u8D26\u5957",key:"/financialVerification"},{title:"\u8D22\u52A1\u62A5\u8868",key:"/reportStructure"},{title:"\u8D22\u52A1\u6307\u6807",key:"/indexAnalysis"},{title:"\u76D1\u7BA1\u6D88\u606F",key:"/reguLatory"},{title:"\u65B0\u95FB\u8206\u60C5",key:"/newsOptions"}]),te=ne([]),fe=()=>{L.value=!L.value},ge=s=>s.preventDefault(),q=()=>{const s=k.$router.currentRoute.value.path;I.value=s,L.value=!1,setTimeout(()=>{L.value=!0;let r=document.getElementsByClassName("itemTitle"),l=[];for(let n=0;n<r.length;n++){const h=r[n],w=h.querySelector(".showTitle"),Te=w?w.innerText:"",re=h.querySelector(".tansparnentSubtitle"),Ie=re?re.innerText:"",Se=Te+Ie;l.push({title:Se,href:r[n].id})}ee.splice(0,ee.length,...l)},500)};D.on("getSidebarNum",q),De(()=>{D.off("getSidebarNum",q)});const pe=()=>document.querySelector("#layoutContent"),ve=s=>{k.$router.push(s.key),document.getElementById("layoutContent").scrollTop=0},Q=()=>{g.value=[],Z.value=[],J.value=[],z.value=[],Y.value=[]},ke=()=>{k.$faithApi.getCusGlobalInfo({}).then(s=>{let r={};if(s.success&&s.data&&Array.isArray(s.data)&&s.data.length>0){r=s.data[0]||{};let l=s.data[0].industryCode==null?"":s.data[0].industryCode,n=s.data[0].industryName==null?"":s.data[0].industryName,h=s.data[0].customerName;sessionStorage.setItem("Code",l),sessionStorage.setItem("Name",n),sessionStorage.setItem("custName",h)}else k.$toast.error(s.resultInfo.statusText);v.value=r}).catch(s=>{v.value={},k.$toast.error(s.message)})},me=()=>{ke(),q()},we=(s,r,l)=>{const n=new Date;n.setDate(n.getDate()+(l||0));const h=escape(r),w=l==null?"":`;expires=${n.toUTCString()}`;document.cookie=`${s}=${h}${w}`},se=()=>{let s=sessionStorage.getItem("customerId"),r=sessionStorage.getItem("projectId"),l=sessionStorage.getItem("projectYear"),h={lockCustomerId:s,lockProjectId:r,lockYyyy:l,menuId:"40000077"};k.$faithApi.getNewsList(h).then(w=>{w.success&&Array.isArray(w.data)?(x.value=w.data[0].newsList,w.data[0].itemSum&&(g.value=w.data[0].itemSum.topicidItems,Z.value=w.data[0].itemSum.impactItems,H.value=w.data[0].itemSum.allItems),D.emit("newsOptions.moreNews",{newData:x})):k.$toast.error(w.resultInfo.statusText)}).catch(w=>{console.log(w)})},Ce=s=>{s===1?R.value=!1:s===2?R.value=!0:s===3?N.value=!1:s===4?N.value=!0:s===5?U.value=!1:U.value=!0},ye=(s,r,l,n)=>{if(r=="\u5168\u90E8"&&l===!0&&n===1&&(g.value.forEach(h=>{h.checked2==!0&&(h.checked2=!1)}),Z.value.forEach(h=>{h.checked3==!0&&(h.checked3=!1)}),W.value=[],F.value=[]),l===!1&&n===1)return!1;if(l===!0&&n!==1)l===!0&&n===2&&(H.value.forEach(h=>{h.checked1==!0&&(h.checked1=!1)}),W.value.push(r)),l===!0&&n===3&&(H.value.forEach(h=>{h.checked1==!0&&(h.checked1=!1)}),F.value.push(r));else{if(l===!1&&n===2){let h=W.value.findIndex(w=>w==r);W.value.splice(h,1).toString()}if(l===!1&&n===3){let h=F.value.findIndex(w=>w==r);F.value.splice(h,1).toString()}}D.emit("newsOptions.handleChange",{typeCode:s,typeName:r,checked:l,type:n})},_e=(s,r,l)=>{if(s=="\u5168\u90E8"&&r===!0&&l===1&&(z.value.forEach(n=>{n.checked2==!0&&(n.checked2=!1)}),J.value.forEach(n=>{n.checked3==!0&&(n.checked3=!1)}),Y.value.forEach(n=>{n.checked4==!0&&(n.checked4=!1)}),P.value=[],K.value=[],V.value=[]),r===!1&&l===1)return!1;if(s&&r===!0&&l!==1)r===!0&&l===2&&(j.value.forEach(n=>{n.checked1==!0&&(n.checked1=!1)}),P.value.push(s)),r===!0&&l===3&&(j.value.forEach(n=>{n.checked1==!0&&(n.checked1=!1)}),K.value.push(s)),r===!0&&l===4&&(j.value.forEach(n=>{n.checked1==!0&&(n.checked1=!1)}),V.value.push(s));else{if(r===!1&&l===2){let n=P.value.findIndex(h=>h==s);P.value.splice(n,1).toString()}if(r===!1&&l===3){let n=K.value.findIndex(h=>h==s);K.value.splice(n,1).toString()}if(r===!1&&l===4){let n=V.value.findIndex(h=>h==s);V.value.splice(n,1).toString()}}D.emit("reguLatory.infoSwitch",{typeCode:s,checked:r,type1:l})},be=s=>{s===1?B.value=!1:s===2?B.value=!0:s===3?M.value=!1:s===4?M.value=!0:s===5?t.value=!1:s===6?t.value=!0:s===7?m.value=!1:s===8&&(m.value=!0)},ae=()=>{k.$faithApi.getCusReguNum({}).then(s=>{s.success&&Array.isArray(s.data)?(s.data[0].letterTypeList&&(J.value=s.data[0].letterTypeList),s.data[0].letterOrgList&&(z.value=s.data[0].letterOrgList),s.data[0].askLabelList&&(Y.value=s.data[0].askLabelList),s.data[0].totalList&&(j.value=s.data[0].totalList,le.value=s.data[0].totalList[0].typeNum),D.emit("reguLatory.getCusReguList1")):k.$toast.error(s.resultInfo.statusText)}).catch(s=>{console.log(s)})};Ee(k.$router.currentRoute,()=>{k.$router.currentRoute.value.path==="/reportStructure"?_.value=!1:k.$router.currentRoute.value.path==="/newsOptions"?(_.value=!0,T.value=1,Q(),se()):k.$router.currentRoute.value.path==="/reguLatory"?(_.value=!0,T.value=2,Q(),ae()):(_.value=!0,T.value=0,Q()),q(),oe("change")});const oe=s=>{let r=[];const l=k.$router.currentRoute.value.path;l==="/reportStructure"&&(_.value=!1),l==="/newsOptions"&&(_.value=!0,T.value=1,s!="change"&&se()),l==="/reguLatory"&&(_.value=!0,T.value=2,s!="change"&&ae()),!l||l==="/"?r=["/riskFetection"]:r=[l],te.splice(0,te.length,...r),me(),we("SESSION","ZjNlZWJhMTgtZmQ3MC00MGE4LWE4OWQtYjg3NWExMzEyZmJm",1)};return oe(),{activeKey:A,collapsed:L,showLeftAndBtn:I,baseInfo:v,flag:T,linkList:ee,routerList:he,selectedKeys:te,getnewsNum:se,handleChange:ye,answerTag:Y,getCusReguNum:ae,allNum:le,entire:j,sendingUnit:z,correspondence:J,infoSwitch:_e,sendingList:P,corresList:K,answerList:V,regulMore:be,clickChange:fe,showLinkList:q,getContainer:pe,itemChange:ve,linkHref:ge,anchorShow:_,totalData:H,letterdata:g,orgdata:Z,letterList:W,orgdataList:F,moreLetter:Ce,switchClear:Q,newTitle1:R,newTitle2:N,newTitle3:U,msgTitle1:B,msgTitle2:M,msgTitle3:t,msgTitle4:m,newData:x,simpleImage:Oe.PRESENTED_IMAGE_SIMPLE}}}),Ge="assets/risktitle.fc30d17f.png";const p=Ue();Ae("data-v-fa474ac0");const He={class:"header2"},Ze={key:1},ze={key:0},Ye={class:"all active"},Je={class:"newsTitle"},Qe=b("\u5168\u90E8"),Xe={class:"answerItem"},xe={class:"all"},et={class:"newsTitle"},tt=b("\u5F71\u54CD"),st={class:"answerItem"},at={class:"all"},nt={class:"newsTitle"},lt=b("\u4E3B\u9898"),ot={class:"answerItem"},rt={key:1},ut={class:"allMsg active"},it={class:"newsTitle"},ct=b("\u5168\u90E8"),dt={class:"answerItem"},ht={class:"allMsg"},ft={class:"newsTitle"},gt=b("\u51FD\u4EF6\u7C7B\u578B"),pt={class:"answerItem"},vt={class:"allMsg"},kt={class:"newsTitle"},mt=b("\u53D1\u51FD\u5355\u4F4D"),wt={class:"answerItem"},Ct={class:"allMsg"},yt={class:"newsTitle"},_t=b("\u95EE\u7B54\u6807\u7B7E"),bt={class:"answerItem"};Re();const Tt=p((e,o)=>{const E=C("bdo-appbar"),O=C("bdo-a-layout-header"),X=C("bdo-a-menu-item"),k=C("bdo-a-menu"),A=C("bdo-a-anchor-link"),L=C("bdo-a-anchor"),I=C("bdo-a-empty"),v=C("bdo-icon"),_=C("P"),T=C("bdo-a-checkable-tag"),R=C("bdo-a-layout-sider"),N=C("bdo-a-button"),U=C("router-view"),B=C("bdo-a-layout-content"),M=C("bdo-a-layout");return u(),i(M,null,{default:p(()=>[a(O,null,{default:p(()=>[a(E,{"base-info":e.baseInfo,ref:"bdoAppBar"},null,8,["base-info"])]),_:1}),a("div",He,[a(k,{mode:"horizontal",selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":o[1]||(o[1]=t=>e.selectedKeys=t),style:{lineHeight:"44px",height:"46px"}},{default:p(()=>[(u(!0),i(S,null,$(e.routerList,(t,m)=>(u(),i(X,{key:t.key,onClick:g=>e.itemChange(t)},{default:p(()=>[m===0?(u(),i("img",{key:0,style:{height:"20px"},src:Ge,alt:t.title},null,8,["alt"])):(u(),i("span",Ze,y(t.title),1))]),_:2},1032,["onClick"]))),128))]),_:1},8,["selectedKeys"])]),a(M,null,{default:p(()=>[e.collapsed&&e.showLeftAndBtn&&e.anchorShow==!0?(u(),i(R,{key:0,width:e.flag==2?"274px":"200px",trigger:null,collapsible:""},{default:p(()=>[c(a(L,{onClick:e.linkHref,"get-container":e.getContainer},{default:p(()=>[(u(!0),i(S,null,$(e.linkList,t=>(u(),i(A,{href:"#"+t.href,title:t.title,key:t.href},null,8,["href","title"]))),128))]),_:1},8,["onClick","get-container"]),[[d,e.anchorShow==!0&&e.flag==0]]),e.anchorShow==!0&&e.flag==1?(u(),i("div",ze,[c(a(I,{image:e.simpleImage},null,8,["image"]),[[d,e.totalData.length==0&&e.orgdata.length==0&&e.letterdata.length==0]]),c(a("div",Ye,[a("div",Je,[c(a(v,{class:"askMore",onClick:o[2]||(o[2]=t=>e.moreLetter(1)),src:"CaretDownOutlined",title:""},null,512),[[d,e.newTitle1]]),c(a(v,{class:"askMore",onClick:o[3]||(o[3]=t=>e.moreLetter(2)),src:"CaretRightOutlined",title:""},null,512),[[d,e.newTitle1==!1]]),a(_,{class:"newsWord"},{default:p(()=>[Qe]),_:1})]),a("li",Xe,[(u(!0),i(S,null,$(e.totalData,(t,m)=>c((u(),i(T,{class:"tag",checked:t.checked1,"onUpdate:checked":g=>t.checked1=g,onChange:g=>e.handleChange(t.typeCode,t.typeName,t.checked1,1),key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(t.typeNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"])),[[d,e.newTitle1]])),128))])],512),[[d,e.totalData.length!=0]]),c(a("div",xe,[a("div",et,[c(a(v,{onClick:o[4]||(o[4]=t=>e.moreLetter(3)),class:"askMore",src:"CaretDownOutlined",title:""},null,512),[[d,e.newTitle2]]),c(a(v,{onClick:o[5]||(o[5]=t=>e.moreLetter(4)),class:"askMore",src:"CaretRightOutlined",title:""},null,512),[[d,e.newTitle2==!1]]),a(_,{class:"newsWord"},{default:p(()=>[tt]),_:1})]),a("li",st,[(u(!0),i(S,null,$(e.orgdata,(t,m)=>c((u(),i(T,{checked:t.checked3,"onUpdate:checked":g=>t.checked3=g,onChange:g=>e.handleChange(t.typeCode,t.typeName,t.checked3,3),class:"tag",key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(t.typeNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"])),[[d,e.newTitle2]])),128))])],512),[[d,e.orgdata.length!=0]]),c(a("div",at,[a("div",nt,[c(a(v,{onClick:o[6]||(o[6]=t=>e.moreLetter(5)),class:"askMore",src:"CaretDownOutlined",title:""},null,512),[[d,e.newTitle3]]),c(a(v,{onClick:o[7]||(o[7]=t=>e.moreLetter(6)),class:"askMore",src:"CaretRightOutlined",title:""},null,512),[[d,e.newTitle3==!1]]),a(_,{class:"newsWord"},{default:p(()=>[lt]),_:1})]),a("li",ot,[(u(!0),i(S,null,$(e.letterdata,(t,m)=>c((u(),i(T,{class:"tag",checked:t.checked2,"onUpdate:checked":g=>t.checked2=g,onChange:g=>e.handleChange(t.typeCode,t.typeName,t.checked2,2),key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(t.typeNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"])),[[d,e.newTitle3]])),128))])],512),[[d,e.letterdata.length!=0]])])):G("",!0),e.anchorShow==!0&&e.flag==2?(u(),i("div",rt,[c(a(I,{image:e.simpleImage},null,8,["image"]),[[d,e.entire.length==0&&e.correspondence.length==0&&e.sendingUnit.length==0]]),c(a("div",ut,[a("div",it,[c(a(v,{class:"askMore",onClick:o[8]||(o[8]=t=>e.regulMore(1)),src:"CaretDownOutlined",title:""},null,512),[[d,e.msgTitle1]]),c(a(v,{class:"askMore",onClick:o[9]||(o[9]=t=>e.regulMore(2)),src:"CaretRightOutlined",title:""},null,512),[[d,e.msgTitle1==!1]]),a(_,{class:"newsWord"},{default:p(()=>[ct]),_:1})]),c(a("li",dt,[(u(!0),i(S,null,$(e.entire,(t,m)=>(u(),i(T,{checked:t.checked1,"onUpdate:checked":g=>t.checked1=g,onChange:g=>e.infoSwitch(t.typeCode,t.checked1,1),class:"msgTag",key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(e.allNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"]))),128))],512),[[d,e.msgTitle1]])],512),[[d,e.entire.length!=0]]),c(a("div",ht,[a("div",ft,[c(a(v,{class:"askMore",onClick:o[10]||(o[10]=t=>e.regulMore(3)),src:"CaretDownOutlined",title:""},null,512),[[d,e.msgTitle2]]),c(a(v,{class:"askMore",onClick:o[11]||(o[11]=t=>e.regulMore(4)),src:"CaretRightOutlined",title:""},null,512),[[d,e.msgTitle2==!1]]),a(_,{class:"newsWord"},{default:p(()=>[gt]),_:1})]),c(a("li",pt,[(u(!0),i(S,null,$(e.correspondence,(t,m)=>(u(),i(T,{checked:t.checked3,"onUpdate:checked":g=>t.checked3=g,onChange:g=>e.infoSwitch(t.typeCode,t.checked3,3),class:"msgTag",key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(t.typeNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"]))),128))],512),[[d,e.msgTitle2]])],512),[[d,e.correspondence.length!=0]]),c(a("div",vt,[a("div",kt,[c(a(v,{class:"askMore",onClick:o[12]||(o[12]=t=>e.regulMore(5)),src:"CaretDownOutlined",title:""},null,512),[[d,e.msgTitle3]]),c(a(v,{class:"askMore",onClick:o[13]||(o[13]=t=>e.regulMore(6)),src:"CaretRightOutlined",title:""},null,512),[[d,e.msgTitle3==!1]]),a(_,{class:"newsWord"},{default:p(()=>[mt]),_:1})]),c(a("li",wt,[(u(!0),i(S,null,$(e.sendingUnit,(t,m)=>(u(),i(T,{checked:t.checked2,"onUpdate:checked":g=>t.checked2=g,onChange:g=>e.infoSwitch(t.typeCode,t.checked2,2),class:"msgTag",key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(t.typeNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"]))),128))],512),[[d,e.msgTitle3]])],512),[[d,e.sendingUnit.length!=0]]),c(a("div",Ct,[a("div",yt,[c(a(v,{class:"askMore",onClick:o[14]||(o[14]=t=>e.regulMore(7)),src:"CaretDownOutlined",title:""},null,512),[[d,e.msgTitle4]]),c(a(v,{class:"askMore",onClick:o[15]||(o[15]=t=>e.regulMore(8)),src:"CaretRightOutlined",title:""},null,512),[[d,e.msgTitle4==!1]]),a(_,{class:"newsWord"},{default:p(()=>[_t]),_:1})]),c(a("li",bt,[(u(!0),i(S,null,$(e.answerTag,(t,m)=>(u(),i(T,{checked:t.checked4,"onUpdate:checked":g=>t.checked4=g,onChange:g=>e.infoSwitch(t.typeCode,t.checked4,4),class:"msgTag",key:m},{default:p(()=>[b(y(t.typeName)+" ("+y(t.typeNum)+")",1)]),_:2},1032,["checked","onUpdate:checked","onChange"]))),128))],512),[[d,e.msgTitle4]])],512),[[d,e.answerTag.length!=0]])])):G("",!0)]),_:1},8,["width"])):G("",!0),a(B,{id:"layoutContent",style:{margin:"16px 16px",padding:"24px",paddingTop:"0",background:"#fff",minHeight:"280px"}},{default:p(()=>[e.showLeftAndBtn&&e.anchorShow==!0&&e.flag!=2?(u(),i(N,{key:0,type:"primary",style:{left:e.collapsed?"220px":"30px"},class:"shrink-button",onClick:e.clickChange},{default:p(()=>[e.collapsed?(u(),i(v,{key:0,src:"DoubleLeftOutlined"})):(u(),i(v,{key:1,src:"DoubleRightOutlined"}))]),_:1},8,["style","onClick"])):G("",!0),e.showLeftAndBtn&&e.anchorShow==!0&&e.flag==2?(u(),i(N,{key:1,type:"primary",style:{left:e.collapsed?"294px":"30px"},class:"shrink-button",onClick:e.clickChange},{default:p(()=>[e.collapsed?(u(),i(v,{key:0,src:"DoubleLeftOutlined"})):(u(),i(v,{key:1,src:"DoubleRightOutlined"}))]),_:1},8,["style","onClick"])):G("",!0),a(U)]),_:1})]),_:1})]),_:1})});de.render=Tt;de.__scopeId="data-v-fa474ac0";export{de as default};
