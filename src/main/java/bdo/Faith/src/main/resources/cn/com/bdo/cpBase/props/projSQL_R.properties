####################\u5DE5\u4F5C\u6D41#####################
#\u67E5\u770B\u6240\u6709\u6FC0\u6D3B\u7684\u6D41\u7A0B
S100001=SELECT * FROM bdo_act.act_re_procdef WHERE SUSPENSION_STATE_ = '1' ORDER BY ID_ ASC 
#\u6211\u7684\u6D41\u7A0B
S100002=SELECT a.ID_,CONCAT(b.NAME_,'(',e.title,') _','_',c.name,'_',DATE_FORMAT(a.START_TIME_,'%Y-%m-%d')) AS act_subject,a.PROC_DEF_ID_,a.START_TIME_,a.END_TIME_,a.START_USER_ID_ AS __uSTART_USER_ID_,d.ID_ AS TASK_ID_,IFNULL(d.NAME_,'\u5DF2\u5B8C\u6210') AS NAME_,d.ASSIGNEE_ AS __uASSIGNEE_,IF(d.SUSPENSION_STATE_ = 1,'\u6FC0\u6D3B','\u6302\u8D77') AS SUSPENSION_STATE_,a.PROC_INST_ID_ as processInstanceId FROM bdo_act.act_hi_procinst a INNER JOIN bdo_act.act_re_procdef b ON a.PROC_DEF_ID_ = b.ID_ LEFT JOIN bdo_base.base_user c ON a.START_USER_ID_ = c.id LEFT JOIN bdo_act.act_ru_task d ON a.PROC_INST_ID_ = d.PROC_INST_ID_ INNER JOIN bdo_bar.bar_defprocessinstanceextra e ON a.PROC_INST_ID_ = e.processInstanceId WHERE a.START_USER_ID_ = {userId} ORDER BY a.START_TIME_ DESC 
#\u67E5\u770B\u81EA\u5DF1\u53D1\u8D77\u7684\u6D41\u7A0B(\u6307\u5B9A\u4EBA\u5458\u548C\u6307\u5B9A\u6D41\u7A0B)
S100003=SELECT a.*,b.START_USER_ID_ as __uSTART_USER_ID_,b.START_TIME_ FROM bdo_act.act_ru_task a INNER JOIN bdo_act.act_hi_procinst b ON a.PROC_INST_ID_ = b.PROC_INST_ID_ AND b.START_USER_ID_ = {userId} /*START #param1# INNER JOIN bdo_act.act_re_procdef c ON a.PROC_DEF_ID_ = c.ID_ and c.KEY_ = '{param1}' END*/ WHERE a.SUSPENSION_STATE_ = 1 order by b.START_TIME_ desc 
#\u6211\u7684\u5F85\u529E\u4EFB\u52A1
S100004=SELECT a.act_subject,a.cur_status,a.__uAssignee_,a.ID_,a.processInstanceId,a.EXECUTION_ID_,a.PROC_DEF_ID_,a.NAME_,a.START_TIME_,a.__uSTART_USER_ID_,a.KEY_,a.TASK_DEF_KEY_,a.CREATE_TIME_ from (SELECT DISTINCT CONCAT(b.NAME_,'(',e.title,') _',d.name,'_',DATE_FORMAT(c.START_TIME_,'%Y-%m-%d')) AS act_subject,a.NAME_ AS cur_status,a.ASSIGNEE_ AS __uAssignee_,a.ID_,a.PROC_INST_ID_ AS processInstanceId,a.EXECUTION_ID_,a.PROC_DEF_ID_,b.NAME_,c.START_TIME_,c.START_USER_ID_ AS __uSTART_USER_ID_,b.KEY_,a.TASK_DEF_KEY_,a.CREATE_TIME_ FROM bdo_act.act_ru_task a INNER JOIN bdo_act.act_re_procdef b ON a.PROC_DEF_ID_ = b.ID_ INNER JOIN bdo_act.act_hi_procinst c ON a.PROC_INST_ID_ = c.ID_ INNER JOIN bdo_base.base_user d ON c.START_USER_ID_ = d.id INNER JOIN bdo_bar.bar_defprocessinstanceextra e ON a.PROC_INST_ID_ = e.processInstanceId WHERE a.ASSIGNEE_ = {userId} AND a.SUSPENSION_STATE_ = 1) a ORDER BY a.CREATE_TIME_ DESC 
#\u6211\u80FD\u9886\u53D6\u7684\u4EFB\u52A1
S100005=SELECT DISTINCT CONCAT(b.NAME_,'_',d.name,'_',DATE_FORMAT(c.START_TIME_,'%Y-%m-%d')) AS act_subject,a.NAME_ AS cur_status,a.ASSIGNEE_ AS __uAssignee_,a.ID_,a.PROC_INST_ID_ as processInstanceId,a.EXECUTION_ID_,a.PROC_DEF_ID_,a.TASK_DEF_KEY_,b.NAME_,b.KEY_,c.START_TIME_,c.START_USER_ID_ AS __uSTART_USER_ID_ FROM bdo_act.act_ru_task a INNER JOIN bdo_act.act_re_procdef b ON a.PROC_DEF_ID_ = b.ID_ INNER JOIN bdo_act.act_hi_procinst c ON a.PROC_INST_ID_ = c.ID_ INNER JOIN bdo_base.base_user d ON c.START_USER_ID_ = d.id INNER JOIN bdo_act.act_ru_identitylink e ON e.TASK_ID_ = a.ID_ AND e.TYPE_ = 'candidate' AND e.USER_ID_ = {userId} WHERE a.ASSIGNEE_ IS NULL AND a.SUSPENSION_STATE_ = 1 ORDER BY a.CREATE_TIME_ DESC 
#\u67E5\u770B\u6D41\u8F6C\u8BB0\u5F55
S100006=SELECT @rownum1 := @rownum1 + 1 AS rownum, a.* FROM (SELECT a.PROC_INST_ID_, '\u5F00\u59CB' AS act_step, DATE_FORMAT( a.START_TIME_, '%Y-%m-%d %H:%i:%s' ) AS start_time, '' AS end_time, a.START_USER_ID_ AS __uSTART_USER_ID_, '' AS execute_time, '' AS message_ FROM bdo_act.act_hi_procinst a WHERE a.PROC_INST_ID_ = '{param1}' UNION ALL SELECT PROC_INST_ID_, CONCAT( '\u7B2C', @rownum := @rownum + 1, '\u6B65:', act_step ) act_step, start_time, end_time, __uASSIGNEE_, execute_time, message_ FROM (SELECT a.PROC_INST_ID_, a.NAME_ AS act_step, DATE_FORMAT( a.CLAIM_TIME_, '%Y-%m-%d %H:%i:%s' ) AS start_time, DATE_FORMAT( a.END_TIME_, '%Y-%m-%d %H:%i:%s' ) AS end_time, a.ASSIGNEE_ AS __uASSIGNEE_, CONVERT( SEC_TO_TIME( TIMESTAMPDIFF( SECOND, a.CLAIM_TIME_, a.END_TIME_ ) ), CHAR ) AS execute_time, b.MESSAGE_ AS message_, a.START_TIME_ FROM bdo_act.act_hi_taskinst a LEFT JOIN (SELECT GROUP_CONCAT( IF( TYPE_ = 'result', '\u5BA1\u6279\u7ED3\u679C', '\u5907\u6CE8' ), ':', MESSAGE_ ORDER BY TYPE_ DESC SEPARATOR ' ' ) AS MESSAGE_, TASK_ID_ FROM bdo_act.act_hi_comment WHERE PROC_INST_ID_ = '{param1}' GROUP BY PROC_INST_ID_, TASK_ID_) b ON a.ID_ = b.TASK_ID_ WHERE a.PROC_INST_ID_ = '{param1}' ORDER BY START_TIME_ ASC) c UNION SELECT a.PROC_INST_ID_, '\u7ED3\u675F' AS act_step, '' AS start_time, DATE_FORMAT( a.END_TIME_, '%Y-%m-%d %H:%i:%s' ) AS end_time, '' AS __uSTART_USER_ID_, CONVERT( SEC_TO_TIME( TIMESTAMPDIFF( SECOND, a.START_TIME_, a.END_TIME_ ) ), CHAR ) AS execute_time, '' AS message_ FROM bdo_act.act_hi_procinst a WHERE a.PROC_INST_ID_ = '{param1}' AND a.END_TIME_ IS NOT NULL ) a, (SELECT @rownum := 0, @rownum1 := 0 AS ruwnum) b ORDER BY ruwnum
#Modeler\u4E00\u89C8
S100007=SELECT * FROM bdo_act.act_re_model a ORDER BY a.LAST_UPDATE_TIME_ DESC 
#\u6240\u6709\u7684\u5F85\u529E\u4EFB\u52A1FA00021
S100008=SELECT DISTINCT CONCAT(b.NAME_,'(',e.title,') _',d.name,'_',DATE_FORMAT(c.START_TIME_,'%Y-%m-%d')) AS act_subject,a.NAME_ AS cur_status,a.ASSIGNEE_ AS __uAssignee_,a.ID_,a.PROC_INST_ID_ as processInstanceId,a.EXECUTION_ID_,a.PROC_DEF_ID_,b.NAME_,c.START_TIME_,c.START_USER_ID_ AS __uSTART_USER_ID_,b.KEY_,a.TASK_DEF_KEY_ FROM bdo_act.act_ru_task a INNER JOIN bdo_act.act_re_procdef b ON a.PROC_DEF_ID_ = b.ID_ INNER JOIN bdo_act.act_hi_procinst c ON a.PROC_INST_ID_ = c.ID_ INNER JOIN bdo_base.base_user d ON c.START_USER_ID_ = d.id INNER JOIN bdo_bar.bar_defprocessinstanceextra e ON a.PROC_INST_ID_ = e.processInstanceId WHERE a.SUSPENSION_STATE_ = 1 ORDER BY a.CREATE_TIME_ DESC 
#\u67E5\u770B\u9ED8\u8BA4\u5BA1\u6279\u4EBA
S100009=SELECT id, processDefinitionKey, processDefinitionId, processInstanceId, nodeId, nodeNm, auditUser as __uauditUser FROM bdo_bar.bar_defbatauth/*START #param3# _{param3} END*/ WHERE processInstanceId = '{param1}' and processDefinitionId = '{param2}' ORDER BY LAST_UPDATE_DATE asc
#\u67E5\u770B\u4F1A\u7B7E\u4E00\u89C8
S100010=SELECT DISTINCT CONCAT(b.NAME_,'(',e.title,') _',d.name,'_',DATE_FORMAT(c.START_TIME_,'%Y-%m-%d')) AS act_subject,a.NAME_ AS cur_status,a.ASSIGNEE_ AS __uAssignee_,a.ID_,a.PROC_INST_ID_ as processInstanceId,a.EXECUTION_ID_,a.PROC_DEF_ID_,b.NAME_,c.START_TIME_,c.START_USER_ID_ AS __uSTART_USER_ID_,b.KEY_,a.TASK_DEF_KEY_ FROM bdo_act.act_ru_task a INNER JOIN bdo_act.act_re_procdef b ON a.PROC_DEF_ID_ = b.ID_ INNER JOIN bdo_act.act_hi_procinst c ON a.PROC_INST_ID_ = c.ID_ INNER JOIN bdo_base.base_user d ON c.START_USER_ID_ = d.id INNER JOIN bdo_bar.bar_defprocessinstanceextra e ON a.PROC_INST_ID_ = e.processInstanceId WHERE a.SUSPENSION_STATE_ = 1 AND b.KEY_ = '{param1}' ORDER BY a.CREATE_TIME_ DESC 
# \u83B7\u53D6\u9879\u76EE\u4FE1\u606F\uFF08\u5BA1\u6279\u52A0\u5BA1\u6279\u610F\u89C1\uFF09
S000029=SELECT    a.projectid,   f.groupname,   a.projectname,   b2.name AS projectmanager,   c2.name AS firstAuditUser,   DATE_FORMAT(a.createTime, '%y-%m-%d') AS createTime,   g.stepname,   IF(     a.projectProperty = '01',     '\u91CD\u5927\u9879\u76EE',     '\u4E00\u822C\u9879\u76EE'   ) AS specialProject,   IF(h.s18 = 76, h.s30, h.s28) AS secondAdvice,   h.s29 AS thirdAdvice,   k2.name AS signedUser  FROM   z_project a    LEFT JOIN z_projectpeople b1      ON a.projectid = b1.projectid    LEFT JOIN bdo_base.base_user b2      ON b1.managerId = b2.id    LEFT JOIN z_projectpeople c1      ON a.projectid = c1.projectid     LEFT JOIN bdo_base.base_user c2      ON c1.audit1 = c2.id    LEFT JOIN z_projectpeople k1      ON a.projectid = k1.projectid    LEFT JOIN bdo_base.base_user k2      ON k1.qfUser = k2.id    LEFT JOIN bdo_cus.cus_customerinfo e      ON a.customerid = e.customerid    LEFT JOIN asdb.k_group f      ON e.parentid = f.groupid    LEFT JOIN asdb.k_auditconfig g      ON a.state = g.id    LEFT JOIN z_projectext h      ON a.projectid = h.projectid    WHERE a.ACTIVE_FLAG = '1'    /*START #param1# AND a.projectid = {param1} #param1# END*/       
# \u83B7\u53D6\u9879\u76EE\u5BA1\u6279\u6D41\u7A0B\u4FE1\u606F
S000030=SELECT    projectId,   auditTime,   b.name,   preState,   curState,   advice,   a.property  FROM   j_qualitystep a    LEFT JOIN bdo_base.base_user b      ON a.preDealUser = b.id  WHERE    /*START #param1# projectId = {param1} and #param1# END*/   auditTime > ''  ORDER BY auditTime ASC    
####################\u5DE5\u4F5C\u6D41#####################
####################\u901A\u7528\u4E0B\u62C9\u6846#####################
#\u6240\u6709\u7B7E\u5B57\u4F1A\u8BA1\u5E08\u4E0B\u62C9\u6811
PA00001=SELECT DISTINCT CONCAT('user_', a.id) AS id, CONCAT(a.name ,'(', a.hrLoginId,')') AS label, a.departmentid AS parentId, 'true' AS leaf, a.id AS VALUE, 'user' AS typeName FROM bdo_base.base_user a WHERE 1 = 1 AND isLXcpa = 1 AND a.isActive = '1' AND a.ACTIVE_FLAG = '1' /*START #param10# AND a.departmentid IN ({canDeparts}) #param10# END*/ /*START #param1# and a.departmentid = '{param1}' #param1# END*/ /*START #param18# AND a.id = '{param18}' #param18# END*/ /*START #param19# AND (a.loginid like '%{param19}%' OR a.name like '%{param19}%') #param19# END*/ ORDER BY a.loginid 
#\u4EBA\u5458\u4E0B\u62C9\u6811
PA00002=SELECT DISTINCT CONCAT('user_',a.id) AS id,CONCAT(a.name,'(',a.hrLoginId,') ') AS label,a.departmentid AS parentId,'true' AS leaf,a.id AS VALUE,'user' AS typeName FROM bdo_base.base_user a WHERE 1 = 1 AND a.active_flag = 1 AND(a.name IS NOT NULL OR a.name <> '') AND(a.hrLoginId IS NOT NULL OR a.hrLoginId <> '') /*START #param10# AND a.departmentid IN({canDeparts}) #param10# END*/ /*START #param1# and a.departmentid = '{param1}' #param1# END*/ /*START #param17# AND a.isActive = {param17} #param17# END*/ /*START #param18# AND a.id = '{param18}' #param18# END*/ /*START #param19# AND(a.loginid like '%{param19}%' OR a.name like '%{param19}%') #param19# END*/ ORDER BY a.loginid 
####################\u901A\u7528\u4E0B\u62C9\u6846#####################
####################\u6587\u5370#####################
#\u5370\u7AE0\u5217\u8868
PF00001=SELECT id, signName, signCode, officeId AS __dOfficeId, comment FROM asdb.f_sign 
#\u5370\u7AE0\u4EBA\u5458\u5BF9\u5E94
PF00002=SELECT a.id, b.signName, c.hrLoginId, c.name, c.departmentid AS __ddepartmentId, c.wrokState, c.active_flag FROM asdb.f_signpeople a, asdb.f_sign b, bdo_base.base_user c WHERE a.signId = b.id AND a.signUserId = c.id and a.signId = '{param1}' 
#\u4EBA\u5458\u9009\u62E9\u5217\u8868
PF00003=SELECT a.id,a.name,a.hrLoginId,b.departname,a.wrokState,a.ACTIVE_FLAG FROM bdo_base.base_user a LEFT JOIN bdo_base.base_department b ON a.departmentid = b.autoid where a.hrLoginId > '' and a.isactive = 1 and a.ACTIVE_FLAG = 1
#\u68C0\u67E5\u4EBA\u5458\u4E0E\u5370\u7AE0\u662F\u5426\u5DF2\u88AB\u5173\u8054
PF00004=SELECT * FROM asdb.f_signpeople WHERE signId = ? AND signUserId = ?
#\u68C0\u67E5\u4EBA\u5458\u4E0E\u5370\u7AE0\u662F\u5426\u5DF2\u88AB\u5173\u8054
PF00005=SELECT * FROM asdb.f_signpeople WHERE signUserId = {userId}
#\u7535\u5B50\u5370\u7AE0\u6743\u9650
PF00006=SELECT GROUP_CONCAT(signId) AS signId FROM asdb.f_signpeople WHERE signUserId = ? AND ACTIVE_FLAG =1
#\u68C0\u67E5\u4EBA\u5458\u4E0E\u6253\u5370\u673A\u662F\u5426\u5DF2\u88AB\u5173\u8054
PF00007=SELECT * FROM asdb.f_signprinterpeople WHERE printId = ? AND printerUserid = ?
#\u6253\u5370\u673A\u5217\u8868
PF00008=SELECT id, printName, printIp, officeId AS __dOfficeId,printType,printModel, comment FROM asdb.f_signprinter WHERE officeId in ({canDeparts})
#\u6253\u5370\u673A\u4EBA\u5458\u5BF9\u5E94
PF00009=SELECT a.id, b.printName, c.hrLoginId, c.name, c.departmentid AS __ddepartmentId, c.wrokState, c.active_flag FROM asdb.f_signprinterpeople a, asdb.f_signprinter b, bdo_base.base_user c WHERE a.printId = b.id AND a.printerUserId = c.id AND a.printId = '{param1}' 
#\u6253\u5370\u673A\u9009\u62E9
PF00010=SELECT b.id AS VALUE, CONCAT(b.printName,'(',b.printIp,')') AS label  FROM asdb.f_signprinterpeople a left join asdb.f_signprinter b on a.printid=b.id WHERE a.printerUserId in ({param1}) and printType = '{param2}'
#\u662F\u5426\u5168\u90E8\u76D6\u7AE0
PF00011=SELECT autoId  FROM asdb.z_reportsigninfo WHERE projectid =? and isSigned = ? and fileName like '%.pdf' and active_flag=1
#\u662F\u5426\u5168\u90E8\u6253\u5370
PF00012=SELECT printedNum,addprintedNum  FROM asdb.z_reportprintinfo WHERE projectid =?  and fileName like '%.pdf' and active_flag=1
#\u67E5\u8BE2\u501F\u8D37\u65B9\u5411
PF00013=SELECT Property from asdb.k_standsubject where subjectid = ? order by VocationID  desc limit 1
#\u67E5\u8BE2\u501F\u8D37\u65B9\u5411
PF00014=SELECT Property from asdb.k_standsubject where SubjectName = ? order by VocationID  desc limit 1
####################\u6587\u5370#####################
S500001=SELECT * from (SELECT a.id,a.name,a.loginid,IF(a.password = MD5(1),'\u672A\u4FEE\u6539\u7F3A\u7701\u5BC6\u7801','\u5DF2\u4FEE\u6539') AS pwd,CASE WHEN a.sex = 'M' OR a.sex = '\u7537' THEN '\u7537' ELSE '\u5973' END sex,a.educational,a.departmentid AS __departmentid,a.post,a.sortNum,c.roles,c.roleids,a.rank,a.bornDate,a.diploma,a.mobilephone,a.phone,a.email,a.cpano,a.isCpa,a.isLXCpa,a.cpaRelation,a.cpaState,a.hrLoginId,a.hrId,a.hrDepart,a.hrDeptCode018,a.hrDeptCode019 FROM bdo_base.base_user a LEFT JOIN(SELECT userid,GROUP_CONCAT(DISTINCT rolename) AS roles,GROUP_CONCAT(DISTINCT id) AS roleids FROM bdo_base.base_userrole a,bdo_base.base_role b WHERE a.rid = b.id GROUP BY userid) c ON a.id = c.userid where a.isActive = 1) aa 
S500002=Select count(*) from (SELECT * from (SELECT a.id,a.name,a.loginid,IF(a.password = MD5(1),'\u672A\u4FEE\u6539\u7F3A\u7701\u5BC6\u7801','\u5DF2\u4FEE\u6539') AS pwd,CASE WHEN a.sex = 'M' OR a.sex = '\u7537' THEN '\u7537' ELSE '\u5973' END sex,a.educational,a.departmentid AS __departmentid,a.post,a.sortNum,c.roles,c.roleids,a.rank,a.bornDate,a.diploma,a.mobilephone,a.phone,a.email,a.cpano,a.isCpa,a.isLXCpa,a.cpaRelation,a.cpaState,a.hrLoginId,a.hrId,a.hrDepart,a.hrDeptCode018,a.hrDeptCode019 FROM bdo_base.base_user a LEFT JOIN(SELECT userid,GROUP_CONCAT(DISTINCT rolename) AS roles,GROUP_CONCAT(DISTINCT id) AS roleids FROM bdo_base.base_userrole a,bdo_base.base_role b WHERE a.rid = b.id GROUP BY userid) c ON a.id = c.userid where a.isActive = 1) aa) bb 
####################\u4E1A\u52A1\u5171\u4EAB#####################
#\u4E1A\u52A1\u673A\u4F1A\u4E00\u89C8
CP00001=SELECT a.businessId, a.providerId AS __uproviderId, a.departId AS __ddepartId, a.contract, a.contractWay, a.businessType, a.industry, a.menNumRequire, a.cooperation, a.workingPlace, DATE_FORMAT(a.startDate, '%Y-%m-%d') AS startDate, DATE_FORMAT(a.endDate, '%Y-%m-%d') AS endDate, a.projectCost, DATE_FORMAT(a.projectStart, '%Y-%m-%d') AS projectStart, DATE_FORMAT(a.projectEnd, '%Y-%m-%d') AS projectEnd, a.customerName, a.customerProperties, a.projectPeriod, a.registNum, a.remarks, a.auditUserId AS __uauditUserId, DATE_FORMAT(a.auditTime, '%Y-%m-%d') AS auditTime, a.auditState, a.isRegist, a.isClose FROM coop_chance a WHERE a.isClose = '0' ORDER BY a.businessId DESC
#\u6211\u7684\u4E1A\u52A1\u673A\u4F1A
CP00002=SELECT a.businessId, a.providerId AS __uproviderId, a.departId AS __ddepartId, a.contract, a.contractWay, a.businessType, a.industry, a.menNumRequire, a.cooperation, a.workingPlace, DATE_FORMAT(a.startDate, '%Y-%m-%d') AS startDate, DATE_FORMAT(a.endDate, '%Y-%m-%d') AS endDate, a.projectCost, DATE_FORMAT(a.projectStart, '%Y-%m-%d') AS projectStart, DATE_FORMAT(a.projectEnd, '%Y-%m-%d') AS projectEnd, a.customerName, a.customerProperties, a.projectPeriod, a.registNum, a.remarks, a.auditUserId AS __uauditUserId, DATE_FORMAT(a.auditTime, '%Y-%m-%d') AS auditTime, a.auditState, a.isRegist, a.isClose FROM coop_chance a WHERE a.providerId = {userId} ORDER BY a.businessId DESC
#\u884C\u4E1A\u6811
#CP0000=SELECT a.autoId as id, a.name, a.name AS label, a.value, IF(a.level = '1', 'false', 'true') AS leaf FROM base_industry a WHERE a.type = 1 /*START #param19# AND a.name LIKE '%{param19}%' #param19# END*/ /*START #param20# AND a.level = 1 #param20# END*/ /*START #param21# AND a.level = 2 AND SUBSTRING(a.value, 1, 4) = {param1} #param21# END*/ ORDER BY a.value
CP00003=SELECT a.value AS id,LEFT(a.value,4) AS parentId,a.name,a.name AS label,a.value,IF(a.level = '1','false','true') AS leaf FROM bdo_base.base_industry a WHERE a.type = 1 /*START #param2# AND a.value LIKE '{param2}%' AND a.value <> {param2} #param2# END*//*START #param19# AND a.name LIKE '%{param19}%' #param19# END*/ /*START #param20# AND a.level = 1 #param20# END*/ /*START #param21# AND a.level = 2 AND SUBSTRING(a.value,1,4) = {param1} #param21# END*/ ORDER BY a.value 
#\u83B7\u53D6\u6240\u6709\u884C\u4E1A
CP00004=SELECT a.name,a.value FROM bdo_base.base_industry a WHERE a.type = 1 
#\u4E1A\u52A1\u673A\u4F1A\u5BA1\u6838\u4E00\u89C8
CP00005=SELECT a.businessId, a.providerId AS __uproviderId, a.departId AS __ddepartId, a.contract, a.contractWay, a.businessType, a.industry, a.menNumRequire, a.cooperation, a.workingPlace, DATE_FORMAT(a.startDate, '%Y-%m-%d') AS startDate, DATE_FORMAT(a.endDate, '%Y-%m-%d') AS endDate, a.projectCost, DATE_FORMAT(a.projectStart, '%Y-%m-%d') AS projectStart, DATE_FORMAT(a.projectEnd, '%Y-%m-%d') AS projectEnd, a.customerName, a.customerProperties, a.projectPeriod, a.registNum, a.remarks, a.auditUserId AS __uauditUserId, DATE_FORMAT(a.auditTime, '%Y-%m-%d') AS auditTime, a.auditState, a.isRegist, a.isClose FROM coop_chance a WHERE a.isClose = '0' AND a.auditState != 0 ORDER BY a.businessId DESC
#\u5408\u4F19\u4EBA\u4E1A\u52A1\u60C5\u51B5\u4E00\u89C8
CP00006=SELECT c.id AS __uid, c.wrokState, c.partnerId, c.departmentid AS __ddepartmentid, c.focusIndustry, c.mainIndustry, c.fn1, c.fn2, c.fn3, c.fn4, c.fn5, c.mn1, c.mn2, c.mn3, c.mn4, c.mn5, c.mnOther, c.ms1, c.ms2, c.ms3, c.ms4, c.ms5, c.msOther, c.mp1, c.mp2, c.mp3, c.mp4, c.mp5, c.mpOther, c.evaluateScore, c.canApplyNum, c.providedNum, c.memo FROM (SELECT a.id, a.wrokState, b.partnerId, a.departmentid, CONCAT( IFNULL(b.fn1, ''), IFNULL(b.fn2, ''), IFNULL(b.fn3, ''), IFNULL(b.fn4, ''), IFNULL(b.fn5, '') ) AS focusIndustry, CONCAT( IFNULL(b.mn1, ''), IFNULL(b.mn2, ''), IFNULL(b.mn3, ''), IFNULL(b.mn4, ''), IFNULL(b.mn5, '') ) AS mainIndustry, b.fn1, b.fn2, b.fn3, b.fn4, b.fn5, b.mn1, b.mn2, b.mn3, b.mn4, b.mn5, b.mnOther, b.ms1, b.ms2, b.ms3, b.ms4, b.ms5, b.msOther, b.mp1, b.mp2, b.mp3, b.mp4, b.mp5, b.mpOther, b.evaluateScore, b.canApplyNum, b.providedNum, b.memo FROM bdo_base.base_user a LEFT JOIN asdb.coop_partnerinfo b ON a.id = b.partnerId WHERE 1 = 1 /*START #param1# AND b.partnerId IS NOT NULL #param1# END*/ /*START #param2# AND a.id = {param2} #param2# END*/ ) c ORDER BY c.id
#\u5386\u53F2\u7B7E\u5B57\u9879\u76EE
CP00007=SELECT projectYear, groupName, customerName, customerProperties, industrySys, businessType FROM coop_partnerproject WHERE partnerId = {param1} ORDER BY projectYear DESC, orderDate DESC
#\u53EF\u7533\u8BF7\u4E1A\u52A1\u673A\u4F1A
CP00008=SELECT businessId, providerId AS __uproviderId, departId AS __ddepartId, contract, contractWay, businessType, industry, menNumRequire, cooperation, workingPlace, DATE_FORMAT(startDate, '%Y-%m-%d') AS startDate, DATE_FORMAT(endDate, '%Y-%m-%d') AS endDate FROM coop_chance WHERE providerId = {param1} AND auditState = '2' AND isClose = '0' ORDER BY CREATION_DATE DESC
#\u83B7\u53D6\u4E00\u7EA7\u884C\u4E1A
CP00009=SELECT a.name AS label,a.value FROM bdo_base.base_industry a WHERE a.type = 1 AND a.level = 1 
# \u4E1A\u52A1\u767B\u8BB0\u5355\uFF1A\u63D0\u4F9B\u65B9/\u63A5\u6536\u65B9\u4E00\u89C8
CP00010=SELECT r.registId, r.businessId, r.departId AS __ddepartId, r.partnerId AS __upartnerId, r.contract, r.contractWay, r.businessType, r.customerName, r.customerProperties, r.packageNum, r.industry, r.workingPlace, DATE_FORMAT(r.projectStart, '%Y-%m-%d') AS projectStart, DATE_FORMAT(r.projectEnd, '%Y-%m-%d') AS projectEnd, r.projectPeriod, r.projectCost, r.cooperation, r.cooperatorId AS __ucooperatorId, r.incomeAssign, r.incomeAssignOther, r.memo, r.remark1, r.remark2, r.confirmUserId AS __uconfirmUserId, DATE_FORMAT(r.confirmDate, '%Y-%m-%d %T') AS confirmDate, r.evaluateScore, r.evaluateMemo, r.state, GROUP_CONCAT(CONCAT(rr.registerNum,'|',rr.registerType)) AS registerNum FROM coop_regist r LEFT JOIN coop_registregister rr ON rr.registId = r.registId WHERE 1=1 /*START #param1# and r.CREATED_BY = {userId} #param1# END*/ /*START #param2# and r.cooperatorId = {userId} #param2# END*/ /*START #param3# and r.businessId = {param3} #param3# END*/ GROUP BY r.registId ORDER BY r.registId DESC      
# \u5BA1\u8BA1\u7C7B\u578B\u5927\u5206\u7C7B
CP00011=SELECT CONCAT('auditType_', a.id) AS id, a.attributeValue1 AS label, a.attributeName AS parentid, a.attributeValue1 AS VALUE, "false" AS leaf, 'auditType_1' AS typeName FROM bdo_base.base_dic a WHERE 1 = 1 AND a.attributetype IN ('\u5BA1\u8BA1\u7C7B\u578B\u5206\u7C7B')
# \u5BA1\u8BA1\u7C7B\u578B\u5B50\u5206\u7C7B
CP00012=SELECT CONCAT('auditType_', a.id) AS id, a.attributeValue1 AS label, a.attributeName AS parentid, a.attributeValue1 AS VALUE, IF( (SELECT COUNT(*) FROM bdo_base.base_dic d WHERE d.attributeName = a.attributeValue1 AND d.attributetype IN ('\u5BA1\u8BA1\u7C7B\u578B\u7EA7\u6B21') AND d.attributeValue1 <> d.attributeName) > 0, 'false', 'true' ) AS leaf, 'auditType' AS typeName FROM bdo_base.base_dic a WHERE 1 = 1 /*START #param1# and a.attributeName = '{param1}' #param1# END*/ /*START #param18# and a.attributeValue1 = '{param18}' #param18# END*/ /*START #param19# and a.attributeValue1 like '%{param19}%' #param19# END*/ AND a.attributetype IN ('\u5BA1\u8BA1\u7C7B\u578B\u7EA7\u6B21') ORDER BY attributeName
# \u4E1A\u52A1\u5171\u4EAB\u4E0E\u5408\u4F5C\u6E05\u5355
CP00013=SELECT r.CREATION_DATE, r.registId, r.businessId, r.departId AS __ddepartId, r.partnerId AS __upartnerId, r.contract, r.contractWay, r.businessType, r.customerName, r.customerProperties, r.packageNum, r.industry, r.workingPlace, r.projectPeriod, r.projectCost, r.cooperation, r.cooperatorId AS __ucooperatorId, r.incomeAssign, r.incomeAssignOther, r.memo, r.confirmUserId AS __uconfirmUserId, DATE_FORMAT(r.confirmDate, '%Y-%m-%d %T') AS confirmDate, r.evaluateScore, r.evaluateMemo, r.state FROM coop_regist r ORDER BY r.CREATION_DATE  
# \u4EBA\u5458\u5FEB\u6377\u83DC\u5355\u4E00\u89C8
CP00014=SELECT * from (SELECT REPLACE(REPLACE(CONCAT(IFNULL(e.name,''),'-',IFNULL(d.name,''),'-',IFNULL(c.name,''),'-',IFNULL(b.name,'')),'---',''),'--','') AS pathName,IFNULL(e.id,IFNULL(d.id,IFNULL(c.id,IFNULL(b.id,a.id)))) baseMenuId,a.id,a.name,a.sortnum,a.act,u.no,IFNULL(u.userId,0) AS isShow FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id LEFT JOIN bdo_base.base_personaldeskinfo u ON u.menuid = a.id AND u.userid = {userId} WHERE a.act <> '' AND a.active_flag = 1 AND a.isDisplay = 1 AND a.id IN(-1 /*START #param1#,{param1} #param1# END*/) ORDER BY u.no) a 
# \u9875\u9762\u5934\u90E8\u5FEB\u6377\u83DC\u5355\u4E00\u89C8
CP00015=SELECT userDesk.*,menuInfo.*,CONCAT('./',icon.path,'/',icon.iconFile,'_24.',icon.ext) AS imageFile,icon.iconFile FROM bdo_base.base_personaldeskinfo userDesk LEFT JOIN bdo_base.base_icon icon ON userDesk.iconId = icon.id INNER JOIN(SELECT REPLACE(REPLACE(CONCAT(IFNULL(e.name,''),'-',IFNULL(d.name,''),'-',IFNULL(c.name,''),'-',IFNULL(b.name,'')),'---',''),'--','') AS pathName,IFNULL(e.id,IFNULL(d.id,IFNULL(c.id,IFNULL(b.id,a.id)))) baseMenuId,a.id,a.name,a.sortnum,a.act FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_menu b ON a.parentid = b.id LEFT JOIN bdo_base.base_menu c ON b.parentid = c.id LEFT JOIN bdo_base.base_menu d ON c.parentid = d.id LEFT JOIN bdo_base.base_menu e ON d.parentid = e.id WHERE a.act <> '' AND a.active_flag = 1 AND a.isDisplay = 1 AND a.id IN(-1 /*START #param1#,{param1} #param1# END*/) ORDER BY pathName,a.sortnum) menuInfo ON userDesk.menuid = menuInfo.id WHERE userDesk.userid = {userId} AND userDesk.ctype IN('0','1') ORDER BY userDesk.no DESC /*,menuInfo.baseMenuId,menuInfo.sortnum*/ 
#\u83B7\u53D6\u5408\u4F19\u4EBA\u5173\u6CE8\u6570
CP00016=SELECT IFNULL(SUM(1),0) AS focusNum FROM coop_partnerfocus WHERE userId = {param1}
#\u83B7\u53D6\u5408\u4F19\u4EBA\u7C89\u4E1D\u6570
CP00017=SELECT IFNULL(SUM(1),0) AS focusNum FROM coop_partnerfocus WHERE focusId = {param1}
# \u5408\u4F5C\u4F19\u4F34--\u53CC\u5411
CP00018=SELECT r.cooperatorId AS __ucooperatorId, u.userPhoto, u.departmentid AS __ddepartmentId FROM coop_regist r LEFT JOIN bdo_base.base_user u ON r.cooperatorId = u.id WHERE r.partnerId = {userId} UNION SELECT r.partnerId AS __ucooperatorId, u.userPhoto, u.departmentid AS __ddepartmentId FROM coop_regist r LEFT JOIN bdo_base.base_user u ON r.partnerId = u.id WHERE r.cooperatorId = {userId}
# \u4E1A\u52A1\u5708
CP00019=SELECT a.businessId, a.providerId AS __uproviderId, a.departId AS __ddepartId, a.contract, a.contractWay, a.businessType, a.industry, a.menNumRequire, a.cooperation, a.workingPlace, DATE_FORMAT(a.startDate, '%Y-%m-%d') AS startDate, DATE_FORMAT(a.endDate, '%Y-%m-%d') AS endDate, a.projectCost, DATE_FORMAT(a.projectStart, '%Y-%m-%d') AS projectStart, DATE_FORMAT(a.projectEnd, '%Y-%m-%d') AS projectEnd, a.customerName, a.customerProperties, a.projectPeriod, a.registNum, a.remarks, a.auditUserId AS __uauditUserId, DATE_FORMAT(a.auditTime, '%Y-%m-%d') AS auditTime, a.auditState, a.isRegist, a.isClose FROM coop_partnerfocus f INNER JOIN coop_chance a ON a.providerId = f.focusId LEFT JOIN bdo_base.base_user u ON f.focusId = u.id WHERE f.userId = {userId} AND a.isRegist = 0 AND a.auditState = 2 AND a.isClose = 0 ORDER BY a.CREATION_DATE DESC
# \u5173\u6CE8\u7684\u4F19\u4F34
CP00020=SELECT f.autoId, u.id AS __uId, u.userPhoto, DATE_FORMAT(f.CREATION_DATE, '%Y-%m-%d') AS createDate FROM bdo_base.base_user u LEFT JOIN coop_partnerfocus f ON f.focusId = u.id AND f.userId = {userId} WHERE u.id != {userId} /*START #param1# AND u.NAME LIKE '%{param1}%' #param1# END*/ /*START #param2# AND f.autoId IS NOT NULL #param2# END*/ ORDER BY f.autoId DESC, u.id DESC
#\u83B7\u53D6\u9700\u8981\u53D1\u9001\u4E1A\u52A1\u673A\u4F1A\u90AE\u4EF6\u7684\u5408\u4F19\u4EBA
CP00021=SELECT a.id FROM bdo_base.base_user a LEFT JOIN asdb.coop_userext b ON b.userId = a.id WHERE isActive = '1' AND a.rank LIKE '%\u5408\u4F19\u4EBA%' AND a.hrLoginId > '' AND a.ACTIVE_FLAG = '1' AND (b.isMailNotify = '1' OR b.isMailNotify IS NULL) ORDER BY a.id
# \u5408\u4F5C\u4F19\u4F34--\u5408\u4F5C\u8FC7\u7684\u767B\u8BB0\u5355
CP00022=SELECT r.registId, r.businessId, r.customerName, r.businessType, r.state, DATE_FORMAT(r.CREATION_DATE, '%Y-%m-%d') AS createDate, 1 AS isRegister FROM coop_regist r WHERE r.partnerId = {userId} AND r.cooperatorId = {param1} UNION SELECT r.registId, r.businessId, r.customerName, r.businessType, r.state, DATE_FORMAT(r.CREATION_DATE, '%Y-%m-%d') AS createDate, 0 AS isRegister FROM coop_regist r WHERE r.cooperatorId = {userId} AND r.partnerId = {param1}
# \u4E1A\u52A1\u673A\u4F1A\u5173\u8054\u7684\u4E1A\u52A1\u767B\u8BB0\u5355
CP00023=SELECT r.registId, r.businessId, r.departId AS __ddepartId, r.partnerId AS __upartnerId, r.contract, r.contractWay, r.businessType, r.customerName, r.customerProperties, r.packageNum, r.industry, r.workingPlace, r.projectPeriod, r.projectCost, r.cooperation, r.cooperatorId AS __ucooperatorId, r.incomeAssign, r.incomeAssignOther, r.memo, r.confirmUserId AS __uconfirmUserId, DATE_FORMAT(r.confirmDate, '%Y-%m-%d %T') AS confirmDate, r.evaluateScore, r.evaluateMemo, r.state FROM coop_regist r WHERE r.businessId = {param1} ORDER BY r.registId DESC
# \u5BA1\u8BA1 \u9879\u76EE,\u4E1A\u52A1\u7EA6\u5B9A\u4E66\u4FE1\u606F
#CP00024=SELECT a.projectId, a.projectName, a.reportProperty, a.draftProperty, a.businessType, a.projectManagerName, b.registerNum, b.entrustNumber, b.customerName, DATE_FORMAT(b.signedDate, '%Y-%m-%d') AS signedDate, b.businessCost, b.state, b.money, b.receiceMoney, c.registId, c.registerType, c.registRole, c.registerMoneyShow, c.financeMoneyShow FROM sj_project a LEFT JOIN sj_projectbusiness b ON b.registerNum = a.registerNum LEFT JOIN coop_registregister c ON c.registerNum = a.registerNum WHERE c.registId = {param1} AND a.registerNum IN ({param2})
CP00024=SELECT a.registerNum, a.entrustNumber, a.customerName, DATE_FORMAT(a.signedDate, '%Y-%m-%d') AS signedDate, a.businessCost, a.state, a.money, a.receiceMoney, c.registId, c.registerType, c.registRole, c.registerMoneyShow, c.financeMoneyShow FROM coop_registregister c LEFT JOIN sj_projectbusiness a ON a.registerNum = c.registerNum WHERE c.registId = {param1} AND c.registerType = {param2}
# \u8BC4\u4F30 \u8BC4\u4F30,\u4E1A\u52A1\u7EA6\u5B9A\u4E66\u4FE1\u606F
CP00025=SELECT a.registerNum, a.entrustNumber, a.customerName, DATE_FORMAT(a.signedDate, '%Y-%m-%d') AS signedDate, a.businessCost, a.state, a.money, a.receiceMoney, c.registId, c.registerType, c.registRole, c.registerMoneyShow, c.financeMoneyShow FROM coop_registregister c LEFT JOIN pg_projectbusiness a ON a.registerNum = c.registerNum WHERE c.registId = {param1} AND c.registerType = {param3}
# \u7A0E\u52A1 \u7A0E\u52A1,\u4E1A\u52A1\u7EA6\u5B9A\u4E66\u4FE1\u606F
CP00026=
# \u8D22\u52A1\u5212\u8F6C \u9879\u76EE
CP00027=SELECT b.registId, e.entrustNumber, b.registerType, a.entrustNum AS registerNum, a.ssassignType, a.disMoney, c.autoid AS __douthrDeptId, a.oinhrDeptId, d.autoid AS __diinhrDeptId FROM sj_projectbusinessassign a LEFT JOIN coop_registregister b ON b.registerNum = a.entrustNum LEFT JOIN bdo_base.base_department c ON c.hrDeptId = a.outhrDeptId LEFT JOIN bdo_base.base_department d ON d.hrDeptId = a.iinhrDeptId LEFT JOIN sj_projectbusiness e ON e.registerNum = b.registerNum WHERE b.registId = {param1} AND b.registerType = {param2}
# \u8D22\u52A1\u5212\u8F6C \u8BC4\u4F30
CP00028=SELECT b.registId, e.entrustNumber, b.registerType, a.entrustNum AS registerNum, a.ssassignType, a.disMoney, c.autoid AS __douthrDeptId, a.oinhrDeptId, d.autoid AS __diinhrDeptId FROM pg_projectbusinessassign a LEFT JOIN coop_registregister b ON b.registerNum = a.entrustNum LEFT JOIN bdo_base.base_department c ON c.hrDeptId = a.outhrDeptId LEFT JOIN bdo_base.base_department d ON d.hrDeptId = a.iinhrDeptId LEFT JOIN pg_projectbusiness e ON e.registerNum = b.registerNum WHERE b.registId = {param1} AND b.registerType = {param3}
# \u8D22\u52A1\u5212\u8F6C \u7A0E\u52A1
CP00029=
# \u5408\u4F5C\u56E2\u961F\u6570\u636E\u4E00\u89C8(\u6839\u636E\u6240\u5C5E\u90E8\u95E8)
CP00030=SELECT b.autoid AS __ddepartId, a.sRole, a.hourlyWage FROM  sj_roleallocateconfig a LEFT JOIN bdo_base.base_department b ON b.hrDeptId = a.hrDeptId WHERE a.hrDeptId <> '0' AND a.hrDeptId <> '137' Order by b.autoid
# \u4E1A\u52A1\u767B\u8BB0\u5355\u5408\u4F5C\u56E2\u961F
CP00031=SELECT departID AS __ddepartId, sRole, hourlyWage, menNum FROM coop_registteam where registId= {param1}
# \u5408\u4F5C\u56E2\u961F\u6570\u636E\u4E00\u89C8(\u6839\u636E\u5408\u4F5C\u8054\u5408\u65B9)
CP00032=SELECT b.autoid AS __ddepartId, a.sRole, a.hourlyWage FROM  sj_roleallocateconfig a LEFT JOIN bdo_base.base_department b ON b.hrDeptId = a.hrDeptId WHERE b.autoid IN ({param1}) AND b.isVisable = '1' Order by b.autoid
# \u5408\u4F5C\u56E2\u961F\u6570\u636E\u4E00\u89C8(\u6839\u636E\u90E8\u95E8\u5C42\u7EA7)
CP00033=SELECT a.autoid AS __ddepartId, b.sRole, b.hourlyWage FROM ( SELECT autoid FROM bdo_base.base_department WHERE autoid = {param1} ) a, ( SELECT c.sRole, c.hourlyWage FROM sj_roleallocateconfig c LEFT JOIN bdo_base.base_department d ON d.hrDeptId = c.hrDeptId WHERE d.autoid IN ({param2}) AND d.isVisable = '1' ) b
# \u5408\u4F5C\u56E2\u961F\u6570\u636E\u4E00\u89C8
CP00034=SELECT a.autoid AS __ddepartId, b.sRole, b.hourlyWage FROM ( SELECT autoid FROM bdo_base.base_department WHERE autoid = {param1} ) a, ( SELECT sRole, hourlyWage FROM sj_roleallocateconfig WHERE hrDeptId = '0' ) b
# \u5408\u4F19\u4EBA\u4FE1\u606F \u7528\u4E8E\u5408\u4F19\u4EBA\u6811
CP00035=SELECT DISTINCT CONCAT('user_',a.id) AS id,CONCAT(a.name,'(',a.hrLoginId,') ') AS label,a.departmentid AS parentId,'true' AS leaf,a.id AS VALUE,'user' AS typeName FROM bdo_base.base_user a WHERE 1 = 1 AND a.id IN(SELECT bb.userid FROM bdo_base.base_role aa,bdo_base.base_userrole bb WHERE aa.rolename LIKE '%\u5408\u4F19\u4EBA%' AND aa.id = bb.rid) /*START #param10# AND a.departmentid IN({canDeparts}) #param10# END*/ /*START #param1# and a.departmentid = '{param1}' #param1# END*/ /*START #param18# AND(a.id = '{param18}' OR a.name = '{param18}') #param18# END*/ /*START #param19# AND(a.loginid like '%{param19}%' OR a.name like '%{param19}%') #param19# END*/ ORDER BY a.loginid 
# \u5408\u4F5C\u8054\u5408\u65B9\u6240\u5C5E\u6700\u9AD8\u7BA1\u7406\u673A\u6784
CP00036=SELECT b.topManageDepId FROM bdo_base.base_user a LEFT JOIN bdo_base.base_department b ON a.departmentid = b.autoid WHERE a.id = {param1}
#\u9996\u9875\u5408\u4F19\u4EBA\u884C\u4E1A\u6392\u540D\u524D3
CP00101=SELECT a.industryName,a.partnerId AS __upartnerId1,b.partnerId AS __upartnerId2,c.partnerId AS __upartnerId3 FROM (SELECT industryName,industryValue,partnerId,partnerName FROM coop_focusindustryranking WHERE ranking = 1 ) a LEFT JOIN (SELECT industryName,industryValue,partnerId,partnerName FROM coop_focusindustryranking WHERE ranking = 2 ) b ON a.industryValue = b.industryValue LEFT JOIN (SELECT industryName,industryValue,partnerId,partnerName FROM coop_focusindustryranking WHERE ranking = 3 ) c ON a.industryValue = c.industryValue ORDER BY a.industryValue
#\u9996\u9875\u6700\u8FD1\u53D1\u5E03\u7684\u4E1A\u52A1\u673A\u4F1A10\u4E2A
#CP00102=select a.businessId,b.name as industryName,a.businessType, a.providerId AS __uproviderId, a.departId AS __ddepartId from coop_chance a left join bdo_base.base_industry b on a.industry = b.value where a.auditState > 1 and a.isRegist = 0 and a.isClose = 0 order by a.CREATION_DATE desc limit 10
CP00102=select a.businessId,b.name as industryName,a.businessType, a.providerId AS __uproviderId, a.departId AS __ddepartId,isRegist,isClose from coop_chance a left join bdo_base.base_industry b on a.industry = b.value where a.auditState = 2 and a.isClose = 0 order by a.CREATION_DATE desc limit 10
#\u9996\u9875\u5DF2\u53D1\u5E03\u7684\u4E1A\u52A1\u673A\u4F1A\uFF0C\u53EF\u7533\u8BF7\u7684\u4E1A\u52A1\u673A\u4F1A\u6570\uFF0C\u5408\u4F5C\u4E2D\u7684\u4E1A\u52A1\uFF0C\u5408\u4F5C\u5B8C\u6210\u7684\u4E1A\u52A1
CP00103=SELECT IFNULL(SUM(canApplyNum),0) AS canApplyNum ,IFNULL(SUM(providedNum),0) AS providedNum,IFNULL(SUM(coopratedNum),0) AS coopratedNum,IFNULL(SUM(coopratingNum),0) AS coopratingNum FROM coop_topdepartreport
#\u9996\u9875\u5404\u4E8B\u4E1A\u90E8\u4E1A\u52A1\u5171\u4EAB\u5408\u4F5C\u72B6\u51B5\u56FE\u8868\u6570\u636E
CP00104=SELECT a.departId,b.departName,a.canApplyNum,a.providedNum,a.coopratedNum,a.coopratingNum FROM coop_topdepartreport a LEFT JOIN bdo_base.base_department b ON a.departId = b.autoId WHERE b.level0 = 1 and year = {param1} 
# \u62A5\u8868 \u6309\u4E1A\u52A1\u673A\u4F1A\u53EF\u7533\u8BF7\u3001\u5DF2\u5173\u8054\u5360\u6BD4
CP00105=SELECT isRegist AS state, COUNT(0) AS num FROM	coop_chance WHERE isClose = '0' AND auditState = '2' AND YEAR(startDate) = {param1} GROUP BY isRegist
# \u62A5\u8868 \u6309\u4E1A\u52A1\u5408\u4F5C\u5408\u4F5C\u4E2D\u53CA\u5408\u4F5C\u5B8C\u6210\u5360\u6BD4
CP00106=SELECT state AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY state
# \u62A5\u8868 \u6309\u8BC4\u52061-5\u5206\u5360\u6BD4
CP00107=SELECT IFNULL(evaluateScore, '\u672A\u8BC4\u4EF7') AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY evaluateScore
# \u62A5\u8868 \u6309\u884C\u4E1A \u5E74\u5EA6\u5B8C\u6210\u7684\u4E1A\u52A1\u5408\u4F5C\u4E2D\uFF0C\u6309\u884C\u4E1A\u6392\u5E8F
CP00108=SELECT industry AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY industry ORDER BY num DESC
# \u62A5\u8868 \u6309\u4E1A\u52A1\u7C7B\u578B \u5E74\u5EA6\u5B8C\u6210\u7684\u4E1A\u52A1\u5408\u4F5C\u4E2D\uFF0C\u6309\u4E1A\u52A1\u7C7B\u578B\u6392\u5E8F
CP00109=SELECT businessType AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY businessType ORDER BY num DESC
# \u62A5\u8868 \u6309\u5BA2\u6237\u6027\u8D28 \u5E74\u5EA6\u5B8C\u6210\u7684\u4E1A\u52A1\u5408\u4F5C\u4E2D\uFF0C\u6309\u5BA2\u6237\u6027\u8D28\u6392\u5E8F
CP00110=SELECT customerProperties AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY customerProperties ORDER BY num DESC
# \u62A5\u8868 \u6309\u5408\u4F5C\u610F\u5411 \u5E74\u5EA6\u5B8C\u6210\u7684\u4E1A\u52A1\u5408\u4F5C\u4E2D\uFF0C\u6309\u5408\u4F5C\u610F\u5411\u6392\u5E8F
CP00111=SELECT cooperation AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY cooperation ORDER BY num DESC
# \u62A5\u8868 \u6309\u5206\u914D\u610F\u5411 \u5E74\u5EA6\u5B8C\u6210\u7684\u4E1A\u52A1\u5408\u4F5C\u4E2D\uFF0C\u6309\u5206\u914D\u610F\u5411\u6392\u5E8F
CP00112=SELECT incomeAssign AS state, COUNT(0) AS num FROM coop_regist WHERE YEAR(CREATION_DATE) = {param1} GROUP BY incomeAssign ORDER BY num DESC
#\u8BA1\u7B97\u5168\u6240\u5404\u884C\u4E1A\u5408\u540C\u603B\u91D1\u989D\u8868
#CP10001=SELECT industryType,industryValue, industryName, SUM(businesscost) AS totalMoney FROM v_projectbusiness where (startDate >={param1} AND startDate < {param2}) OR (endDate >={param1} AND endDate < {param2}) GROUP BY industryValue
CP10001=SELECT a.industryType, a.industryValue, a.industryName, SUM(a.businesscost) AS totalMoney FROM v_projectbusiness a INNER JOIN (SELECT DISTINCT registernum FROM v_project WHERE orderDate >= {param1} AND orderDate < {param2} ) b ON a.registernum = b.registernum GROUP BY a.industryValue 
#\u8BA1\u7B97\u5408\u4F19\u4EBA\u6240\u6709\u884C\u4E1A\u5408\u540C\u603B\u91D1\u989D
#CP10002=SELECT b.signUserId AS partnerId, b.signUserName AS partnerName, SUM(a.businesscost) AS totalMoney FROM v_projectbusiness a INNER JOIN (SELECT DISTINCT registernum,signUserId,signUserName FROM  v_project WHERE signUserId IS NOT NULL) b ON a.registernum = b.registernum WHERE ( a.startDate >= {param1} AND a.startDate < {param2} ) OR ( a.endDate >= {param1} AND a.endDate < {param2} ) GROUP BY b.signUserId
CP10002=SELECT b.signUserId AS partnerId, b.signUserName AS partnerName, SUM(a.businesscost) AS totalMoney FROM v_projectbusiness a INNER JOIN (SELECT DISTINCT registernum, signUserId, signUserName FROM v_project WHERE signUserId IS NOT NULL AND orderDate >= {param1} AND orderDate < {param2}) b ON a.registernum = b.registernum GROUP BY b.signUserId
#\u67E5\u8BE2\u5408\u4F19\u4EBA\u6700\u8FD120\u4E2A\u5386\u53F2\u7B7E\u5B57\u91CD\u5927\u9879\u76EE\uFF1A\uFF08\u7A0E\u52A1\u65E0\u91CD\u5927\u533A\u5206\uFF09
CP10003=SELECT signUserId AS partnerId,signUserName AS partnerName,projectYear,groupName,customerName,customerProperties,industrySys,industryType,industryValue,industryName,industryName,businessType,orderDate FROM v_project  WHERE projectProperty = '01' AND orderDate IS NOT NULL AND signUserId = {param1} ORDER BY orderDate DESC LIMIT 20
#\u8BA1\u7B97\u5408\u4F19\u4EBA\u5404\u884C\u4E1A\u5408\u540C\u91D1\u989D
#CP10004=SELECT b.signUserId AS partnerId, b.signUserName AS partnerName, a.industryType, a.industryValue, a.industryName, SUM(a.businesscost) AS totalMoney FROM v_projectbusiness a INNER JOIN (SELECT DISTINCT registernum,signUserId,signUserName FROM  v_project WHERE signUserId IS NOT NULL) b ON a.registernum = b.registernum WHERE a.industryValue IS NOT NULL AND ( ( a.startDate >= {param1} AND a.startDate < {param2} ) OR ( a.endDate >= {param1} AND a.endDate < {param2} ) ) GROUP BY b.signUserId, a.industryValue
CP10004=SELECT b.signUserId AS partnerId, b.signUserName AS partnerName, a.industryType, a.industryValue, a.industryName, SUM(a.businesscost) AS totalMoney FROM v_projectbusiness a INNER JOIN (SELECT DISTINCT registernum, signUserId, signUserName FROM v_project WHERE signUserId IS NOT NULL AND orderDate >= {param1} AND orderDate < {param2}) b ON a.registernum = b.registernum WHERE a.industryValue IS NOT NULL GROUP BY b.signUserId, a.industryValue 
#\u9879\u76EE\u5BFC\u5165\u67E5\u8BE2\u5408\u4F19\u4EBA
CP10005=SELECT partnerId FROM coop_partnerinfo LIMIT {param1},{param2}
#\u4E3B\u8425\u4E1A\u52A1\u6392\u540D
CP10006=SELECT * FROM coop_mainindustryranking WHERE  partnerId = {param1} ORDER BY percent DESC
#\u4E13\u6CE8\u884C\u4E1A\u6392\u540D
CP10007=SELECT * FROM coop_focusindustryranking WHERE  industryValue = {param1} ORDER BY percent DESC
#\u5408\u4F19\u4EBA\u6392\u540D\u524D\u4E94\u7684\u4E3B\u8425\u4E1A\u52A1
CP10008=SELECT * FROM coop_mainindustryranking WHERE partnerId = {param1} ORDER BY ranking LIMIT 5
#\u5408\u4F19\u4EBA\u6392\u540D\u524D\u4E94\u7684\u4E13\u6CE8\u884C\u4E1A
CP10009=SELECT * FROM coop_focusindustryranking WHERE partnerId = {param1} and ranking = 1 order by percent desc
#\u5408\u4F5C\u8BC4\u4EF7\u5E73\u5747\u5206
CP10010=SELECT AVG(evaluateScore) avgScore FROM coop_regist WHERE cooperatorId = {param1} AND state = 2
#\u53EF\u7533\u8BF7\u7684\u4E1A\u52A1\u673A\u4F1A
CP10011=SELECT IFNULL(SUM(1),0) AS canApplyNum FROM coop_chance WHERE providerId = {param1} and auditState = 2 AND isClose = 0
#\u63D0\u4F9B\u7684\u4E1A\u52A1\u673A\u4F1A
CP10012=SELECT IFNULL(SUM(1),0) AS providedNum FROM coop_chance WHERE providerId = {param1} and auditState = 2
#\u5408\u4F5C\u4E2D\u7684\u4E1A\u52A1
CP10013=SELECT IFNULL(SUM(1),0) AS coopratingNum FROM coop_regist WHERE partnerId = {param1} AND state < 2
#\u5408\u4F5C\u5B8C\u6210\u7684\u4E1A\u52A1
CP10014=SELECT IFNULL(SUM(1),0) AS coopratingNum FROM coop_regist WHERE partnerId = {param1} AND state = 2
#\u5404\u4E8B\u4E1A\u90E8\u53EF\u7533\u8BF7\u7684\u4E1A\u52A1,\u5DF2\u53D1\u5E03\u7684\u4E1A\u52A1\uFF0C\u5408\u4F5C\u4E2D\u7684\u4E1A\u52A1\uFF0C\u5408\u4F5C\u5B8C\u6210\u7684\u4E1A\u52A1\u7EDF\u8BA1
CP10015=SELECT * FROM (SELECT IFNULL(SUM(1),0) AS canApplyNum FROM coop_chance a LEFT JOIN bdo_base.base_department b ON a.departId = b.autoId WHERE b.topManageDepId = {param1} AND YEAR(a.CREATION_DATE) = {param2} AND a.auditState = 2 AND a.isClose = 0) AS canApplyNum, (SELECT IFNULL(SUM(1),0) AS providedNum FROM coop_chance a LEFT JOIN bdo_base.base_department b ON a.departId = b.autoId WHERE b.topManageDepId = {param1} AND YEAR(a.CREATION_DATE) = {param2} AND a.auditState = 2) AS providedNum, (SELECT IFNULL(SUM(1),0) AS coopratingNum FROM coop_regist a LEFT JOIN bdo_base.base_department b ON a.departId = b.autoId WHERE b.topManageDepId = {param1} AND YEAR(a.CREATION_DATE) = {param2} AND a.state < 2) AS coopratingNum, (SELECT IFNULL(SUM(1),0) AS coopratedNum  FROM coop_regist a LEFT JOIN bdo_base.base_department b ON a.departId = b.autoId WHERE b.topManageDepId = {param1} AND YEAR(a.CREATION_DATE) = {param2} AND a.state = 2) AS coopratedNum
#\u53D6\u5F97\u4E1A\u52A1\u767B\u8BB0\u5355\u6700\u5927ID
CP10016=SELECT Auto_increment FROM information_schema.`TABLES` WHERE Table_Schema='asdb' AND table_name = 'coop_regist'
#\u90E8\u95E8\u7BA1\u7406
CP10017=SELECT * FROM bdo_base.base_department WHERE 1 = 1 /*START #param1# AND hrDeptCode = {param1} #param1# END*/ /*START #param2# AND hrDeptCode != {param2} AND hrDeptCode LIKE '{param2}%' #param2# END*/
#HR\u6570\u636E\u5E93\u83B7\u53D6\u90E8\u95E8
CP10018=SELECT * FROM v_coop_dept ORDER BY dept_code
#commpany
CP10019=select distinct 'closed' AS state,a.id as cid,a.id AS id,a.name,a.name as label,a.shortName,a.contact,a.contactPhone,a.id AS value,'false' as leaf,a.sortNum from bdo_base.base_company a left join bdo_base.base_department b on b.parentid = a.id where 1 = 1 and a.active_flag='1' 
#department
CP10020=SELECT autoid,autoid AS id,autoid AS VALUE,parentid AS _parentId,IF(isleaf = '0','closed','open') AS state,departname,departname AS label,parentid AS __dparentid,parentid,sortNum,level0,fullpath,url,ltype,address,ProjectPopedom,areaid,isleaf,IF(isleaf = '0','false','true') AS leaf,enname,isRH,firstItemId AS __dfirstItemId,firstItemId,firstItemName,topManageDepId AS __dtopManageDepId,topManageDepId,deptManager AS __udeptManager,deptManager,hrDeptId,hrDeptCode,hrDeptName,isVisable FROM bdo_base.base_department WHERE active_flag = '1' AND parentid = {param1} ORDER BY hrDeptCode ASC 
#\u67E5\u8BE2\u83DC\u5355\u4E00\u89C8
CP10021=SELECT a.active_flag,a.id AS id,a.id AS VALUE,a.parentid AS _parentId,IFNULL(b.name,'\u5F00\u59CB') AS parentName,CONCAT(a.parentid,'') AS parentIdView,a.depth,a.lowerState,a.ctype,a.canAgent,a.agentAuditFlag,a.isDisplay,a.isProtected,a.isCanDep,a.menuAuthType,IF('{param19}' <> '' AND '{param19}' <> 'NULL','true',IF(a.ctype = '02' OR(a.lowerState <> '2' AND a.act <> ''),'true','false')) AS leaf,IF('{param19}' <> '' AND '{param19}' <> 'NULL','true',IF(a.ctype = '02' OR(a.lowerState <> '2' AND a.act <> ''),'open','closed')) AS state,a.name AS label,IFNULL(a.act,'') AS act,IFNULL(a.helpact,'') AS helpact,a.imageIndex,a.sortNum,icon.iconFile,IFNULL(a.authMenuId,'') AS authMenuId,c.name AS authMenuName,a.isAudit,a.isTax FROM bdo_base.base_menu a LEFT JOIN bdo_base.base_icon icon ON icon.id = a.imageIndex AND iconType = '0' AND icon.active_flag = 1 LEFT JOIN bdo_base.base_menu b ON b.id = a.parentid LEFT JOIN bdo_base.base_menu c ON c.id = a.authMenuId WHERE a.menuAuthType <= {menuAuthType} AND(a.active_flag = 1 OR a.active_flag = 0) /*START #param11# AND a.lowerState <> 0 #param11# END*/ /*START #param12# AND a.id like '%{param12}%' #param12# END*/ /*START #param13# AND a.isDisplay = '{param13}' #param13# END*/ /*START #param14# AND a.menuAuthType = '{param14}' #param14# END*/ /*START #param15# AND a.authMenuId like '%{param15}%' #param15# END*/ /*START #param1# and a.parentid = '{param1}' #param1# END*/ /*START #param18# AND a.id = '{param18}' #param18# END*/ /*START #param19# AND(a.name like '%{param19}%' or a.id like '%{param19}%') #param19# END*/ ORDER BY a.sortNum 
#\u67E5\u8BE2\u7F16\u53F7\u5927\u4E8E222\u7684\u56FE\u6807
CP10022=SELECT id,iconFile FROM bdo_base.base_icon WHERE id >= 222 
#\u67E5\u8BE2\u6700\u5927\u7684\u7528\u6237\u7F16\u53F7
CP10023=SELECT MAX(id) AS id FROM bdo_base.base_user 
#\u67E5\u8BE2\u63A5\u53E3\u6570
CP10024=SELECT id, ifName, ifPath FROM bdo_cus.cus_outinterface WHERE id IN ('50', '51')
#\u7528\u6237\u4FE1\u606F
CP10025=SELECT a.id AS userId, a.NAME AS userName, CONCAT( b.firstItemName, '-', b.departname ) AS departmentName, a.rank, a.email, a.mobilePhone, a.phone, a.wrokState FROM bdo_base.base_user a LEFT JOIN bdo_base.base_department b ON a.departmentId = b.autoId WHERE a.id = {param1}
CP10026=SELECT a.id AS userId, a.NAME AS userName, CONCAT( b.topManageDepNm, '-', b.departname ) AS departmentName, a.rank, a.email, a.mobilePhone, a.phone, '' AS focusIndustry, '' AS evaluateScore, '' AS memo, '' AS partnerId, a.wrokState FROM bdo_base.base_user a LEFT JOIN bdo_base.base_department b ON a.departmentId = b.autoId WHERE a.hrLoginId = '{param1}' 
#\u5355\u70B9\u767B\u5F55
PAC0001=SELECT a.id,a.name,a.departmentid AS __ddepartmentid,a.email,b.passcode,b.isdelete,b.iscancel FROM bdo_base.base_user a LEFT JOIN bdo_acc.acc_accountControl b ON a.id = b.userid WHERE a.isactive = 1  AND a.active_flag = 1
#\u5BA2\u6237\u57FA\u672C\u4FE1\u606F\u4E00\u89C8
CU00001=SELECT a.customerId, a.isblack, a.issueDate, a.revocationDate, a.customerName, a.userbeforename, a.registerAddress, a.incorporationDate, a.approvalDate, a.corporation, a.BPR, a.register, a.curname, a.writeoffDate, a.registerState, a.areaPlace, a.type, a.startTime, a.endTime, a.uscc, a.Phone, a.nationality, a.industrycategory, a.industrycategorycode, a.industryclassification, a.industryclassificationcode, a.customerType, a.parentId, a.isleaf, a.`level`, a.fullpath, a.property, a.firstItemId, a.firstItemName, a.groupid, a.groupName FROM bdo_cus.cus_customerinfo_basic a WHERE 1 = 1 AND a.customerType != 2 /*START #param1# and customerId = {param1} #param1# END*/
#\u5BA2\u6237\u66FE\u7528\u540D\u4E00\u89C8
CU00002=SELECT id, customerId, usedname, DATE_FORMAT(CREATION_DATE, '%Y-%m-%d') AS createDate, DATE_FORMAT(LAST_UPDATE_DATE, '%Y-%m-%d') AS updateDate FROM bdo_cus.cus_customerinfo_nameused WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u5BA2\u6237\u4E3B\u8981\u6210\u5458\u4E00\u89C8
CU00003=SELECT id, customerId, membername, zhiwu FROM bdo_cus.cus_customerinfo_member WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#ICP\u5907\u6848\u4FE1\u606F\u4E00\u89C8
CU00004=SELECT id, customerId, web, website, no FROM bdo_cus.cus_customerinfo_icp WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u80A1\u7968\u4FE1\u606F\u4E00\u89C8
CU00005=SELECT id, customerId, stockcode, stockname, bourse FROM bdo_cus.cus_customerinfo_stock WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u503A\u5238\u4E00\u89C8
CU00006=SELECT id, customerId, bonddate, bondname, bondcode, bondtype FROM bdo_cus.cus_customerinfo_bond WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u5206\u652F\u673A\u6784\u4E00\u89C8
CU00007=SELECT a.id, a.customerId, a.branchcustomerId, b.customerName, b.uscc, b.BPR, b.registerState, b.type FROM bdo_cus.cus_customerinfo_branch a LEFT JOIN bdo_cus.cus_customerinfo_basic b ON a.branchcustomerId = b.customerId WHERE 1 = 1 /*START #param1# and a.customerId = {param1} #param1# END*/
#\u6295\u8D44\u5173\u7CFB\u4E00\u89C8
CU00008=SELECT id, customerId, investmentcustomerId, type, insto FROM bdo_cus.cus_customerinfo_investment WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u5BA2\u6237\u7C7B\u578B\u4E00\u89C8
CU00009=SELECT id, customerId, customertype, DATE_FORMAT(CREATION_DATE, '%Y-%m-%d') AS createDate FROM bdo_cus.cus_customerinfo_type WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u884C\u4E1A\u5206\u7C7B\u4E00\u89C8
CU00010=SELECT id, customerId, industrycategory, industrycategorycode, industryclassification, industryclassificationcode, DATE_FORMAT(CREATION_DATE, '%Y') AS createDate FROM bdo_cus.cus_customerinfo_industry WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u8D44\u4EA7\u72B6\u51B5\u4FE1\u606F\uFF08\u5E74\u62A5\uFF09\u4E00\u89C8
CU00011=SELECT id, customerId, year, netprofits, totalprofits, ownerequity, totaltax, totalrevenue, mainrevenue, totaldebt, totalasset, curname FROM bdo_cus.cus_customerinfo_asset WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u4E3B\u8425\u6784\u6210\uFF08\u6309\u4EA7\u54C1\u548C\u670D\u52A1\uFF09\u4E00\u89C8
CU00012=SELECT id, customerId, year, `quarter`, type, `name`, profitrate, costratio, grossprofit, operatingcost, revenue FROM bdo_cus.cus_customerinfo_composition WHERE 1=1 /*START #param1# and customerId = {param1} #param1# END*/
#\u5BA2\u6237\u884C\u4E1A\u5206\u7C7B\u6811
CU00013=SELECT a.autoId as id,a.name,a.name AS label,a.value,IF(a.level = '1','false','true') AS leaf FROM bdo_base.base_industry a WHERE a.type = 2 /*START #param19# AND a.name LIKE '%{param19}%' #param19# END*/ /*START #param20# AND a.level = 1 #param20# END*/ /*START #param21# AND a.level = 2 AND SUBSTRING(a.value,1,4) LIKE '{param1}' #param21# END*/ ORDER BY a.value 
#\u5BA2\u6237\u672C\u5730\u6570\u636E\u5E93\u57FA\u672C\u4FE1\u606F\u4E00\u89C8
CU00014=SELECT a.customerId, a.isblack, a.registerOffice, a.customerName, a.userbeforename, a.uscc, a.registerState, a.approvalDate, a.customerType, a.BPR FROM bdo_cus.cus_customerinfo_basic a WHERE 1 = 1 /*START #param1# and customerName LIKE '%{param1}%' OR userbeforename LIKE '%{param1}%' #param1# END*/ /*START #param2# and uscc = {param2} OR BPR = {param2} #param2# END*/
#\u6DFB\u52A0\u5206\u652F\u673A\u6784\u4E00\u89C8
CU00015=SELECT a.customerId, a.isblack, a.issueDate, a.revocationDate, a.customerName, a.userbeforename, a.registerAddress, a.incorporationDate, a.approvalDate, a.corporation, a.BPR, a.register, a.curname, a.writeoffDate, a.registerState, a.areaPlace, a.type, a.startTime, a.endTime, a.uscc, a.Phone, a.nationality, a.industrycategory, a.industrycategorycode, a.industryclassification, a.industryclassificationcode, a.customerType, a.parentId, a.isleaf, a.`level`,a.fullpath, a.property, a.firstItemId, a.firstItemName, a.groupid, a. groupName FROM bdo_cus.cus_customerinfo_basic a WHERE 1=1 AND a.customerId NOT IN ( SELECT d.branchcustomerId FROM bdo_cus.cus_customerinfo_branch d WHERE d.customerId = {param1} )
#\u5BA2\u6237\u9ED1\u540D\u5355\u4E00\u89C8
CU00016=SELECT a.customerId, a.isblack, a.issueDate, a.revocationDate, a.customerName, a.userbeforename, a.registerAddress, a.incorporationDate, a.approvalDate, a.corporation, a.BPR, a.register, a.curname, a.writeoffDate, a.registerState, a.areaPlace, a.type, a.startTime, a.endTime, a.uscc, a.Phone, a.nationality, a.industrycategory, a.industrycategorycode, a.industryclassification, a.industryclassificationcode, a.customerType, a.parentId, a.isleaf, a.`level`,a.fullpath, a.property, a.firstItemId, a.firstItemName, a.groupid, a. groupName FROM bdo_cus.cus_customerinfo_basic a WHERE 1=1
#\u83B7\u53D6\u7701\u5E02
CU00017=SELECT a.attributeName AS label, a.attributeName AS VALUE FROM bdo_base.base_dic a WHERE a.attributetype = '\u4E2D\u56FD\u57CE\u5E02' AND a.attributeValue1 = '\u76F4\u8F96\u5E02' AND a.attributeName NOT LIKE '\u76F4\u8F96\u5E02' UNION SELECT a.attributeName AS label, a.attributeName AS VALUE FROM bdo_base.base_dic a WHERE a.attributetype = '\u4E2D\u56FD\u57CE\u5E02' AND a.attributeValue1 = '\u7279\u522B\u884C\u653F\u533A' AND a.attributeName NOT LIKE '\u7279\u522B\u884C\u653F\u533A' UNION SELECT a.attributeName AS label, a.attributeName AS VALUE FROM bdo_base.base_dic a WHERE a.attributetype = '\u4E2D\u56FD\u57CE\u5E02' AND a.attributeName NOT LIKE '\u76F4\u8F96\u5E02' AND a.attributeName NOT LIKE '\u7279\u522B\u884C\u653F\u533A' AND a.attributeValue1 = a.attributeName
#\u63A5\u53E3\u67E5\u8BE2
CU00018=SELECT count(*) FROM bdo_cus.cus_customerinfo_basic where (customerName like ? or uscc= ? ) and uscc>'' and active_flag=1
####################\u4E1A\u52A1\u5171\u4EAB#####################


####################\u5BA1\u8BA1\u5E73\u53F0#####################
#\u79D1\u76EE\u6811\u79D1\u76EE\u7C7B\u578B(\u5BA2\u6237\u79D1\u76EE\u6811\u7528)
FA00001=SELECT a.autoId AS id, a.subjectTypeName AS label, a.subjectTypeId AS parentid, a.autoId AS value, 'false' AS leaf, 'subjectType' AS typeName FROM asdb.k_subjecttype a WHERE a.subjectType = 1 AND isTrue = 1 ORDER BY a.subjectTypeId
#\u79D1\u76EE\u6811\u79D1\u76EE\u7C7B\u578B(TB\u79D1\u76EE\u6811\u7528)
FA00002=SELECT a.subjectTypeId AS id, a.subjectTypeName AS label, a.subjectTypeId AS parentid, a.subjectTypeId AS VALUE, 'false' AS leaf, 'subjectType' AS typeName FROM asdb.k_subjecttype a WHERE a.subjectType = 1 AND isTrue = 1 ORDER BY a.subjectTypeId
#\u79D1\u76EE\u6811\u4E00\u7EA7\u5B50\u79D1\u76EE
FA00003=SELECT a.subjectId AS id, CONCAT(a.subjectId, '-', a.subjectName) AS label, LEFT(a.subjectId, 1) AS parentid, a.subjectId AS VALUE, IF(isLeaf = 0, 'false', 'true') AS leaf, 'subject' AS typeName FROM asdb.k_subject a WHERE 1 = 1 /*START #param1# and (level = 1 and LEFT(a.subjectId,1) = '{param1}') #param1# END*/ /*START #param14# and vocationId = '{param14}' #param14# END*/ /*START #param19# and CONCAT(a.subjectId,a.subjectName) like '%{param19}%' #param19# END*/ ORDER BY a.subjectId
#\u5BA2\u6237\u5BF9\u5E94\u7684\u79D1\u76EE\u6811
##FA00004=SELECT DISTINCT CONCAT(b.accPackageId, '-', a.attributeValue1) AS id, CONCAT(a.attributeValue1, '-', a.attributeName) AS `name`, CONCAT(a.attributeValue1, '-', a.attributeName) AS label, a.attributeValue1 AS `value`, NULL AS parentid, 'false' AS leaf FROM base_dic a, bdo_fin.fin_accpkgsubject b WHERE a.attributetype = '\u79D1\u76EE\u7C7B\u578B' /*START #param1# AND b.accPackageId = {param1} #param1# END*/ ORDER BY b.accPackageId, a.attributeValue1
##FA00005=SELECT aa.id, aa.label AS `name`, aa.label, aa.value, IF(LENGTH(aa.parentId) = 1, '', aa.parentId) as parentId, aa.leaf FROM( SELECT a.subjectId AS `id`, CONCAT(a.subjectId, '-', a.subjectFullName) AS `label`, a.subjectId AS `value`, IF( LENGTH(a.parentSubjectId) = 0, SUBSTR(a.subjectId, 1, 1), a.parentSubjectId) AS parentId, IF(a.isLeaf = 0, 'false', 'true') AS leaf FROM bdo_fin.fin_accpkgsubject a WHERE  a.customerId = {param9} AND a.yyyy={param10} ) aa WHERE  1=1 /*START #param2# AND aa.parentId like '{param2}%' #param2# END*/ /*START #param19# AND aa.label LIKE '%{param19}%' #param19# END*/ ORDER BY aa.id, aa.value
FA00006=SELECT subjectId AS id, CONCAT(subjectId, '-', subjectName) AS label, subjectId AS parentid, subjectId AS VALUE, 'false' AS leaf FROM asdb.k_subject WHERE vocationId = {param14} AND subjectId = '{param15}'
#\u67E5\u627E\u62A5\u8868\u79D1\u76EE\u6811
#FA00008=SELECT a.subjectCode AS id, a.subjectCode AS value, a.subjectName AS label, a.parentId AS parentid, IF(a.isLeaf = 0, 'false', 'true') AS leaf FROM asdb.k_reportcolumn a WHERE LENGTH(a.subjectCode) = 1 AND a.vocationId = {param9}
FA00008=SELECT a.subjectTypeId AS id, a.subjectTypeName AS label, a.subjectTypeId AS parentid, a.subjectTypeId AS VALUE, 'false' AS leaf, 'subjectType' AS typeName FROM asdb.k_subjecttype a WHERE a.subjectType = 1 AND isTrue = 1 ORDER BY a.subjectTypeId
FA00009=SELECT a.colCode AS id, a.colCode AS VALUE, a.colName AS label, a.subjectType1 AS parentid, 'true' AS leaf FROM asdb.v_reporttemplate a WHERE a.isSubject= 1 AND a.vocationId = {param9} /*START #param1# AND a.subjectType1 = '{param1}' #param1# END*/ /*START #param19# AND CONCAT(a.colCode, a.colName) LIKE '%{param19}%' #param19# END*/  AND a.tableDiv in (1,3,4,5) ORDER BY a.sortNo
#\u67E5\u627E\u79D1\u76EE\u5206\u7C7B\u6811
FA00010=SELECT a.subjectTypeId AS id, a.subjectTypeId AS value, a.subjectTypeName AS label,IF(a.isLeaf = 0, 'false', 'true') AS leaf FROM asdb.k_subjecttype a WHERE a.subjectType = 1 AND isTrue = 1 ORDER BY a.subjectTypeId
FA00011=SELECT a.subjectTypeId AS id, a.subjectTypeId AS value, a.subjectTypeName AS label, a.parentId AS parentid, IF(a.isLeaf = 0, 'false', 'true') AS leaf FROM asdb.k_subjecttype a WHERE 1 = 1 /*START #param1# AND a.parentId = '{param1}' #param1# END*/ /*START #param19# AND CONCAT(a.subjectTypeId, a.subjectTypeName) LIKE '%{param19}%' #param19# END*/ ORDER BY a.subjectTypeId
#\u67E5\u8BE2\u5BA2\u6237
FA00012=SELECT a.customerId, a.customerName FROM bdo_cus.cus_customerinfo_basic a ORDER BY a.customerId
#TB\u79D1\u76EE\u6811\u5B50\u79D1\u76EE(\u90E8\u95E8)
FA00013=SELECT a.autoId AS id, a.subjectName AS label, LEFT(a.subjectType1, 1) AS parentid, CONCAT(a.reportSubjectCode , ':' , a.reportSubjectname) AS VALUE, 'true' AS leaf, 'subject' AS typeName FROM asdb.v_subjecttb a WHERE customerId = 0 AND departmentId = {param15} AND vocationId = {param16} /*START #param1# and LEFT(a.subjectType1,1) = '{param1}' #param1# END*/ /*START #param19# and CONCAT(a.subjectName) like '%{param19}%' #param19# END*/
#TB\u79D1\u76EE\u6811\u5B50\u79D1\u76EE\uFF08\u5BA2\u6237\uFF09
FA00014=SELECT a.autoId AS id, a.subjectName AS label, LEFT(a.subjectType1, 1) AS parentid, CONCAT(a.reportSubjectCode , ':' , a.reportSubjectname) AS VALUE, 'true' AS leaf, 'subject' AS typeName FROM asdb.v_subjecttb a WHERE customerId = {param14} AND vocationId={param16} /*START #param1# and LEFT(a.subjectType1,1) = '{param1}' #param1# END*/ /*START #param19# and CONCAT(a.subjectName) like '%{param19}%' #param19# END*/ order by a.sortNo
#\u6807\u51C6\u79D1\u76EE\u5BF9\u7167\u5173\u952E\u5B57\u521D\u59CB\u5316\u6570\u636E
FA10003=SELECT 0 AS departId, 0 AS customerId, subjectid AS stanSubjectId, subjectfullname AS stanSubjectKey, subjectfullname AS userSubjectKey, LEVEL, property FROM asdb.k_subject WHERE vocationid = {vocationId} AND LEVEL = 1 UNION SELECT 0 AS departId, 0 AS customerId, b.subjectid AS stanSubjectId, b.subjectfullname AS stanSubjectKey, TRIM( REPLACE( CONCAT(b.subjectfullname, ''), a.key1, a.key2 ) ) AS userSubjectKey, b.LEVEL, b.property FROM asdb.k_subjectContractkey a INNER JOIN (SELECT subjectid, subjectfullname, LEVEL, property FROM asdb.k_subject WHERE vocationid = {vocationId} AND LEVEL = 1) b ON b.subjectfullname LIKE CONCAT('%', a.key1, '%')
FA10016=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttb a WHERE a.departmentId = {param1} AND a.customerId = {param2} AND vocationId = {param3}
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE
#FA10017=SELECT a.autoId, a.subjectCode, a.subjectName, a.reportSubjectCode, b.colName AS reportSubName, a.subjectType1, c.subjectTypeName, a.departmentId, a.customerId, a.vocationId, a.ACTIVE_FLAG,a.sortNo FROM asdb.k_subjecttb a LEFT JOIN asdb.k_reportcolumn b ON b.colCode = a.reportSubjectCode LEFT JOIN asdb.k_subjecttype c ON c.subjectTypeId = a.subjectType1 WHERE 1 = 1 AND a.vocationId = {param3} AND tbTemplateId={param4} /*START #param1# AND a.departmentId IN ({param1}) #param1# END*/ /*START #param2# AND a.customerId IN ({param2}) #param2# END*/ ORDER BY a.sortNo
FA10017=SELECT t2.autoId, t1.tbsubjectid AS subjectCode, t1.tbsubjectname AS subjectName, t2.reportSubjectCode, t2.reportSubName, t2.reportcolName, t2.subjectType1, t2.subjectTypeName, t2.departmentId, t2.customerId, t2.vocationId, t2.ACTIVE_FLAG, t1.sortNo, t2.tbTemplateId, t1.isSubject FROM asdb.k_tbtemplate t1 LEFT JOIN ( SELECT a.autoId, a.subjectCode, a.subjectName, a.reportSubjectCode, d.colDisp AS reportSubName, b.colName AS reportcolName, a.subjectType1, c.subjectTypeName, a.departmentId, a.customerId, a.vocationId, a.ACTIVE_FLAG, a.sortNo, a.tbTemplateId FROM asdb.k_subjecttb a LEFT JOIN asdb.k_reporttemplate d ON d.vocationId=a.vocationId AND a.reportSubjectCode=d.colCode LEFT JOIN asdb.k_reportcolumn b ON b.colCode = a.reportSubjectCode LEFT JOIN asdb.k_subjecttype c ON c.subjectTypeId = a.subjectType1 WHERE 1 = 1 AND a.vocationId = {param3} AND tbTemplateId = {param4} /*START #param1# AND a.departmentId IN ({param1}) #param1# END*/ /*START #param2# AND a.customerId IN ({param2}) #param2# END*/) t2 ON t1.tbvocationid = t2.tbTemplateId AND t1.tbsubjectid = t2.subjectCode WHERE tbvocationid = {param4} ORDER BY t1.sortNo ASC
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u6570
FA10018=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttb a WHERE a.departmentId = {param1} 
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u5206\u7C7B\u4E0B\u62C9\u6846
FA10019=SELECT a.subjectTypeId AS value, a.subjectTypeName AS label FROM asdb.k_subjecttype a WHERE a.subjectType = {param1} AND a.subjectTypeId LIKE '{param2}%' AND a.departmentId IN ({param3}) ORDER BY a.subjectTypeId
#\u67E5\u8BE2\u90E8\u95E8TB\u79D1\u76EE\u5206\u7C7B
FA10020=SELECT a.autoId, IF(a.departmentId = 0, 'true', 'false') AS isCommon, IF(a.departmentId = 0, '\u6807\u51C6\u5206\u7C7B', '\u90E8\u95E8\u81EA\u5B9A\u4E49\u5206\u7C7B') AS subjectClass, a.subjectType, CASE a.subjectType WHEN 1 THEN '\u79D1\u76EE\u4E00\u7EA7\u5206\u7C7B' WHEN 2 THEN '\u79D1\u76EE\u4E8C\u7EA7\u5206\u7C7B' END AS subjectTypeNm, a.subjectTypeId, a.subjectTypeName FROM asdb.k_subjecttype a WHERE 1 = 1 AND a.departmentId IN ({param1})
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u6570(\u6307\u5B9A\u79D1\u76EE\u7F16\u53F7)
FA10021=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttb a WHERE a.departmentId = {param1} AND a.subjectCode = '{param2}' AND vocationId = {param3} AND customerId = {param4}
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u6570(\u6307\u5B9A\u79D1\u76EE\u540D\u79F0)
FA10022=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttb a WHERE a.departmentId = {param1} AND a.subjectName = '{param2}' AND vocationId = {param3} AND customerId = {param4}
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u5206\u7C7B\u6570(\u6307\u5B9A\u79D1\u76EE\u5206\u7C7B\u7F16\u53F7)
FA10023=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttype a WHERE a.departmentId = ({param1}) AND a.subjectTypeId = {param2}
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u5206\u7C7B\u6570(\u6307\u5B9A\u79D1\u76EE\u5206\u7C7B\u540D\u79F0)
FA10024=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttype a WHERE a.departmentId IN ({param1}) AND a.subjectTypeName = {param2}
#\u67E5\u627ETB\u79D1\u76EE\u5206\u7C7B\u6307\u5B9A\u4E00\u7EA7\u5206\u7C7B\u4E0B\u7684\u4E8C\u7EA7\u5206\u7C7B\u6700\u5927\u7F16\u53F7
FA10025=SELECT MAX( SUBSTR( a.subjectTypeId, LENGTH(a.subjectTypeId))) AS maxId FROM asdb.k_subjecttype a WHERE a.subjectTypeId LIKE '{param1}%' AND a.subjectType = 2
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE
FA10026=SELECT a.autoId, a.subjectId, a.subjectName, a.subjectType1, b.subjectTypeName AS subjectTypeName1, a.level, a.property, a.ACTIVE_FLAG FROM asdb.k_subject a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType1 ORDER BY a.subjectId
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE\u5206\u7C7B\u4E0B\u62C9\u6846
FA10027=SELECT a.subjectTypeId AS value, a.subjectTypeName AS label FROM asdb.k_subjecttype a WHERE a.departmentId = '0' AND a.subjectType = {param1} AND a.subjectTypeId LIKE '{param2}%' ORDER BY a.subjectTypeId
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE\u6570(\u6307\u5B9A\u79D1\u76EE\u7F16\u53F7)
FA10028=SELECT IFNULL(COUNT(0), 0) AS comnum FROM asdb.k_reportcolumn a WHERE a.colCode = {param1}
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE\u6570(\u6307\u5B9A\u79D1\u76EE\u540D\u79F0)
FA10029=SELECT IFNULL(COUNT(0), 0) AS comnum FROM asdb.k_reportcolumn a WHERE a.colName = {param1}
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE\u5206\u7C7B
FA10030=SELECT a.autoId, IF(a.departmentId = 0, 'true', 'false') AS isCommon, IF(a.departmentId = 0, '\u6807\u51C6\u5206\u7C7B', '\u90E8\u95E8\u81EA\u5B9A\u4E49\u5206\u7C7B') AS subjectClass, a.subjectType, CASE a.subjectType WHEN 1 THEN '\u79D1\u76EE\u4E00\u7EA7\u5206\u7C7B' WHEN 2 THEN '\u79D1\u76EE\u4E8C\u7EA7\u5206\u7C7B' END AS subjectTypeNm, a.subjectTypeId, a.subjectTypeName FROM asdb.k_subjecttype a WHERE a.departmentId = '0'
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F
FA10058=SELECT a.autoId AS value, a.ruleName AS label FROM asdb.k_ruleacc a WHERE a.departId = '{param3}' OR a.departId = '0' /*START #param1# OR a.customerId = '{param1}' #param1# END*/ /*START #param2# AND a.customerId = '{param2}' #param2# END*/ ORDER BY a.sortNo
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u6570(\u6307\u5B9A\u79D1\u76EE\u7F16\u53F7)
FA10059=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttb a WHERE a.departmentId = {param1} AND a.subjectCode = '{param2}' AND vocationId = {param3} AND a.customerId IN ({param4})
#\u67E5\u8BE2\u6307\u5B9A\u90E8\u95E8\u4E0B\u7684TB\u79D1\u76EE\u6570(\u6307\u5B9A\u79D1\u76EE\u540D\u79F0)
FA10060=SELECT IFNULL(COUNT(0), 0) AS tbnum FROM asdb.k_subjecttb a WHERE a.departmentId = {param1} AND a.subjectName = '{param2}' AND vocationId = {param3} AND a.customerId IN ({param4})
#\u8C03\u6574\u660E\u7EC6(\u5BA1\u8BA1\u8C03\u6574)
FA10063=SELECT a.autoId,a.indexId,a.accPackageId,a.customerId,a.projectId,a.yyyy AS subjectYear,a.subjectId,a.voucherId,a.serail,a.summary,a.dirction,a.occurValue,a.currValue,a.currency,a.subjectname1 AS subjectName,a.subjectFullName1 AS fullName,a.adjustType,a.adjustSubjectTB,a.adjustSubjectCodeReport,a.adjustSubjectReport,a.status,a.reason,a.ACTIVE_FLAG FROM bdo_dg.dg_subjectentryadjust a INNER JOIN(SELECT DISTINCT indexId FROM bdo_dg.dg_subjectentryadjust WHERE customerId = {param1} AND yyyy = {param2} AND adjustType = {param3} AND tbSubjectCode = '{param4}' AND projectId = {param5}) b ON a.indexId = b.indexId WHERE a.customerId = {param1} AND a.yyyy = {param2} AND a.projectId = {param5} AND a.adjustType = {param3} ORDER BY a.indexId 
#\u8C03\u6574\u660E\u7EC6(\u672A\u5BA1\u62A5\u8868\u91CD\u5206\u7C7B\u8C03\u6574)
FA10064=SELECT CASE a.dirction WHEN '-1' THEN a.occurValue END AS 'minusOccurValue',CASE a.dirction WHEN '1' THEN a.occurValue END AS 'plusOccurValue',a.autoId,a.workpaperId,a.taxEffect,a.cbType,a.assItemId,a.assItemName,a.indexId,a.accPackageId,a.customerId,a.projectId,a.yyyy AS subjectYear,a.subjectId,a.voucherId,a.serail,a.summary,a.dirction,a.occurValue,a.currValue,a.currency,a.subjectname1 AS subjectName,a.subjectFullName1 AS fullName,a.adjustType,a.adjustSubjectTB,a.adjustSubjectCodeReport,a.adjustSubjectReport,a.status,a.reason,a.fillUser AS __ufillUserName,a.ACTIVE_FLAG,DATE_FORMAT(a.LAST_UPDATE_DATE,'%Y-%m-%d %H:%i:%s') AS lastUpdateDate FROM bdo_dg.dg_subjectentryadjust a INNER JOIN(SELECT DISTINCT indexId FROM bdo_dg.dg_subjectentryadjust WHERE customerId = {param1} AND yyyy BETWEEN {param2} AND {param6} AND adjustType = {param3} /*START #param4# AND (tbSubjectCode = '{param4}' OR subjectId LIKE '{param4}%')  #param4# END*/ AND projectId = {param5}) b ON a.indexId = b.indexId WHERE a.customerId = {param1} AND yyyy BETWEEN {param2} AND {param6} AND a.projectId = {param5} AND a.adjustType = {param3} ORDER BY a.indexId,a.occurValue desc 
#\u8C03\u6574\u660E\u7EC6(\u672A\u5BA1\u62A5\u8868\u91CD\u5206\u7C7B\u8C03\u6574)
FA10065=SELECT a.autoId,a.indexId,a.accPackageId,a.customerId,a.projectId,a.yyyy AS subjectYear,a.subjectId,a.voucherId,a.serail,a.summary,a.dirction,a.occurValue,a.currValue,a.currency,a.subjectname1 AS subjectName,a.subjectFullName1 AS fullName,a.adjustType,a.adjustSubjectTB,a.adjustSubjectCodeReport,a.adjustSubjectReport,a.status,a.reason,a.ACTIVE_FLAG FROM bdo_dg.dg_subjectentryadjust a INNER JOIN(SELECT DISTINCT indexId FROM bdo_dg.dg_subjectentryadjust WHERE customerId = {param1} AND yyyy = {param2} AND adjustType = {param3} AND adjustSubjectCodeReport = '{param4}' /*START #param7# AND LEFT(indexId,4) = '{param7}' #param7# END*/ AND projectId = {param5}) b ON a.indexId = b.indexId WHERE a.customerId = {param1} AND a.yyyy = {param2} AND a.projectId = {param5} AND a.adjustType = {param3} ORDER BY a.indexId 
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F\u5305\u542B\u5BA2\u6237\u81EA\u5B9A\u4E49\u6A21\u677F
FA10066=select a.autoId AS value, a.ruleName AS label,a.type from ( SELECT autoId , ruleName,sortNo,0 as type FROM asdb.k_ruleacc a WHERE departId=0 AND customerId = {param1} union SELECT autoId ,ruleName,sortNo,1 AS type FROM asdb.k_ruleacc a WHERE departId=0 AND customerId = 0 ) a  order by type,sortNo
#\u67E5\u8BE2\u5BA2\u6237\u81EA\u5B9A\u4E49\u62A5\u8868\u6A21\u677F
FA10067=SELECT a.autoId AS value, a.ruleName AS label FROM asdb.k_ruleacc a WHERE customerId = {param1} ORDER BY a.sortNo
#\u67E5\u8BE2TB\u6A21\u677F
FA10068=SELECT a.value, a.label FROM ( SELECT a.autoId AS VALUE, a.ruleName AS label, a.LAST_UPDATE_DATE FROM asdb.k_tbruleacc a WHERE a.departId = '{param3}' /*START #param1# OR a.customerId = '{param1}' #param1# END*/ /*START #param2# AND a.customerId = '{param2}' #param2# END*/ UNION SELECT a.autoId AS VALUE, a.ruleName AS label, a.LAST_UPDATE_DATE FROM asdb.k_tbruleacc a WHERE a.departId = '555555' /*START #param1# OR a.customerId = '{param1}' #param1# END*/ /*START #param2# AND a.customerId = '{param2}' #param2# END*/ ) a ORDER BY a.LAST_UPDATE_DATE DESC  
#\u6839\u636Etb\u67E5\u8BE2\u62A5\u8868\u6A21\u677F
FA10069=SELECT a.autoId AS VALUE, a.ruleName AS label FROM ( SELECT DISTINCT vocationId FROM asdb.k_subjecttb WHERE tbTemplateId = {param1} ) b LEFT JOIN asdb.k_ruleacc a ON b.vocationId = a.autoId WHERE departId = 0 AND customerId = 0 ORDER BY a.LAST_UPDATE_DATE DESC
#\u67E5\u8BE2\u90E8\u95E8TB\u548C\u901A\u7528TB
FA10070=SELECT a.autoId AS VALUE, a.ruleName AS label FROM asdb.k_tbruleacc a WHERE a.departId = '{param3}' OR a.departId = '0' ORDER BY a.LAST_UPDATE_DATE DESC
#\u67E5\u8BE2\u90E8\u95E8\u62A5\u8868\u548C\u901A\u7528\u62A5\u8868
FA10071=SELECT a.autoId AS value, a.ruleName AS label FROM asdb.k_ruleacc a WHERE a.departId = '{param3}' OR a.departId = '0' ORDER BY a.LAST_UPDATE_DATE DESC
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F\u7C7B\u578B
FA10072=SELECT a.attributeValue1 AS VALUE, a.attributeName AS label FROM bdo_base.base_dic a WHERE a.attributetype = '\u62A5\u8868\u6A21\u677F\u7C7B\u578B' ORDER BY a.sortNum
#\u67E5\u8BE2\u62A5\u8868\u4E00\u89C8
FA10073=SELECT t.autoId, t.ruleName,t.qyColumn, t.templateType,t.reportType, t.year, t.month, t.sortNo, DATE_FORMAT(t.LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, t.LAST_UPDATED_BY, t.ACTIVE_FLAG FROM asdb.k_ruleacc AS t WHERE 1=1 /*START #param1# AND t.ACTIVE_FLAG = '{param1}' #param1# END*/ /*START #param2# AND t.templateType = '{param2}' #param2# END*/ ORDER BY t.templateType ASC,t.ruleName DESC
#\u67E5\u8BE2\u62A5\u8868\u7C7B\u578B
FA10074=SELECT a.attributeValue1 AS id, a.attributeName AS label, '' AS parentid, a.id AS VALUE, 'false' AS leaf, 'templateType' AS typeName FROM bdo_base.base_dic a WHERE a.attributetype = '\u62A5\u8868\u6A21\u677F\u7C7B\u578B' ORDER BY a.sortNum
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F\uFF08\u4E0B\u5566\u6811\uFF09
#FA10075=SELECT a.autoid AS id, a.ruleName AS NAME, a.ruleName AS label, a.autoId AS VALUE, a.templateType AS parentId, 'true' AS leaf FROM asdb.k_ruleacc AS a WHERE a.ACTIVE_FLAG = 1 /*START #param19# AND a.ruleName LIKE '%{param19}%' #param19# END*/ /*START #param3# AND a.templateType = '{param3}' #param3# END*/ /*START #param18# AND a.autoid = {param18} #param18# END*/ ORDER BY a.autoid ASC
FA10075=SELECT a.autoid AS id, a.ruleName AS NAME, a.ruleName AS label, a.reportType AS typeName, a.autoId AS VALUE, a.templateType AS parentId, 'true' AS leaf FROM asdb.k_ruleacc AS a WHERE 1 = 1 /*START #param10# AND a.ACTIVE_FLAG = '1' #param10# END*/ /*START #param19# AND a.ruleName LIKE '%{param19}%' #param19# END*/ /*START #param3# AND a.templateType = '{param3}' #param3# END*/ /*START #param18# AND a.autoid = {param18} #param18# END*/ ORDER BY a.LAST_UPDATE_DATE DESC 
#\u62A5\u5907\u6A21\u677F\u5BF9\u7167 \u62A5\u8868\u6A21\u677F\u4E00\u89C8
FA10076=SELECT t.autoId, t.ruleName, t.templateType, t.treatmentDegree, t.year, t.month, t.sortNo, t.ACTIVE_FLAG FROM asdb.k_ruleacc AS t WHERE 1=1 /*START #param1# AND t.ACTIVE_FLAG = '{param1}' #param1# END*/ /*START #param2# AND t.templateType = '{param2}' #param2# END*/
#\u62A5\u8868\u62A5\u5907\u6A21\u677F\u5BF9\u7167\u8BE6\u60C5\u4E00\u89C8
FA10077=SELECT a.autoId, a.colName, b.TABLE_NAME AS tableName, a.lineNum, GROUP_CONCAT(d.colCode) AS colCode, GROUP_CONCAT(d.colDisp) AS colDisp FROM asdb.k_baobeitemplate a LEFT JOIN asdb.k_report_table_code_tbl b ON a.tableDiv = b.tableDiv LEFT JOIN asdb.k_between_baobei_report c ON a.autoId = c.baobeiTemplateId LEFT JOIN asdb.k_reporttemplate d ON c.reportTemplateId = d.autoId AND d.vocationId = {param2} WHERE a.baobeiTemplateTypeId = {param1} GROUP BY a.autoId ORDER BY a.tableDiv, a.lineNum
#\u62A5\u8868\u79D1\u76EEcombo
FA10078=SELECT CONCAT(a.colCode,'-',a.colDisp) AS label,autoId AS value FROM asdb.k_reporttemplate a WHERE a.vocationId = {param2} AND a.tableDiv = {param1}
#\u62A5\u5907\u6A21\u677F\u7EF4\u62A4\u4E00\u89C8
FA10079=SELECT a.autoId, a.colName, b.TABLE_NAME AS tableName, a.lineNum, c.tbReportTemplate, CONCAT(d.fileName, ':', d.fieldPosition) AS fieldPath FROM asdb.k_baobeitemplate a LEFT JOIN asdb.k_report_table_code_tbl b ON a.tableDiv = b.tableDiv LEFT JOIN bdo_dg.dg_project c ON c.projectId = {param3} LEFT JOIN asdb.k_reportfieldinfo d ON c.tbReportTemplate = d.reportTplID AND TRIM(a.colName) = d.fieldName WHERE a.baobeiTemplateTypeId = {param1} AND a.tableDiv = {param2} ORDER BY a.tableDiv, a.lineNum
#SELECT a.autoId, a.colName, b.TABLE_NAME AS tableName, a.lineNum FROM asdb.k_baobeitemplate a LEFT JOIN asdb.k_report_table_code_tbl b ON a.tableDiv = b.tableDiv WHERE a.baobeiTemplateTypeId = {param1} AND a.tableDiv = {param2} ORDER BY a.tableDiv, a.lineNum
#\u67E5\u8BE2\u62A5\u8868(\u9644\u6CE8)\u4E00\u89C8
FA10080=SELECT t.autoId, t.ruleName, t.templateType, t.year, t.month, t.sortNo, COUNT(t.autoId) AS notesNum, DATE_FORMAT(t.LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, t.LAST_UPDATED_BY, t.ACTIVE_FLAG FROM asdb.k_ruleacc AS t LEFT JOIN asdb.k_noteinfo t1 ON t.autoId = t1.reportTplId WHERE 1=1 /*START #param1# AND t.ACTIVE_FLAG = '{param1}' #param1# END*/ /*START #param2# AND t.templateType = '{param2}' #param2# END*/ GROUP BY t.autoId ORDER BY t.templateType ASC,t.ruleName DESC
#\u67E5\u8BE2\u62A5\u544A
FA10081=SELECT a.autoId, a.templateType, a.ruleName, a.sortNo, c.autoId AS reportAutoId, c.rootPath, c.reportName, c.reportPath, c.configName, c.configPath, c.deleteConfigName, c.deleteConfigPath FROM asdb.k_ruleacc AS a LEFT JOIN asdb.k_noteinfo b ON a.autoId = b.reportTplId LEFT JOIN asdb.k_reportconfig c ON a.autoId = c.reportTplId WHERE a.ACTIVE_FLAG = '1' GROUP BY a.autoId ORDER BY a.sortNo 
#MergeProject //20200103\u67E5\u8BE2\u6761\u4EF6a.tableDiv IN ( 4, 10 )\uFF0C\u53D8\u66F4\u4E3Aa.tableDiv  IN ({param2}),\u67E5\u8BE2\u51FA\u6765\u7684\u5185\u5BB9\u7531\u73B0\u91D1\u6D41\u91CF\u8868\uFF0C\u53D8\u66F4\u4E3A\u73B0\u91D1\u6D41\u91CF\u8868\u3001\u8D44\u4EA7\u8D1F\u503A\u8868\u3001\u5229\u6DA6\u8868
FA10085=SELECT a.colCode, a.colDisp FROM asdb.k_reporttemplate a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType LEFT JOIN asdb.k_report_table_code_tbl c ON a.tableDiv = c.tableDiv LEFT JOIN asdb.k_reportcolumn d ON a.colCode = d.colCode WHERE a.vocationId = {param1} AND a.tableDiv  IN ({param2})
##
FA10086=SELECT '' AS iconCls, 'file' AS cls, IF('{param17}' = '555555', '\u901A\u7528\u6A21\u677F', '\u90E8\u95E8\u6A21\u677F') AS parentId, 'true' AS leaf, a.autoId AS id, a.autoId AS VALUE, a.ruleName AS label FROM asdb.k_tbruleacc a WHERE a.ACTIVE_FLAG = '1' /*START #param17# and a.departId = '{param17}' #param17# END*/ /*START #param18# AND a.autoId = '{param18}' #param18# END*/ /*START #param19# AND a.ruleName like '%{param19}%' #param19# END*/ ORDER BY a.LAST_UPDATE_DATE DESC 
#\u4E07\u5F97\u6570\u636E\u7EDF\u8BA1
FA10307=SELECT CONCAT(w1,',',w2,',',w3,',',l1,',',l2,',',l3) AS WINDTOTAL FROM (SELECT COUNT(0) AS w1 FROM bdo_wind.wind_company_general WHERE ACTIVE_FLAG = 1) AS w1,(SELECT COUNT(0) AS w2 FROM bdo_wind.wind_table_info a INNER JOIN bdo_wind.wind_company_general b ON b.companyid = a.companyId AND b.ACTIVE_FLAG = 1 WHERE a.period = 1) AS w2,(SELECT COUNT(0) AS w3 FROM bdo_wind.wind_table_info a INNER JOIN bdo_wind.wind_company_general b ON b.companyid = a.companyId AND b.ACTIVE_FLAG = 1) AS w3,(SELECT COUNT(0) AS l1 FROM bdo_cus.cus_customerinfo_basic_ext WHERE ACTIVE_FLAG = 1) AS l1,(SELECT COUNT(0) AS l2 FROM bdo_wind.wind_table_info_bdo a WHERE a.period = 1) AS l2,(SELECT COUNT(0) AS l3 FROM bdo_wind.wind_table_info a) AS l3
#\u67E5\u8BE2\u90E8\u95E8\u521B\u5EFA\u8005
FA10308=SELECT DISTINCT a.CREATED_BY AS value, u.name AS label FROM asdb.k_tbruleacc a  LEFT JOIN bdo_base.base_user u ON u.id = a.CREATED_BY  WHERE a.departId= {param12} ORDER BY a.LAST_UPDATE_DATE DESC
FA20024=SELECT c.companyid, c.company_name, t.id, t.reportName, t.reportType, t.monoOrMerge, t.reportDate, t.period, t.updateDate FROM bdo_wind.wind_table_info t INNER JOIN bdo_wind.wind_company_general c ON t.companyId = c.companyId AND t.companyId IN ({param1}) AND t.reportType IN ({param2}) AND t.monoOrMerge IN ({param3}) AND t.reportDate IN ({param5})
FA20124=SELECT a.customerName FROM bdo_cus.cus_customerinfo_basic a WHERE a.customerId = {param1}
FA20125=SELECT * FROM {param2} WHERE tableId = {param1}
#FA20126=SELECT {param1} FROM {param2} a INNER JOIN wind_table_info b ON a.tableId = b.id AND b.companyId = {param3} AND b.reportDate = {param4} AND b.monoOrMerge = 1
#\u67E5\u8BE2\u4E0E\u5206\u6790>\u5BA2\u6237\u6307\u6807\u67E5\u8BE2>\u62A5\u8868\u6570\u636E
FA20126=SELECT {param1} FROM bdo_wind.wind_table_info b LEFT JOIN {param2} a ON a.tableId = b.tableId WHERE b.companyId = {param3} AND b.reportDate = {param4} AND b.monoOrMerge = 1 AND reportType = {reportType}
FA20127=SELECT {param1} FROM bdo_wind.wind_quota WHERE periodStandard = {param2} AND companyId = {param3} AND reportDate = {param4} 
FA20128=SELECT a.classCode AS id, a.className AS NAME, a.className AS label, a.classCode AS VALUE, a.parentClassCode AS parentId, IF (( a.standard = 2 && a.classLevel = 4 ) || ( a.standard = 1 && a.classLevel = 2 ), 'true', 'false' ) AS leaf FROM bdo_wind.wind_defindustry a WHERE a.ACTIVE_FLAG = '1' /*START #param19# AND a.className LIKE '%{param19}%' #param19# END*/ /*START #param20# AND a.parentClassCode IS NULL #param20# END*/ /*START #param21# AND a.parentClassCode = '{param2}' #param21# END*/ ORDER BY a.classCode
FA20129=SELECT b.classCode, b.className FROM bdo_wind.wind_company_industry a INNER JOIN bdo_wind.wind_defindustry b ON a.companyId = {param2} AND a.reportYear = {param3} AND a.period = {param4} AND a.{param1} = b.classCode
FA20130=SELECT MAX(a.{param1} + 0) AS max, MIN(a.{param1} + 0) AS min FROM ( SELECT a.{param1} FROM bdo_wind.wind_quota a WHERE a.companyId IN ( SELECT b.companyId FROM bdo_wind.wind_company_industry b , {param9} c WHERE b.reportDate = {param2} AND b.stock_palte = {param8} AND {param3} = {param4} AND b.companyId = c.companyid AND c.total_market_value + 0 >= {param6} AND c.total_market_value + 0 <= {param7} ) AND a.reportDate = {param2} AND a.periodStandard = {param5} AND a.{param1} != '-' ) AS a
FA20131=SELECT a.{param1} as avg, a.{param2} as mid FROM bdo_wind.wind_industry_quota a WHERE a.programCode = {param3} AND a.periodStandard = {param4} AND a.reportDate = {param5} AND a.stock_palte = {param6}
FA20132=SELECT DISTINCT rank, quota, companyName, companyId FROM ( SELECT * FROM (( SELECT * FROM ( SELECT ta.*, @rank := @rank + 1 AS rank FROM ( SELECT a.{param1} AS quota, b.company_name AS companyName, b.companyid AS companyId FROM bdo_wind.wind_quota a, {param12} b WHERE a.companyId IN ( SELECT a.companyId FROM bdo_wind.wind_company_industry a WHERE a.reportDate = {param2} AND {param3} = {param4} ) AND a.reportDate = {param2} AND a.periodStandard = {param5} AND a.{param1} != '-' AND a.companyId = b.companyid AND b.stock_palte = {param9} AND b.total_market_value + 0 >= {param10} AND b.total_market_value + 0 <= {param11}  ORDER BY (a.{param1} + 0) DESC ) AS ta, (SELECT @rank := 0) AS r ) AS a ORDER BY a.rank {param7} LIMIT {param6} ) UNION ( SELECT * FROM ( SELECT * FROM ( SELECT ta.*, @rank2 := @rank2 + 1 AS rank FROM ( SELECT a.{param1} AS quota, b.company_name AS companyName, b.companyid AS companyId FROM bdo_wind.wind_quota a, {param12} b WHERE a.companyId IN ( SELECT a.companyId FROM bdo_wind.wind_company_industry a WHERE a.reportDate = {param2} AND {param3} = {param4} ) AND a.reportDate = {param2} AND a.periodStandard = {param5} AND a.{param1} != '-' AND a.companyId = b.companyid AND b.stock_palte = {param9} AND b.total_market_value + 0 >= {param10} AND b.total_market_value + 0 <= {param11} ORDER BY (a.{param1} + 0) DESC ) AS ta, (SELECT @rank2 := 0) AS r ) AS a WHERE a.companyId IN (0{param8})) AS c )) AS c ) AS a ORDER BY a.rank ASC
FA20133=SELECT MIN(rank) AS rank, quota, companyName, companyId FROM ( SELECT * FROM (( SELECT * FROM ( SELECT ta.*, @rank := @rank + 1 AS rank FROM ( SELECT a.{param1} AS quota, b.company_name AS companyName, b.companyid AS companyId FROM bdo_wind.wind_quota a, {param12} b WHERE a.companyId IN ( SELECT a.companyId FROM bdo_wind.wind_company_industry a WHERE a.reportDate = {param2} AND {param3} = {param4} ) AND a.reportDate = {param2} AND a.periodStandard = {param5} AND a.{param1} != '-' AND a.companyId = b.companyid AND b.stock_palte = {param9} AND b.total_market_value + 0 >= {param10} AND b.total_market_value + 0 <= {param11}  ORDER BY (a.{param1} + 0) DESC ) AS ta, (SELECT @rank := 0) AS r ) AS a ORDER BY a.rank ASC LIMIT {param6} ) UNION ( SELECT * FROM ( SELECT * FROM ( SELECT ta.*, @rank2 := @rank2 + 1 AS rank FROM ( SELECT a.{param1} AS quota, b.company_name AS companyName, b.companyid AS companyId FROM bdo_wind.wind_quota a, {param12} b WHERE a.companyId IN ( SELECT a.companyId FROM bdo_wind.wind_company_industry a WHERE a.reportDate = {param2} AND {param3} = {param4} ) AND a.reportDate = {param2} AND a.periodStandard = {param5} AND a.{param1} != '-' AND a.companyId = b.companyid AND b.stock_palte = {param9} AND b.total_market_value + 0 >= {param10} AND b.total_market_value + 0 <= {param11}  ORDER BY (a.{param1} + 0) DESC ) AS ta, (SELECT @rank2 := 0) AS r ) AS a WHERE a.companyId IN (0{param8})) AS c ) UNION ( SELECT * FROM ( SELECT ta.*, @rank := @rank + 1 AS rank FROM ( SELECT a.{param1} AS quota, b.company_name AS companyName, b.companyid AS companyId FROM bdo_wind.wind_quota a, {param12} b WHERE a.companyId IN ( SELECT a.companyId FROM bdo_wind.wind_company_industry a WHERE a.reportDate = {param2} AND {param3} = {param4} ) AND a.reportDate = {param2} AND a.periodStandard = {param5} AND a.{param1} != '-' AND a.companyId = b.companyid AND b.stock_palte = {param9} AND b.total_market_value + 0 >= {param10} AND b.total_market_value + 0 <= {param11}  ORDER BY (a.{param1} + 0) DESC ) AS ta, (SELECT @rank := 0) AS r ) AS a ORDER BY a.rank DESC LIMIT {param6} )) AS c ) AS a GROUP BY quota,companyName,companyId ORDER BY rank ASC
FA20134=SELECT ta.*, @rank := @rank + 1 AS rank FROM ( SELECT * FROM ((SELECT a.{param1} AS quota, b.company_name AS companyName, a.companyId FROM bdo_wind.wind_quota a, bdo_wind.wind_company_general b WHERE a.companyId IN ( 100000{param4} ) AND a.reportDate = {param2} AND periodStandard = {param3} AND a.{param1} != '-' AND a.companyId = b.companyid ) UNION (SELECT a.{param1} AS quota, b.company_name AS companyName, a.companyId FROM bdo_wind.wind_quota a, bdo_cus.cus_customerinfo_basic_ext b WHERE a.companyId IN ( 100000{param4} ) AND a.reportDate = {param2} AND periodStandard = {param3} AND a.{param1} != '-'  AND a.companyId = b.companyid ) ) AS tmp ORDER BY tmp.quota + 0 DESC ) AS ta, (SELECT @rank := 0) AS r
BB00101=SELECT {param1} FROM {param2} a INNER JOIN bdo_wind.wind_table_info b ON a.tableId = b.id AND b.companyId = {param3} AND b.reportDate = {param4} AND b.monoOrMerge = 1 ORDER BY b.CREATION_DATE DESC LIMIT 1 
FA20135=SELECT a.customerName,a.stock,a.industrycategory as secondClassName, a.industrycategorycode as secondClassCode, a.industryclassification as firstClassName, a.industryclassificationcode as firstClassCode FROM bdo_cus.cus_customerinfo_basic a WHERE a.customerId = {param1}
FA20201=SELECT a.column_code AS colCode FROM bdo_adu.adu_report_item_code_tbl a WHERE a.ITEM_CODE = {param2}
FA20136=SELECT t2.id fileId, t4.table_div tableDiv, t1.customername FROM bdo_adu.adu_report_filedetailinfo t1, bdo_adu.adu_base_fileinfo_tbl t2, bdo_adu.adu_base_tableinfo_tbl t3, bdo_adu.adu_report_table_code_tbl t4, ( SELECT max(filedate) filedate, filedetailinfoid FROM bdo_adu.adu_base_fileinfo_tbl WHERE filedetailinfoid = ( SELECT max(id) FROM bdo_adu.adu_report_filedetailinfo WHERE reportnumber = {reportNumber} )) t5 WHERE t1.reportnumber = {reportNumber} AND t1.id = t2.filedetailinfoid AND t2.id = t3.fileinfoid AND t3.tablename = t4.table_name AND t1.id = t5.filedetailinfoid AND t2.filedate = t5.filedate
FA20137=SELECT t2.FINALACCRUAL columnn1, t2.OPENACCRUAL columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_REPORT_PROINCSTATEMENT_TBL t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid =  {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV ={tableDiv} ORDER BY t3.line_num
FA20138=SELECT t2.FINALACCRUAL columnn1, t2.OPENACCRUAL columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_proincstatementmerge_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20139=SELECT t2.FINALBALA columnn1, t2.OPENBALA columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_probalsheet_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20140=SELECT t2.FINALBALA columnn1, t2.OPENBALA columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_probalsheet_after_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20141=SELECT t2.FINALBALA columnn1, t2.OPENBALA columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_probalsheetmerge_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20142=SELECT t2.FINALBALA columnn1, t2.OPENBALA columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_probalsheetmerge_after_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20143=SELECT t2.FINALACCRUAL columnn1, t2.OPENACCRUAL columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_procfstatement_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20144=SELECT t2.FINALACCRUAL columnn1, t2.OPENACCRUAL columnn2, t3.column_code columnn0, t3.item_name columnName FROM bdo_adu.adu_base_tableinfo_tbl t1, bdo_adu.adu_report_procfstatementmerge_tbl t2, bdo_adu.adu_report_item_code_tbl t3 WHERE t1.fileinfoid = {fileId} AND t1.id = t2.tableinfoid AND t2.asset_item_code = t3.item_code AND t3.title_flg = 0 AND t3.TABLE_DIV = {tableDiv} ORDER BY t3.line_num
FA20145=SELECT c.reportNumber FROM bdo_cus.cus_customerinfo a INNER JOIN asdb.z_project b ON a.restCustomerId = {companyId} AND a.customerId = b.CustomerId AND b.AuditPara = '\u5E74\u62A5\u5BA1\u8BA1' AND b.financeReportType = {monoOrMerge} INNER JOIN asdb.z_reportlinknum c ON b.ProjectID = c.projectid AND c.reportYear = {reportYear}
FA20146=SELECT DISTINCT a.restCustomerId FROM bdo_cus.cus_customerinfo a INNER JOIN asdb.z_project b ON a.restCustomerId > 0 AND a.customerId = b.CustomerId AND b.AuditPara = '\u5E74\u62A5\u5BA1\u8BA1' INNER JOIN asdb.z_reportlinknum c ON b.ProjectID = c.projectid AND c.reportYear = {reportYear}
FA20147=SELECT d.departname,d.firstItemName FROM bdo_cus.cus_customerinfo a INNER JOIN asdb.z_project b ON a.restCustomerId = {companyId} AND a.customerId = b.CustomerId AND b.AuditPara = '\u5E74\u62A5\u5BA1\u8BA1' AND b.financeReportType = {monoOrMerge} INNER JOIN asdb.z_reportlinknum c ON b.ProjectID = c.projectid AND c.reportYear = {reportYear} INNER JOIN bdo_base.base_department d ON b.departmentid = d.autoid
FA20148=SELECT COUNT(companyid) AS count   FROM bdo_cus.cus_customerinfo_basic_ext  WHERE firstItemName = {param3} AND {param4} + 0 >= {param1} AND {param4} + 0 < {param2}
FA20149=SELECT COUNT(a.companyId) AS count FROM bdo_wind.wind_company_industry a WHERE a.companyId IN ( SELECT companyid FROM bdo_cus.cus_customerinfo_basic_ext WHERE firstItemName = {param3} AND {param4} + 0 >= {param1} AND {param4} + 0 < {param2} ) AND a.reportDate = '2017-12-31' 
FA20150=SELECT b.className, COUNT(a.companyId) AS count FROM bdo_wind.wind_company_industry a, bdo_wind.wind_defindustry b WHERE a.companyId IN ( SELECT companyid FROM bdo_cus.cus_customerinfo_basic_ext WHERE firstItemName = {param3} AND {param4} + 0 >= {param1} AND {param4} + 0 < {param2} ) AND a.reportDate = '2017-12-31' AND a.firstClassGB = b.classCode GROUP BY a.firstClassGB ORDER BY count DESC LIMIT 3
#FA20151=SELECT GROUP_CONCAT(a.subjectId) AS subjectIds FROM bdo_fin.fin_accpkgsubject a WHERE a.customerId = {param1} AND a.yyyy = {param2} AND a.parentSubjectId IN({param3})
#\u675C\u90A6\u5206\u6790
FA20152=SELECT tableCol AS columnName,columnNameChi,isTitle FROM bdo_wind.wind_defcolumn WHERE isTitle IN (0,1) AND tableName = '{tableName}' AND ACTIVE_FLAG = 1 ORDER BY id ASC
FA20153=SELECT columnName,columnNameChi,tableCol,isTitle,columnNameDisp FROM bdo_wind.wind_defcolumn WHERE isTitle IN (0,1) AND tableName = '{tableName}' AND ACTIVE_FLAG = 1 ORDER BY id ASC
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE\u6700\u5927id
FA30030=SELECT MAX(colCode) AS colCode FROM asdb.k_reportcolumn  WHERE colCode LIKE '{param1}%'
FA30049=SELECT MAX(colCode) AS colCode FROM asdb.k_reportcolumn  WHERE colCode LIKE '{param1}%' AND parentId is null
#\u6807\u51C6\u79D1\u76EE\u7236\u7EA7\u9009\u9879
FA30031=SELECT '' AS value,'' AS label   UNION  SELECT colCode AS value,colName AS label  FROM asdb.k_reportcolumn WHERE  departId=0 AND customerId=0 AND colCode LIKE '{param1}%'
#\u62A5\u8868\u79D1\u76EE\u7EF4\u62A4\u6839\u636EparentId\u67E5\u8BE2\u540D\u79F0
FA30050=SELECT a.colCode AS value, a.colName AS label FROM asdb.k_reportcolumn a WHERE a.departId = 0 AND a.customerId = 0 AND a.colCode = '{param1}' ORDER BY a.subjectType, a.colCode
#\u67E5\u8BE2\u4F59\u989D\u8868\u548C\u5916\u5E01\u4F59\u989D\u8868\u671F\u521D\u91D1\u989D\u4E0D\u76F8\u7B49\u7684\u6570\u636E
#FA30051=SELECT t1.customerId,t1.subYearMonth,t1.subMonth,t1.subjectId,t1.debitRemain,t1.creditRemain,t2.debitRemainF,t2.creditRemainF FROM (SELECT t1.customerId,t1.subYearMonth,t1.subMonth,t1.subjectId,t1.debitRemain,t1.creditRemain FROM bdo_fin.fin_account t1 WHERE t1.customerId = {lockCustomerId} AND t1.subYearMonth = {param2} /*START #param3# AND t1.subjectId like '{param3}%' #param3# END*/ AND t1.subMonth = 1 AND t1.isLeaf1 = 1) t1,(SELECT t1.customerId,t1.subYearMonth,t1.subMonth,t1.subjectId,SUM(t1.debitRemainF) debitRemainF,SUM(t1.creditRemainF) creditRemainF FROM bdo_fin.fin_accountall t1 WHERE t1.customerId = {lockCustomerId} AND t1.subYearMonth = {param2} /*START #param3# AND t1.subjectId like '{param3}%' #param3# END*/ AND t1.subMonth = 1 AND t1.isLeaf1 = 1 GROUP BY t1.subjectId) t2 WHERE t1.customerId = t2.customerId AND t1.subYearMonth = t2.subYearMonth AND t1.subMonth = t2.subMonth AND t1.subjectId = t2.subjectId /*START #param4# AND (t1.debitRemain <> t2.debitRemainF OR t1.creditRemain <> t2.creditRemainF) #param4# END*/
#\u67E5\u8BE2\u4F59\u989D\u8868\u501F\u8D37\u65B9\u5411\u4FEE\u6B63
#FA30052=select t1.customerId,t1.subYearMonth,t1.subjectId,t1.accName,t1.dataName,t1.direction,sum(case when t1.subMonth = 1 then t1.debitRemain else 0 end) as debitRemain,sum(case when t1.subMonth = 1 then t1.creditRemain else 0 end) as creditRemain,sum(t1.debitOcc) as debitOcc,sum(t1.creditOcc) as creditOcc,sum(case when t1.subMonth = 12 then t1.balance else 0 end) as balance from bdo_fin.fin_account t1 where t1.customerId = {lockCustomerId} and t1.subYearMonth = {param2} /*START #param3# AND t1.subjectId = '{param3}' #param3# END*/ and t1.level1 = 1 group by t1.customerId,t1.subYearMonth,t1.subjectId,t1.accName,t1.dataName,t1.direction
#\u67E5\u8BE2\u6240\u6709\u79D1\u76EE
#FA30053=select t1.customerId,t1.yyyy AS subYearMonth,t1.subjectId,t1.subjectFullId,IFNULL(t1.direction,0) AS direction,t1.isLeaf from bdo_fin.fin_accpkgsubject t1 where t1.customerId = {param1} and t1.yyyy = {param2} and (t1.subjectFullId like '{param3}/%' or t1.subjectFullId = {param3})
#\u67E5\u8BE2\u6240\u6709\u6838\u7B97\u79D1\u76EE
##FA30054=SELECT DISTINCT t1.customerId, t1.yyyy AS subYearMonth, t1.accId AS subjectId, IFNULL(t1.direction, 0) AS direction FROM bdo_fin.fin_assitem t1, (SELECT t2.subjectId FROM bdo_fin.fin_accpkgsubject t2 WHERE t2.customerId = {param1} AND t2.yyyy = {param2} AND (t2.subjectFullId LIKE '{param3}/%' OR t2.subjectFullId = {param3})) t2 WHERE t1.customerId = {param1} AND t1.yyyy = {param2} AND t1.accId = t2.subjectId
#\u67E5\u8BE2\u5F02\u5E38\u6307\u6807
FA30055=SELECT {param1} FROM (SELECT {param2} FROM ((SELECT '\u4E0A\u671F' AS title,0 AS bCol5,{param13} FROM bdo_wind.wind_quota WHERE companyId = {param5} AND periodStandard = 2 AND reportDate = '{param8}') UNION (SELECT '\u672C\u671F' AS title,(SELECT a.auditAmount AS bCol5 FROM bdo_hb.hb_mergesummary a LEFT JOIN bdo_dg.dg_project b ON b.customerId=a.customerId AND b.projectId=a.projectId LEFT JOIN asdb.k_reporttemplate k ON k.colCode=a.subjectId AND k.colDisp=a.subjectName AND k.vocationId=b.tbReportTemplate WHERE a.customerId={param11} AND a.projectId={param12} AND a.mergeProjectId={param12} AND a.summaryType>1 AND a.year={param14} AND LOCATE(',ACCT_RCV,',k.columnName)>0) AS bCol5,{param13} FROM bdo_wind.wind_reportquota WHERE customerId={param11} AND projectId={param12} AND quotaType=1) UNION (SELECT '\u884C\u4E1A' AS title,0 AS bCol5,{param4} FROM bdo_wind.wind_industry_quota b LEFT JOIN bdo_wind.wind_company_industry c ON c.companyId = {param5} AND c.reportDate = b.reportDate AND c.stock_palte = b.stock_palte WHERE b.programCode = '{param6}' AND b.periodStandard = 2 AND b.reportDate = '{param10}' ORDER BY c.id DESC,b.stock_palte DESC LIMIT 1)) a) a
#\u67E5\u8BE2\u884C\u4E1A\u6307\u6807
FA30056=SELECT {param1} FROM bdo_wind.wind_industry_quota b LEFT JOIN bdo_wind.wind_company_industry c ON c.companyId = {param4} AND c.reportDate = b.reportDate AND c.stock_palte = b.stock_palte WHERE b.programCode = '{param2}' AND b.periodStandard = 2 AND b.reportDate = '{param3}' ORDER BY c.id DESC,b.stock_palte DESC LIMIT 1
#\u67E5\u8BE2\u5355\u4F53\u521D\u6B65\u5206\u6790\u6027\u590D\u6838\u5F02\u5E38\u6307\u6807
FA30085=SELECT {param1} FROM (SELECT {param2} FROM ((SELECT '\u4E0A\u671F' AS title,0 AS bCol5,{param13} FROM bdo_wind.wind_quota WHERE companyId = {param5} AND periodStandard = 2 AND reportDate = '{param8}') UNION (SELECT '\u672C\u671F' AS title,(SELECT a.unAuditAmount AS bCol5 FROM bdo_dg.dg_unauditreport a WHERE a.customerId = {param11} AND a.projectId = {param12} AND a.yyyy = {param14} AND LOCATE(',ACCT_RCV,', a.columnName)>0) AS bCol5,{param13} FROM bdo_wind.wind_reportquota WHERE customerId={param11} AND projectId={param12} AND quotaType=1) UNION (SELECT '\u884C\u4E1A' AS title,0 AS bCol5,{param4} FROM bdo_wind.wind_industry_quota b LEFT JOIN bdo_wind.wind_company_industry c ON c.companyId = {param5} AND c.reportDate = b.reportDate AND c.stock_palte = b.stock_palte WHERE b.programCode = '{param6}' AND b.periodStandard = 2 AND b.reportDate = '{param10}' ORDER BY c.id DESC,b.stock_palte DESC LIMIT 1)) a) a
#\u67E5\u8BE2\u5355\u4F53\u6700\u7EC8\u5206\u6790\u6027\u590D\u6838\u5F02\u5E38\u6307\u6807
FA30086=SELECT {param1} FROM (SELECT {param2} FROM ((SELECT '\u4E0A\u671F' AS title,0 AS bCol5,{param13} FROM bdo_wind.wind_quota WHERE companyId = {param5} AND periodStandard = 2 AND reportDate = '{param8}') UNION (SELECT '\u672C\u671F' AS title,(SELECT a.adjustedAmount AS bCol5 FROM bdo_dg.dg_unauditreport a WHERE a.customerId = {param11} AND a.projectId = {param12} AND a.yyyy = {param14} AND LOCATE(',ACCT_RCV,', a.columnName)>0) AS bCol5,{param13} FROM bdo_wind.wind_reportquota WHERE customerId={param11} AND projectId={param12} AND quotaType=1) UNION (SELECT '\u884C\u4E1A' AS title,0 AS bCol5,{param4} FROM bdo_wind.wind_industry_quota b LEFT JOIN bdo_wind.wind_company_industry c ON c.companyId = {param5} AND c.reportDate = b.reportDate AND c.stock_palte = b.stock_palte WHERE b.programCode = '{param6}' AND b.periodStandard = 2 AND b.reportDate = '{param10}' ORDER BY c.id DESC,b.stock_palte DESC LIMIT 1)) a) a
#\u67E5\u8BE2\u5BA2\u6237TB\u662F\u5426\u5B58\u5728
FA40015=SELECT 1 FROM asdb.k_subjecttb WHERE customerId ={customerId}
#\u62A5\u8868\u9879\u6A21\u677F\u5185\u5BB9\u67E5\u8BE2
FA40016=SELECT colCode as subjectCode,colDisp as reportDispName,calFun FROM asdb.k_reporttemplate WHERE vocationId = {param3} /*START #param5#  AND tableDiv='{param5}' #param5#  END*/ ORDER BY sortNo 
#\u62A5\u8868\u9879\u6A21\u677F\u5934
FA40017=SELECT '{param1}' as customerName,{param2} as yyyy, '{param4}' as templateName FROM DUAL
#\u5BA2\u6237\u62A5\u8868\u6A21\u677F\u4E0B\u62C9\u6846
FA40018=SELECT a.autoId AS value, a.ruleName AS label FROM asdb.k_ruleacc a where a.autoId in (SELECT DISTINCT vocationId FROM asdb.k_subjecttb WHERE customerId = {param1}) ORDER BY a.sortNo 
#\u90E8\u95E8\u62A5\u8868\u6A21\u677F\u4E0B\u62C9\u6846
FA40019=SELECT a.autoId AS VALUE, a.ruleName AS label FROM asdb.k_ruleacc a WHERE a.autoId IN (SELECT DISTINCT vocationId FROM asdb.k_subjecttb WHERE departmentId = {param3}) ORDER BY a.sortNo
#\u67E5\u8BE2\u5BA2\u6237\u8BBE\u7F6E\u7684\u6A21\u677F
FA40020=SELECT a.autoId AS VALUE, a.ruleName AS label FROM asdb.k_ruleacc a WHERE a.autoId IN (SELECT DISTINCT vocationId FROM dg_customertemplaterel WHERE customerId = {param1} AND yyyy={param2}) ORDER BY a.sortNo
#\u67E5\u8BE2TB\u79D1\u76EE\u548C\u62A5\u8868\u9879(\u6309\u90E8\u95E8\u67E5\u8BE2)
FA40023=SELECT a.autoId AS tbId, a.subjectName AS tbSubjectName, a.subjectCode, a.reportSubjectCode AS reportSubjectId, b.colName AS reportSubjectName, LEFT(subjectType1, 1) AS subjectType1, IF( LENGTH(subjectType1) >= 3, LEFT(subjectType1, 3), '' ) AS subjectType2 FROM asdb.k_subjecttb a LEFT JOIN asdb.k_reportcolumn b ON a.reportSubjectCode = b.colCode WHERE a.customerId = 0 AND a.vocationId = {param2} AND a.departmentId = {param3} ORDER BY a.sortNo
#\u67E5\u8BE2TB\u79D1\u76EE\u548C\u62A5\u8868\u9879\uFF08\u6309\u5BA2\u6237\u67E5\u8BE2\uFF09
FA40024=SELECT a.autoId AS tbId, a.subjectName AS tbSubjectName, a.subjectCode, a.reportSubjectCode AS reportSubjectId, b.colName AS reportSubjectName, LEFT(subjectType1, 1) AS subjectType1, IF( LENGTH(subjectType1) >= 3, LEFT(subjectType1, 3), '' ) AS subjectType2 FROM asdb.k_subjecttb a LEFT JOIN asdb.k_reportcolumn b ON a.reportSubjectCode = b.colCode WHERE a.customerId = {param1} AND a.vocationId = {param2} ORDER BY a.sortNo
#\u6A21\u677F\u67E5\u8BE2
FA40026=SELECT a.autoId, a.vocationId, a.colCode,a.qyReportColumn, a.colDisp,a.columnName,a.profitReferences,d.colName AS colName, b.subjectTypeId, b.subjectTypeName, a.calFun, a.sortNo, c.TABLE_NAME AS tableName, a.tableDiv FROM asdb.k_reporttemplate a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType LEFT JOIN asdb.k_report_table_code_tbl c ON a.tableDiv=c.tableDiv LEFT JOIN asdb.k_reportcolumn d ON a.colCode = d.colCode WHERE a.vocationId = {param1} /*START #param2# AND a.tableDiv IN ({param2}) #param2# END*/ /*START #param3# AND a.tableDiv = {param3} #param3# END*/ ORDER BY a.sortNo, a.sortCode
#\u62A5\u8868\u9879\u76EE\u67E5\u8BE2
FA40027=select colCode,colName,direction,subjectType from asdb.k_reportcolumn where colCode in({colCodes})
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE
FA40028=SELECT a.autoId,a.isShow,a.departId,a.customerId,a.parentId AS parentId, a.colCode AS subjectId, a.colName AS subjectName, a.subjectType AS subjectType1, b.subjectTypeName AS subjectTypeName1,a.direction, a.ACTIVE_FLAG FROM asdb.k_reportcolumn a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType where a.departId = 0 and a.customerId = 0 ORDER BY a.subjectType,a.colCode
#\u67E5\u8BE2\u6307\u5B9A\u6A21\u677F\u7684\u79D1\u76EE
FA40029=SELECT autoId,vocationId,colCode,colName,colDisp,subjectType1,subjectType,isSubject,direction,calFun,sortNo FROM asdb.v_reporttemplate WHERE vocationId={vocationId} AND isSubject = 1  AND tableDiv IN (1,2,3) order by sortNo
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE\u5305\u542B\u5BA2\u6237\u81EA\u5B9A\u4E49
FA40030=SELECT * FROM ( SELECT a.autoId, a.departId, a.customerId, a.colCode AS subjectId, a.colName AS subjectName, a.subjectType AS subjectType1, b.subjectTypeName AS subjectTypeName1,a.direction, a.ACTIVE_FLAG FROM asdb.k_reportcolumn a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType WHERE a.customerId = {param1} UNION SELECT a.autoId, a.departId, a.customerId, a.colCode AS subjectId, a.colName AS subjectName, a.subjectType AS subjectType1, b.subjectTypeName AS subjectTypeName1,a.direction, a.ACTIVE_FLAG FROM asdb.k_reportcolumn a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType WHERE a.departId = 0 AND a.customerId = 0 ) aa ORDER BY  aa.customerId desc,aa.subjectType1,aa.subjectId
#\u67E5\u8BE2tb\u6A21\u677F\u79D1\u76EE
FA40031=SELECT a.autoId, a.tbVocationId, a.tbSubjectId, a.tbSubjectName, b.subjectTypeId, b.subjectTypeName, a.calFun, a.isSubject, a.sortNo, tbr.departId FROM asdb.k_tbtemplate a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType LEFT JOIN asdb.k_tbruleacc tbr ON tbr.autoId = a.tbvocationId WHERE a.tbvocationId = {param1} ORDER BY a.sortNo ASC 
#\u67E5\u8BE2\u521A\u521A\u63D2\u5165\u7684id
FA40032=SELECT LAST_INSERT_ID() AS lastId
#\u67E5\u8BE2\u6A21\u677F\u5BF9\u7167
FA40033=SELECT * FROM ( SELECT tbTemplateId, t1.ruleName AS tbTemplateName, vocationId, t2.ruleName AS reportTemplateName, CONCAT( ROUND( COUNT(reportSubjectCode) / t.tbCount * 100, 1 ), "%" ) compared, t1.departId FROM asdb.k_subjecttb INNER JOIN asdb.k_tbtemplate t3 ON t3.tbsubjectid = subjectCode AND t3.tbvocationid = tbTemplateId LEFT JOIN (SELECT tbvocationid, COUNT(tbsubjectid) AS tbCount FROM asdb.k_tbtemplate WHERE isSubject = 1 GROUP BY tbvocationid) t ON t.tbvocationid = tbTemplateId LEFT JOIN asdb.k_tbruleacc t1 ON tbTemplateId = t1.autoId LEFT JOIN asdb.k_ruleacc t2 ON vocationId = t2.autoId WHERE 1 = 1 /*START #param1# AND t1.departId = {param1} #param1# END*/ /*START #param2# AND tbTemplateId = {param2} #param2# END*/ GROUP BY tbTemplateId, vocationId UNION SELECT tbTemplateId, t1.ruleName AS tbTemplateName, vocationId, t2.ruleName AS reportTemplateName, CONCAT( ROUND( COUNT(reportSubjectCode) / t.tbCount * 100, 1 ), "%" ) compared, t1.departId FROM asdb.k_subjecttb INNER JOIN asdb.k_tbtemplate t3 ON t3.tbsubjectid = subjectCode AND t3.tbvocationid = tbTemplateId LEFT JOIN (SELECT tbvocationid, COUNT(tbsubjectid) AS tbCount FROM asdb.k_tbtemplate WHERE isSubject = 1 GROUP BY tbvocationid) t ON t.tbvocationid = tbTemplateId LEFT JOIN asdb.k_tbruleacc t1 ON tbTemplateId = t1.autoId LEFT JOIN asdb.k_ruleacc t2 ON vocationId = t2.autoId WHERE t1.departId = '555555' /*START #param2# AND tbTemplateId = {param2} #param2# END*/ GROUP BY tbTemplateId, vocationId) a WHERE a.vocationId > ''
#\u67E5\u8BE2tb\u79D1\u76EE
FA40035=SELECT a.autoId AS tbId, a.calFun as cusCal, c.tbsubjectName AS tbSubjectName, a.subjectCode, a.reportSubjectCode AS reportSubjectId, TRIM(b.colDisp) AS reportSubjectName, LEFT (subjectType1, 1) AS subjectType1, IF ( LENGTH(subjectType1) >= 3, LEFT (subjectType1, 3), '' ) AS subjectType2, c.calFun, c.isSubject, c.sortNo AS sortNo FROM asdb.k_subjecttb a LEFT JOIN asdb.k_reporttemplate b ON a.reportSubjectCode = b.colCode AND a.vocationId = b.vocationId LEFT JOIN asdb.k_tbtemplate c ON a.subjectcode = c.tbsubjectid AND a.tbtemplateid = c.tbvocationid WHERE a.vocationId = {vocationId} AND a.tbtemplateid = {tbtemplateid} ORDER BY c.sortNo
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F \u62A5\u8868\u9879\u540D\u79F0
FA40036=SELECT t1.colCode AS reportSubjectId, t2.colName AS reportSubjectName, t1.tableDiv from asdb.k_reporttemplate t1 INNER JOIN asdb.k_reportcolumn t2 ON t1.colCode = t2.colCode WHERE t1.vocationId={reportTemplateId} AND t1.tableDiv IN ({tablediv})
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE\u5BF9\u7167\u5173\u952E\u5B57
FA40037=SELECT t.userSubjectKey, t.baseSubjectKey FROM ( SELECT b.subjectName AS baseSubjectKey, TRIM( REPLACE ( CONCAT(b.subjectName, ''), a.key1, a.key2 )) AS userSubjectKey FROM asdb.k_basesubjectContractkey a INNER JOIN ( SELECT subjectName FROM asdb.k_subject ) b ON b.subjectName LIKE CONCAT('%', a.key1, '%')) t GROUP BY t.userSubjectKey
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F\u7684\u79D1\u76EE
FA40038=SELECT t.columnName,t.profitReferences, t.autoId, t.vocationId, t.colCode, t.colDisp, t.calFun, t.subjectType, t.sortCode, t.tableDiv, t.sortNo, t.ACTIVE_FLAG FROM asdb.k_reporttemplate AS t WHERE t.vocationId = {vocationId} ORDER BY t.sortNo ASC
#\u67E5\u8BE2\u62A5\u8868\u9644\u6CE8
FA40039=SELECT t.autoId, t.noteNo, t.noteName, t.colCode, t.colName, t.fileName, t.reportTplID, t.ACTIVE_FLAG, t1.ruleName,t.isChange FROM asdb.k_noteinfo AS t LEFT JOIN asdb.k_ruleacc t1 ON t.reportTplID = t1.autoId WHERE 1 = 1 /*START #param1# AND reportTplID = {param1} #param1# END*/ ORDER BY t.sortNo ASC
#\u67E5\u8BE2\u62A5\u8868\u9644\u6CE8\u6700\u5927\u7F16\u53F7
FA40040=SELECT CONCAT(max(t.noteNo) + 1 , '') AS maxNo FROM asdb.k_noteinfo AS t WHERE LEFT(noteNo, 4) = {param1}
#\u6309\u7167\u62A5\u8868\u5BF9\u7167
FA40041=SELECT t1.colCode, t1.colDisp, GROUP_CONCAT(t2.tbSubject) AS tbSubject, t3.already ,t2.calFun FROM asdb.k_reporttemplate t1 LEFT JOIN ( SELECT CONCAT( subjectCode, '-', subjectName ) tbSubject, reportSubjectCode,calFun FROM asdb.k_subjecttb WHERE vocationId = {param2} AND tbTemplateId = {param1} ) t2 ON t1.colCode = t2.reportSubjectCode LEFT JOIN ( SELECT COUNT(reportSubjectCode) already, vocationId  FROM asdb.k_subjecttb WHERE vocationId = {param2} AND tbTemplateId = {param1} ) t3 ON t1.vocationId = t3.vocationId WHERE t1.vocationId = {param2} GROUP BY t1.colCode ORDER BY t1.sortNo
#\u62A5\u5907\u6A21\u677F\u5B57\u6BB5\u4FE1\u606F
FA40042=SELECT a.autoId, a.fieldName, a.fieldPosition FROM asdb.k_reportfieldinfo a WHERE a.reportTplID = {param1} AND a.kNoteId = {param2} AND a.noteNo = '{param3}'
#\u62A5\u8868\u6A21\u677F
FA40044=SELECT a.colCode, TRIM(a.colDisp) AS colDisp FROM asdb.k_reporttemplate a WHERE a.vocationId = {param1} ORDER BY a.sortNo
#TRIM\u67E5\u8BE2\u62A5\u8868\u9879\u540D\u79F0
FA40045=SELECT a.colCode, TRIM(a.colDisp) AS colDisp FROM asdb.k_reporttemplate a WHERE a.vocationId = {param1} AND TRIM(a.colDisp) = '{param2}'
#LEFT JOIN ( SELECT COUNT( reportSubjectCode ) already, vocationId, CONCAT( subjectCode, '-', subjectName ) AS tbSubject FROM asdb.k_subjecttb WHERE vocationId = {param2} AND tbTemplateId = {param1} ) t3 ON t1.vocationId = t3.vocationId
FA40046=SELECT t1.colCode, t1.colDisp, GROUP_CONCAT(t2.tbSubject) AS tbSubject, t2.cusCalFun FROM asdb.k_reporttemplate t1 LEFT JOIN ( SELECT CONCAT( tbSubjectId, '-', tbSubjectName ) tbSubject, reportSubjectId, cusCalFun FROM bdo_dg.dg_projecttb WHERE customerId =  {param5}  AND projectId = {param6}) t2 ON t1.colCode = t2.reportSubjectId WHERE t1.vocationId = {param2} GROUP BY t1.colCode ORDER BY sortNo
#\u67E5\u8BE2\u6A21\u677F\u4E00\u89C8
#FA40047=SELECT autoId, departId, customerId, ruleName, remark, sortNo, DATE_FORMAT(CREATION_DATE, '%Y-%m-%d %T') AS CREATION_DATE, CREATED_BY, DATE_FORMAT(LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, LAST_UPDATED_BY, ACTIVE_FLAG FROM asdb.k_tbruleacc WHERE 1=1 AND departId = {param4} AND ACTIVE_FLAG = 1/*START #param1# AND ruleName like '%{param1}%' #param1# END*/ /*START #param2# AND remark like '%{param2}%' #param2# END*/ /*START #param3# AND CREATED_BY = '{param3}' #param3# END*/ ORDER BY CREATION_DATE DESC
FA40047=SELECT * FROM ( SELECT autoId, departId, customerId, ruleName, remark, sortNo, DATE_FORMAT(CREATION_DATE, '%Y-%m-%d %T') AS CREATION_DATE, CREATED_BY, DATE_FORMAT(LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, LAST_UPDATED_BY, ACTIVE_FLAG FROM asdb.k_tbruleacc WHERE 1 = 1 AND departId = {param4} AND ACTIVE_FLAG = '1' /*START #param1# AND ruleName like '%{param1}%' #param1# END*/ /*START #param2# AND remark like '%{param2}%' #param2# END*/ /*START #param3# AND CREATED_BY = '{param3}' #param3# END*/ UNION SELECT autoId, departId, customerId, ruleName, remark, sortNo, DATE_FORMAT(CREATION_DATE, '%Y-%m-%d %T') AS CREATION_DATE, CREATED_BY, DATE_FORMAT(LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, LAST_UPDATED_BY, ACTIVE_FLAG FROM asdb.k_tbruleacc WHERE 1 = 1 AND departId = '555555' AND ACTIVE_FLAG = '1' /*START #param1# AND ruleName like '%{param1}%' #param1# END*/ /*START #param2# AND remark like '%{param2}%' #param2# END*/ /*START #param3# AND CREATED_BY = '{param3}' #param3# END*/ ) a ORDER BY a.CREATION_DATE DESC 
#\u9644\u6CE8\u521D\u59CB\u5316\u5339\u914D\u5E95\u7A3F\u4FE1\u606F
FA40048=SELECT a.autoId, a.noteNo, a.noteName, a.noteSheetIndex, a.noteRowNum, a.noteColNum, a.dgIndexId, a.dgName, a.dgSheetIndex, a.dgRowIndex, a.dgColIndex, a.dgRangeStr FROM asdb.k_notematchdg a WHERE a.reportTplID = {param1} AND a.noteNo = '{param2}'
#\u5BA1\u8BA1\u7A0B\u5E8F
FA40049=SELECT a.autoId, a.subjectId, a.subjectName, a.dgName, a.indexId FROM asdb.k_auditprogram a WHERE a.departmentId = 555555 ORDER BY a.indexId 
#\u67E5\u8BE2\u62A5\u5907\u6A21\u677F\u4E00\u89C8
FA40050=SELECT a.autoId, a.ruleType, a.must, a.ruleName, a.remark, a.fileName, a.fullPath, a.reportType, b.attributeName as ruleTypeName, DATE_FORMAT(a.CREATION_DATE, '%Y-%m-%d %T') AS CREATION_DATE, a.CREATED_BY, DATE_FORMAT(a.LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, a.LAST_UPDATED_BY, a.ACTIVE_FLAG FROM asdb.k_bbruleacc a left join bdo_base.base_dic b on a.ruleType = b.attributeValue1 and b.attributetype = '\u62A5\u5907\u6A21\u677F\u7C7B\u578B' WHERE 1 = 1 AND a.ACTIVE_FLAG = '1' /*START #param1# AND a.ruleName like '%{param1}%' #param1# END*/ /*START #param2# AND a.remark like '%{param2}%' #param2# END*/ /*START #param3# AND a.CREATED_BY = '{param3}' #param3# END*/ /*START #param4# AND a.ruleType = '{param4}' #param4# END*/ ORDER BY a.CREATION_DATE DESC 
#\u67E5\u8BE2\u62A5\u5907\u6A21\u677F\u4E0B\u62C9
FA40051=SELECT '' AS iconCls, 'file' AS cls, '' AS parentId, 'true' AS leaf, a.autoId AS id, a.autoId AS VALUE, a.ruleName AS label FROM asdb.k_bbruleacc a WHERE a.ACTIVE_FLAG = '1' /*START #param18# AND a.autoId = '{param18}' #param18# END*/ /*START #param19# AND a.ruleName like '%{param19}%' #param19# END*/ ORDER BY a.LAST_UPDATE_DATE DESC 
#\u67E5\u8BE2\u62A5\u5907\u6A21\u677F\u79D1\u76EE
FA40052=SELECT a.autoId, a.bbVocationId, a.bbSubjectId, a.bbSubjectName, b.subjectTypeId, b.subjectTypeName, a.calFun, a.isSubject, a.sortNo, a.tableDiv as tableDivCode, c.TABLE_NAME as tableDiv, tbr.ruleType, a.bbSubjectNameDisp FROM asdb.k_bbtemplate a LEFT JOIN asdb.k_subjecttype b ON b.subjectTypeId = a.subjectType LEFT JOIN asdb.k_bbruleacc tbr ON tbr.autoId = a.bbvocationId LEFT JOIN asdb.k_report_table_code_tbl c ON a.tableDiv = c.tableDiv WHERE a.bbvocationId = {param1} /*START #param2# AND a.tableDiv = '{param2}' #param2# END*/ ORDER BY a.sortNo ASC 
#\u67E5\u8BE2\u62A5\u5907\u6A21\u677F
FA40053=SELECT a.autoId AS value, a.ruleName AS label FROM asdb.k_bbruleacc a WHERE a.ACTIVE_FLAG = '1' ORDER BY a.LAST_UPDATE_DATE DESC  
#\u67E5\u8BE2\u6A21\u677F\u5BF9\u7167
FA40054=SELECT t4.bbTemplateId, t1.ruleName AS bbTemplateName, t4.vocationId, t2.ruleName AS reportTemplateName, CONCAT( ROUND( sum(IF(t4.reportSubjectCode is not null or t4.calFun is not null,1,0)) / t.bbCount * 100, 1 ), "%" ) compared FROM asdb.k_subjectbb t4 INNER JOIN asdb.k_bbtemplate t3 ON t3.bbsubjectid = t4.subjectCode AND t3.bbvocationid = t4.bbTemplateId LEFT JOIN (SELECT bbvocationid, COUNT(bbsubjectid) AS bbCount FROM asdb.k_bbtemplate WHERE isSubject = 1 GROUP BY bbvocationid) t ON t.bbvocationid = t4.bbTemplateId LEFT JOIN asdb.k_bbruleacc t1 ON t4.bbTemplateId = t1.autoId LEFT JOIN asdb.k_ruleacc t2 ON t4.vocationId = t2.autoId WHERE 1 = 1 /*START #param2# AND bbTemplateId = {param2} #param2# END*/ GROUP BY bbTemplateId, vocationId 
#\u67E5\u8BE2\u6307\u5B9A\u6A21\u677F\u7684\u62A5\u5907\u79D1\u76EE
FA40055=SELECT t2.autoId, t1.bbsubjectid AS subjectCode, t1.bbsubjectname AS subjectName, t2.reportSubjectCode, t2.reportSubName, t2.reportcolName, t2.subjectType1, t2.subjectTypeName, t2.vocationId, t2.ACTIVE_FLAG, t1.sortNo, t2.bbTemplateId, t1.isSubject, t1.tableDiv, t3.TABLE_NAME as tableName, t2.mulReportSubjectCode, t2.mulReportSubjectName, t2.calFun FROM asdb.k_bbtemplate t1 LEFT JOIN ( SELECT a.autoId, a.subjectCode, a.subjectName, a.reportSubjectCode, d.colDisp AS reportSubName, b.colName AS reportcolName, a.subjectType1, c.subjectTypeName, a.vocationId, a.ACTIVE_FLAG, a.sortNo, a.bbTemplateId, a.mulReportSubjectCode, a.mulReportSubjectName, a.calFun, a.tableDiv FROM asdb.k_subjectbb a LEFT JOIN asdb.k_reporttemplate d ON d.vocationId=a.vocationId AND a.reportSubjectCode=d.colCode and d.tableDiv = a.tableDiv LEFT JOIN asdb.k_reportcolumn b ON b.colCode = a.reportSubjectCode LEFT JOIN asdb.k_subjecttype c ON c.subjectTypeId = a.subjectType1 WHERE 1 = 1 AND a.vocationId = {param3} AND bbTemplateId = {param4} ) t2 ON t1.bbvocationid = t2.bbTemplateId AND t1.bbsubjectid = t2.subjectCode and t1.tableDiv = t2.tableDiv LEFT JOIN asdb.k_report_table_code_tbl t3 ON t1.tableDiv = t3.tableDiv WHERE bbvocationid = {param4} ORDER BY t1.sortNo ASC
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE\u6811
FA40056=select tableDiv AS id,TABLE_NAME AS label,'' AS parentid,tableDiv AS value,'false' AS leaf from asdb.k_report_table_code_tbl
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE\u6811
FA40057=select CONCAT(a.tableDiv,'-',a.colCode) AS id,a.colCode AS value,CONCAT(a.colCode,'-',a.colName) AS label,a.tableDiv AS parentid,'true' AS leaf from asdb.v_reporttemplate a WHERE a.vocationId = {param9} /*START #param1# AND a.tableDiv = '{param1}' #param1# END*/ /*START #param19# AND CONCAT(a.colCode, a.colName) LIKE '%{param19}%' #param19# END*/ ORDER BY a.sortNo
#\u67E5\u8BE2\u6743\u76CA\u8868\u6821\u9A8C
FA40058=select a.autoId,a.bbVocationId,a.column1,a.column2,a.checkFunName,a.sortNo,case when a.mergeType=1 then '\u662F' else '\u5426' end as mergeType from asdb.k_bbqycheck a where a.bbVocationId = {param1} order by a.sortNo
#\u67E5\u8BE2TB\u6A21\u677F\u5BF9\u7167\u62A5\u8868\u6A21\u677F
FA40059=SELECT * FROM ( SELECT t.tbTemplateId, t1.ruleName AS tbTemplateName, t.vocationId, t2.ruleName AS reportTemplateName, t1.departId FROM asdb.k_subjecttb t INNER JOIN asdb.k_tbtemplate t3 ON t3.tbsubjectid = t.subjectCode AND t3.tbvocationid = t.tbTemplateId LEFT JOIN asdb.k_tbruleacc t1 ON t.tbTemplateId = t1.autoId LEFT JOIN asdb.k_ruleacc t2 ON t.vocationId = t2.autoId WHERE t1.departId = {param1} AND t.tbTemplateId = {param2} GROUP BY tbTemplateId, vocationId UNION SELECT t.tbTemplateId, t1.ruleName AS tbTemplateName, t.vocationId, t2.ruleName AS reportTemplateName, t1.departId FROM asdb.k_subjecttb t INNER JOIN asdb.k_tbtemplate t3 ON t3.tbsubjectid = t.subjectCode AND t3.tbvocationid = t.tbTemplateId LEFT JOIN asdb.k_tbruleacc t1 ON t.tbTemplateId = t1.autoId LEFT JOIN asdb.k_ruleacc t2 ON t.vocationId = t2.autoId WHERE t1.departId = '555555' AND t.tbTemplateId = {param2} GROUP BY t.tbTemplateId, t.vocationId ) a WHERE a.vocationId > ''
#\u67E5\u8BE2\u90E8\u95E8\u7A0B\u5E8F\u7C7B\u578B\u6A21\u677F
FA40060=select a.autoId,a.ruleName,a.remark,a.departmentId,a.departmentId AS __ddepartmentId,a.createUser,a.createUser AS __uuserId,DATE_FORMAT(a.LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE from asdb.k_auditprogramruleacc a where 1=1 /*START #param1# AND a.ruleName like '%{param1}%' #param1# END*/ /*START #param2# AND a.createUser = {param2} #param2# END*/ /*START #param3# AND a.departmentId = {param3} #param3# END*/ order by a.departmentId,LAST_UPDATE_DATE desc
#\u67E5\u8BE2\u90E8\u95E8\u7A0B\u5E8F\u7C7B\u578B\u6A21\u677F\u79D1\u76EE
FA40061=select a.autoId,a.templateId,a.subjectId,a.subjectName from asdb.k_auditprogramsubject a where a.templateId = {param1} /*START #param2# AND a.subjectId = '{param2}' #param2# END*/ order by a.subjectId
#\u67E5\u8BE2\u79D1\u76EE\u6811
FA40062=SELECT aa.id, aa.label AS `name`, aa.label, aa.value, IF(LENGTH(aa.parentId) = 1, '', aa.parentId) as parentId, aa.leaf FROM( SELECT a.subjectId AS `id`, CONCAT(a.subjectId, '-', a.subjectFullName) AS `label`, a.subjectId AS `value`, IF( LENGTH(a.parentId) = 0, SUBSTR(a.subjectId, 1, 1), a.parentId) AS parentId, IF(a.isLeaf = 0, 'false', 'true') AS leaf FROM asdb.k_subject a WHERE a.ACTIVE_FLAG = '1' ) aa WHERE  1 = 1 /*START #param2# AND aa.parentId like '{param2}%' #param2# END*/ /*START #param19# AND aa.label LIKE '%{param19}%' #param19# END*/ ORDER BY aa.id, aa.value
#\u67E5\u8BE2\u90E8\u95E8\u7A0B\u5E8F\u7C7B\u578B\u6A21\u677F
FA40063=SELECT a.autoId AS value, a.ruleName AS label FROM asdb.k_auditprogramruleacc a WHERE a.departmentId = {param1} and a.ACTIVE_FLAG = '1' ORDER BY a.LAST_UPDATE_DATE DESC
#\u67E5\u8BE2\u90E8\u95E8\u7A0B\u5E8F\u7C7B\u578B\u6A21\u677F\u5BF9\u5E94\u7684\u5BA1\u8BA1\u7A0B\u5E8F
FA40064=SELECT b.autoId as customizeId,b.templateId,a.* FROM ( SELECT DISTINCT a.autoId, a.subjectId, a.departmentId, a.departmentId AS __ddepartmentId, b.name, a.programName, a.indexId, a.dgName, a.subjectName, a.confirmStatus, a.confirmStatusName, a.potentialRisk, a.stage, a.stageName, a.allIndustryFlag, a.industry, a.industryName, a.description, a.required, a.createUser AS __ucreateUser, a.csE, IFNULL(a.useCount, 0) AS useCount, a.csC, a.csA, a.csV, a.csP, a.sE, a.sC, a.sA, a.sV, a.sP, a.ACTIVE_FLAG, IF ( a.departmentId = 555555, '0', '1' ) AS depCustomizeFlag, a.competitiveFlag, a.userablePlate, a.allUserablePlateFlag, a.ifOtherSubject FROM asdb.k_auditprogram a LEFT JOIN bdo_base.base_company b ON a.departmentId = b.id where 1=1 /*START #param2# and a.subjectId = '{param2}' #param2# END*/) a left join asdb.k_auditprogramcustomize b on b.auditProgramId = a.autoId and a.subjectId = b.subjectId and b.templateId = {param1} WHERE a.ACTIVE_FLAG = '1' /*START #param4# and b.autoId is not null #param4# END*/ /*START #param5# and b.autoId is null #param5# END*/ order by a.indexId
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE
FA40065=SELECT a.subjectId AS value, a.subjectName AS label FROM asdb.k_subject a WHERE a.ACTIVE_FLAG = '1' ORDER BY a.subjectId
#\u67E5\u8BE2\u5BA1\u8BA1\u7A0B\u5E8F\u6A21\u677F\u4E0B\u62C9
FA40066=SELECT '' AS iconCls, 'file' AS cls, '' AS parentId, 'true' AS leaf, a.autoId AS id, a.autoId AS VALUE, a.ruleName AS label FROM asdb.k_auditprogramruleacc a WHERE a.ACTIVE_FLAG = '1' and a.departmentId = {param20} /*START #param18# AND a.autoId = '{param18}' #param18# END*/ /*START #param19# AND a.ruleName like '%{param19}%' #param19# END*/ ORDER BY a.LAST_UPDATE_DATE DESC
#\u67E5\u8BE2\u5BA1\u8BA1\u7A0B\u5E8F\u6A21\u677F
FA40067=select a.autoId,a.subjectId FROM asdb.k_auditprogram a inner join asdb.k_auditprogramcustomize b on a.autoId = b.auditprogramId where a.ACTIVE_FLAG = '1' and b.templateId = {param1}
#\u67E5\u8BE2\u5BA1\u8BA1\u7A0B\u5E8F\u6A21\u677F\u4F7F\u7528\u7684\u5176\u4ED6\u6807\u51C6\u79D1\u76EE
FA40068=select distinct a.subjectId,a.subjectName from asdb.k_subjectother a inner join asdb.k_auditprogramcustomize b on a.subjectId = b.subjectId and b.templateId = {param1}

#\u93CC\u30E8\uE1D7k_tbtemplate
FA50057=SELECT autoId, tbVocationId, tbSubjectId, tbSubjectName, isSubject, calFun, subjectType, sortCode, sortNo FROM asdb.k_tbtemplate WHERE tbVocationId = {tbVocationId}
#\u93CC\u30E8\uE1D7k_reporttemplate
FA50058=SELECT autoId, vocationId, colCode, colDisp, columnName, subjectType, calFun, sortCode, tableDiv,profitReferences sortNo FROM asdb.k_reporttemplate WHERE vocationId = {tbVocationId}
#\u93CC\u30E8\uE1D7k_subjecttb
FA50059=SELECT autoId, tbTemplateId, vocationId, customerId, departmentId, subjectCode, subjectName, reportSubjectCode, subjectType1, calFun, sortNo FROM asdb.k_subjecttb WHERE tbTemplateId = {tbVocationId}
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE\u6811
FA60005=SELECT a.colCode AS id, a.colCode AS VALUE, a.colName AS label, a.subjectType1 AS parentid, 'true' AS leaf FROM asdb.v_reporttemplate a WHERE a.isSubject= 1 AND a.vocationId = {param9} /*START #param1# AND a.subjectType1 = '{param1}' #param1# END*/ /*START #param19# AND CONCAT(a.colCode, a.colName) LIKE '%{param19}%' #param19# END*/  AND a.tableDiv in (7,9,10,11) ORDER BY a.sortNo
#\u67E5\u8BE2\u62A5\u8868\u79D1\u76EE\u662F\u5426\u5B58\u5728
FA60006=SELECT autoId,colCode,colName FROM asdb.k_reportcolumn re WHERE  re.colName = '{colName}' AND re.colCode like '{colCode}%' AND re.autoId <> {autoId} 
#\u67E5\u8BE2TB\u6A21\u677F\u8BA1\u7B97\u516C\u5F0F
FA50027=SELECT * FROM asdb.k_tbtemplate temp where calFun like CONCAT('%','{tbSubjectId}','%') AND tbVocationId = {tbTemplateId}
#\u67E5\u8BE2\u62A5\u8868\u548CTB\u79D1\u76EE\u5BF9\u7167
FA50028=SELECT * FROM asdb.k_subjecttb  where calFun like CONCAT('%','{tbSubjectId}','%') AND tbTemplateId = {tbTemplateId}
#6602\u7BA1\u7406\u8D39\u7528
#\u672A\u7533\u62A5\u8868\u5E74\u4EFD
#FA50042 = select DISTINCT(a.yyyy) from bdo_dg.dg_unauditreport a WHERE	a.customerId = {customerId} AND a.projectId = {projectId}
#\u672A\u7533\u62A5\u8868\u7684\u62A5\u8868\u6570\u636E
FA50045=SELECT w.columnNameChi,w.columnName,IFNULL(a.unAuditAmount,0) as unAuditAmount,w.tableCol FROM (SELECT columnNameChi,columnName,tableCol FROM bdo_wind.wind_defcolumn WHERE showInAbstract = 1	ORDER BY  sortNum ASC,isTitle DESC	) w LEFT JOIN (SELECT a.colDisp,a.columnName,a.unAuditAmount FROM bdo_dg.dg_unauditreport a WHERE a.customerId = {param1} AND a.projectId = {param2}) a ON CONCAT(',', a.columnName, ',') REGEXP  CONCAT(',', w.columnName, ',')
#\u5BA1\u5B9A\u62A5\u8868\u7684\u62A5\u8868\u6570\u636E
FA50046=SELECT w.columnNameChi,w.columnName,IFNULL(a.adjustedAmount,0) as adjustedAmount,w.tableCol FROM (SELECT columnNameChi,columnName,tableCol FROM bdo_wind.wind_defcolumn WHERE showInAbstract = 1	ORDER BY  sortNum ASC,isTitle DESC	) w LEFT JOIN (SELECT a.colDisp,a.columnName,a.adjustedAmount FROM bdo_dg.dg_unauditreport a WHERE a.customerId = {param1} AND a.projectId = {param2} ) a ON CONCAT(',', a.columnName, ',') REGEXP  CONCAT(',', w.columnName, ',')
#\u672A\u7533\u62A5\u8868\u7684\u4E3B\u8981\u6307\u6807
FA50047=SELECT {param1} from (select a.customerId AS customerId,a.projectId AS projectId,a.yyyy AS yyyy, {tableCol} from bdo_dg.dg_unauditreport a where a.customerId ={param2} and a.projectId={param3} group by a.customerId,a.projectId,a.yyyy) v,(SELECT '0' AS iCol1,'0' AS iCol2) vv where v.customerId ={param2} and v.projectId={param3}
#\u672A\u7533\u62A5\u8868\u7684\u675C\u90A6\u5206\u6790
FA50048=SELECT aa.columnNameChi, aa.columnName, IFNULL(bb.unAuditAmount,0) AS unAuditAmount, IFNULL(bb.adjustedAmount,0) AS adjustedAmount FROM (SELECT columnName,columnNameChi FROM bdo_wind.wind_defcolumn a WHERE a.showInDuPont=1) aa LEFT JOIN bdo_dg.dg_unauditreport bb ON CONCAT(',',bb.columnName,',') REGEXP CONCAT(',',aa.columnName,',') AND bb.customerId ={param1} AND bb.projectId = {param2}
#\u672A\u7533\u62A5\u8868\u7684\u6307\u6807\u5206\u6790\u6570\u636E
FA50049=SELECT w.columnNameChi,w.columnName,w.tableCol,IFNULL(a.unAuditAmount,0) as unAuditAmount FROM (SELECT columnNameChi,columnName,tableCol FROM bdo_wind.wind_defcolumn WHERE showInChartsData = 1	ORDER BY  sortNum ASC,isTitle DESC	) w LEFT JOIN (SELECT a.colDisp,a.columnName,a.unAuditAmount FROM bdo_dg.dg_unauditreport a WHERE a.customerId = {param1} AND a.projectId = {param2}) a ON CONCAT(',', a.columnName, ',') REGEXP  CONCAT(',', w.columnName, ',')
#\u5BA1\u5B9A\u62A5\u8868\u7684\u6307\u6807\u5206\u6790\u6570\u636E
FA50050=SELECT w.columnNameChi,w.columnName,IFNULL(a.adjustedAmount,0) as adjustedAmount FROM (SELECT columnNameChi,columnName	FROM bdo_wind.wind_defcolumn WHERE showInChartsData = 1	ORDER BY  sortNum ASC,isTitle DESC	) w LEFT JOIN (SELECT a.colDisp,a.columnName,a.adjustedAmount FROM bdo_dg.dg_unauditreport a WHERE a.customerId = {param1} AND a.projectId = {param2}) a ON CONCAT(',', a.columnName, ',') REGEXP  CONCAT(',', w.columnName, ',')
#\u884C\u4E1A\u5206\u7C7B\u6807\u51C6\u6811
FA50051=SELECT id,attributeName as label,attributeValue1 as value,attributeValue2 as parentId,IF(ISNULL(attributeValue2),'false','true')as leaf FROM bdo_base.base_dic WHERE attributetype='windIndustryStandard'
#\u516C\u53F8\u5355\u4E2A\u672A\u7533\u62A5\u8868\u6307\u6807
FA50052=select {param1} as quota from (select a.customerId AS customerId,a.projectId AS projectId,a.yyyy AS yyyy, {tableCol} from bdo_dg.dg_unauditreport a where a.customerId={param2} and a.projectId={param3} group by a.customerId,a.projectId,a.yyyy) v where customerId={param2} and projectId={param3}
#\u516C\u53F8\u5355\u4E2A\u5BA1\u5B9A\u62A5\u8868\u6307\u6807
FA50053=select {param1} as quota from (select a.customerId AS customerId,a.projectId AS projectId,a.yyyy AS yyyy,{tableCol} from bdo_dg.dg_unauditreport a where a.customerId={param2} and a.projectId={param3} group by a.customerId,a.projectId,a.yyyy) v where customerId={param2} and projectId={param3}
#\u62A5\u8868\u5206\u6790\u9ED8\u8BA4\u663E\u793A\u884C\u4E1A
FA50060=SELECT a.industryclassification,a.industryclassificationcode, a.industrycategory,a.industrycategorycode, (CASE WHEN (ISNULL(a.industrycategory)=1) || (LENGTH(trim(a.industrycategory))=0) THEN a.industryclassification ELSE a.industrycategory END)as aa, (CASE WHEN (ISNULL(a.industrycategorycode)=1) || (LENGTH(trim(a.industrycategorycode))=0) THEN CONCAT(upper(a.industryclassificationcode),'-GB') ELSE CONCAT(UPPER(a.industryclassificationcode),a.industrycategorycode,'-GB') END)as aacode FROM bdo_cus.cus_customerinfo_basic a WHERE 1 = 1 AND a.customerType != 2 and a.customerId = {param1}
#\u67E5\u8BE2\u6807\u51C6\u79D1\u76EE\u548C\u5176\u4ED6\u79D1\u76EEID
FA50063=SELECT subjectId FROM asdb.k_subject WHERE subjectName like '%{subjectName}%' UNION SELECT subjectId FROM asdb.k_subjectother WHERE subjectName like '%{subjectName}%'
#\u67E5\u8BE2\u8BE5\u516C\u53F8\u7684\u67D0\u4E2A\u6307\u6807\u503C(\u5BA1\u5B9A\u62A5\u8868)
FA50064=select FORMAT(IFNULL({param5},0),2) AS quota,'{param7}' as companyName from (select *,'365' as Days from (select a.customerId AS customerId,a.projectId AS projectId,a.yyyy AS yyyy, {tableCol} from bdo_dg.dg_unauditreport a where customerId ={param4} and projectId ={param6} group by a.customerId,a.projectId,a.yyyy) v where customerId ={param4} and projectId ={param6}) w
#\u67E5\u8BE2\u8BE5\u516C\u53F8\u7684\u67D0\u4E2A\u6307\u6807\u503C(\u5BA1\u5B9A\u62A5\u8868)
FA50066=select FORMAT(IFNULL({param5},0),2) AS quota,'{param7}' as companyName from (select *,'365' as Days from (select a.customerId AS customerId,a.projectId AS projectId,a.yyyy AS yyyy, {tableCol} from bdo_dg.dg_unauditreport a where a.customerId ={param4} and a.projectId ={param6} group by a.customerId,a.projectId,a.yyyy) v where customerId ={param4} and projectId ={param6}) w
#\u67E5\u8BE2\u62A5\u8868\u9879\u8868colCode
FA50065=SELECT colCode FROM asdb.k_reportcolumn WHERE colCode LIKE '%{colCode}%'
#\u6838\u7B97\u660E\u7EC6\u8D26\u7A7F\u900F\u51ED\u8BC1\u8BE6\u7EC6
##FA50067=SELECT a.*,'0' AS type,t.subjectFullName1 as subjectFullName from ( SELECT customerId, yyyy, subjectId, voucherId, oldvoucherId, vchDate, typeId, serail, assItemId, summary, dirction, assItemSum, currRate, currValue, currency, quantity, unitName, unitPrice, property, if(dirction =-1,assItemSum,0.00)as crebitValue, if(dirction =1,assItemSum,0.00)as debitValue, IF ( isTransferVoucher = 1, '\u662F', '\u5426' ) AS isTransferVoucher FROM bdo_fin.fin_assitementry WHERE customerId = {param1} AND voucherId = {param3} AND typeId = '{param2}' AND vchDate = '{param4}' )a LEFT JOIN bdo_fin.fin_subjectassitem t ON a.subjectId = t.subjectId and a.customerId= t.customerId and t.yyyy='{param5}' ORDER BY a.serail
#\u67E5\u8BE2\u62A5\u8868\u6A21\u677F\u540D\u79F0
FA50068=SELECT ruleName FROM asdb.k_ruleacc WHERE autoId = {autoId}
#\u67E5\u8BE2\u7ED3\u8F6C\u6216\u53D6\u6D88\u7ED3\u8F6C\u7684\u6570\u989D
##FA50069=select w.subjectId as subjectId,w.MONTH as subMonth,w.dirction as direction,sum(IFNULL(w.tranDebitTotalOccur,0)) as tranDebitOcc,SUM(IFNULL(w.tranCreditTotalOccur,0)) as tranCreditOcc,sum(IFNULL(w.tranDebitTotalCurr,0)) as tranDebitOccF,sum(IFNULL(w.tranCreditTotalCurr,0)) as tranCreditOccF from(SELECT subjectId,dirction, month, IF(dirction = 1, SUM(occurValue), 0) AS tranDebitTotalOccur, IF(dirction = - 1, SUM(occurValue), 0) AS tranCreditTotalOccur, IF(dirction = 1, SUM(currValue), 0) AS tranDebitTotalCurr, IF(dirction = - 1, SUM(currValue), 0) AS tranCreditTotalCurr FROM bdo_fin.fin_subjectentry WHERE customerId = {customerId} AND yyyy = {yyyy} AND month = {month} AND subjectId like '{subjectId}%' AND isTransferVoucher = 1 GROUP BY dirction) w
##FA50069=SELECT SUM(IF(dirction = 1, IFNULL(occurValue,0), 0)) AS tranDebitOcc, SUM(IF(dirction = - 1, IFNULL(occurValue,0), 0)) AS tranCreditOcc, SUM(IF(dirction = 1, IFNULL(currValue,0), 0)) AS tranDebitOccF, SUM(IF(dirction = - 1, IFNULL(currValue,0), 0)) AS tranCreditOccF FROM bdo_fin.fin_subjectentry WHERE customerId = {customerId} AND yyyy = {yyyy} /*START #month# AND month = {month} #month# END*/ AND subjectId in (select a1.subjectId from bdo_fin.fin_accpkgsubject a1,bdo_fin.fin_accpkgsubject a2 where a1.customerId = {customerId} AND a1.yyyy = {yyyy} and a1.customerId = a2.customerId AND a1.yyyy = a2.yyyy AND a2.subjectId = '{subjectId}' and a1.subjectFullId like concat(a2.subjectFullId,'/%') union all select a1.subjectId from bdo_fin.fin_accpkgsubject a1 where a1.customerId = {customerId} AND a1.yyyy = {yyyy} AND a1.subjectId = '{subjectId}') AND isTransferVoucher = 1 /*START #currency# AND currency = '{currency}' #currency# END*/
#\u884C\u4E1A\u5206\u7C7B\u6807\u51C6\u6811(\u975E\u7ACB\u4FE1)
#FA50070=SELECT id,attributeName as label,attributeValue1 as value,attributeValue2 as parentId,IF(ISNULL(attributeValue2),'false','true')as leaf FROM bdo_base.base_dic WHERE attributetype='windIndustryStandard' and attributeValue1  not like '%GB%' ORDER BY attributeValue3 asc
FA50070=SELECT id,attributeName as label,attributeValue1 as value,attributeValue2 as parentId,IF(LENGTH(attributeValue2)=0 or ISNULL(attributeValue2),'false','true')as leaf FROM bdo_base.base_dic WHERE attributetype='windIndustryStandard' and attributeValue1  not like '%GB%' ORDER BY attributeValue3 asc
#\u884C\u4E1A\u5206\u7C7B\u6807\u51C6\u6811(\u7ACB\u4FE1)
FA50071=SELECT id,attributeName as label,attributeValue1 as value,attributeValue2 as parentId,IF(ISNULL(attributeValue2),'false','true')as leaf FROM bdo_base.base_dic WHERE attributetype='windIndustryStandard' and attributeValue1 like '%GB%'
#\u67E5\u8BE2TB\u79D1\u76EE\u548C\u62A5\u8868\u79D1\u76EE\u5BF9\u7167\u516C\u5F0F
FA50072=SELECT autoId,tbTemplateId,vocationId,customerId,departmentId,subjectCode,subjectName,reportSubjectCode,subjectType1,calFun FROM asdb.k_subjecttb  where calFun like CONCAT('%','{tbSubjectId}','%') AND tbTemplateId = {tbTemplateId} AND vocationId = {vocationId}
#\u79D1\u76EE\u660E\u7EC6\u8D26\u7684\u7ED3\u8F6C\u989D
#FA50073=SELECT autoId, accPackageId, customerId, yyyy, voucherId, oldVoucherId, typeId, vchDate, serail, summary, subjectId, dirction, occurValue, currRate, currValue, currency, quantity, unitPrice, unitName, bankId, property, subjectname1, subjectFullName1, debitsubjects, creditsubjects, voucherFillUser, voucherAuditUser, voucherKeepUser, voucherAffixCount, voucherDebitOcc, voucherCreditOcc, voucherDirector, tokenId, standName,oppositeAccountTop,oppositeAccountLast,IF(dirction = 1, occurValue, 0) AS tranDebitOcc,IF(dirction = - 1, occurValue, 0) AS tranCreditOcc, CASE Dirction WHEN 1 THEN OccurValue ELSE 0.00 END AS debit, CASE Dirction WHEN 1 THEN currValue ELSE 0.00 END AS debitCurr, CASE Dirction WHEN - 1 THEN OccurValue ELSE 0.00 END AS credit, CASE Dirction WHEN - 1 THEN currValue ELSE 0.00 END AS creditCurr, '' AS debitRemain FROM bdo_fin.fin_subjectentry WHERE isTransferVoucher=1 AND customerId = {param1} AND yyyy = {param5} AND subjectId LIKE '{param2}%' AND DATE_FORMAT(VchDate, '%Y-%m') = '{param3}' /*START #param6# AND voucherFillUser='{param6}' #param6# END*/ /*START #param7# AND voucherFillUser='{param7}' #param7# END*/ /*START #param8# AND {param8} #param8# END*/ ORDER BY VchDate, typeid, ABS(Oldvoucherid), serail 
#\u67E5\u627E\u8F85\u52A9\u6838\u7B97
#FA50074=SELECT customerId,assItemId,assItemName FROM bdo_fin.fin_assitem  WHERE customerId = {param1} AND yyyy = {param3} GROUP BY assItemId
#\u67E5\u8BE2\u540C\u540D\u5173\u952E\u5B57
FA50075=select autoId,key1,key2 from asdb.k_subjectcontractkey
#\u67E5\u8BE2\u5F53\u524D\u4E0E\u524D\u63A8\u9879\u76EE\u4E4B\u95F4\u6240\u6709\u7684\u62A5\u8868\u6A21\u677F
FA50076=SELECT autoId, ruleName, templateType, YEAR, MONTH, reportType FROM asdb.k_ruleacc WHERE {param1} >= CONCAT(YEAR, LPAD(MONTH, 2, '0')) AND CONCAT(YEAR, LPAD(MONTH, 2, '0')) > {param2} AND templateType = {param3} AND reportType = {param4} AND ACTIVE_FLAG = 1
#\u67E5\u8BE2\u4F7F\u7528\u7684\u672A\u5BA1\u62A5\u8868code
FA50077=SELECT DISTINCT colCode FROM asdb.k_reporttemplate WHERE columnName REGEXP '(,TOT_EQUITY,)|(,TOT_PROFIT,)|(,INT_EXP,)|(,TOT_ASSETS,)|(,TOT_ASSETS,)|(,NET_PROFIT_IS,)|(,OPER_REV,)|(,OPER_COST,)|(,OPPROFIT,)|(,SELLING_DIST_EXP,)|(,GERL_ADMIN_EXP,)|(,FIN_EXP_IS,)|(,NET_CASH_FLOWS_OPER_ACT,)|(,CASH_RECP_SG_AND_RS,)|(,CASH_RECP_SG_AND_RS,)|(,TOT_CUR_ASSETS,)|(,TOT_CUR_LIAB,)|(,PREPAY,)|(,PREPAY,)|(,TOT_LIAB,)|(,INVENTORIES,)|(,INVENTORIES,)|(,ACCT_RCV,)|(,ACCT_RCV,)|(,TOT_CUR_ASSETS,)|(,FIX_ASSETS,)|(,FIX_ASSETS,)|(,TOT_NON_CUR_ASSETS,)|(,TOT_NON_CUR_ASSETS,)|(,OPER_REV,)|(,OPPROFIT,)|(,TOT_PROFIT,)|(,NET_PROFIT_IS,)|(,NP_BELONGTO_PARCOMSH,)|(,NP_BELONGTO_PARCOMSH,)|(,NET_CASH_FLOWS_OPER_ACT,)|(,TOT_EQUITY,)|(,CONST_IN_PROG,)|(,CONST_IN_PROG,)|(,ACCTANDNOTES_RCV,)|(,ACCTANDNOTES_RCV,)|(,NON_OPER_EXP,)|(,NON_OPER_REV,)|(,NET_INVEST_INC,)|(,LOSS_FV_CHG,)|(,IMPAIR_LOSS_ASSETS,)|(,ACCTANDNOTES_PAYABLE,)|(,ACCTANDNOTES_PAYABLE,)' ORDER BY colCode
#\u67E5\u8BE2\u6307\u6807\u8BA1\u7B97\u516C\u5F0F
FA50078=SELECT REPLACE(GROUP_CONCAT(CONCAT('ROUND((',formula,'),2) AS ',columnName)),'Days',365) AS quotaColumn FROM bdo_wind.wind_defquota WHERE ACTIVE_FLAG = 1 AND isTitle = 0 AND columnName > '' 
#\u67E5\u8BE2\u8BA1\u7B97\u672A\u5BA1\u62A5\u8868\u6307\u6807
#FA50079=SELECT a.customerId,a.projectId,a.yyyy AS reportYear,'1' AS quotaType, {quotaColumn} FROM (SELECT customerId,projectId,yyyy,{tableCol} FROM (SELECT a.customerId,a.projectId,a.yyyy,a.reportSubjectId,b.columnName,SUM(a.remain) AS remain,SUM(a.balance) AS unAuditAmount,IF(LEFT(c.calFun,1) = '-',SUM(a.balance - a.adjustValue - a.cusAdjustValue),SUM(a.balance + a.adjustValue + a.cusAdjustValue)) AS adjustedAmount FROM bdo_dg.dg_tbsubjectcontract a LEFT JOIN asdb.k_reporttemplate b ON b.vocationId = a.vocationId AND b.colCode = a.reportSubjectId LEFT JOIN bdo_dg.dg_projecttb c ON c.customerId = a.customerId AND c.projectId = a.projectId AND c.reportSubjectId = a.reportSubjectId WHERE a.reportSubjectId > '' AND b.columnName>'' AND a.customerId= {customerId} AND a.projectId= {projectId} AND a.yyyy= {yyyy} GROUP BY reportSubjectId ORDER BY a.reportSubjectId) a) a
FA50079=SELECT a.customerId,a.projectId,a.yyyy AS reportYear,'1' AS quotaType, {quotaColumn} FROM (SELECT customerId,projectId,yyyy,{tableCol} FROM (SELECT a.customerId,a.projectId,a.yyyy,a.colCode AS reportSubjectId,a.columnName,IFNULL(a.adjustedRemain,0) AS remain,IFNULL(a.adjustedAmount,0) AS unAuditAmount,CASE a.contrastStatus WHEN 1 THEN IFNULL((a.adjustedAmount + IFNULL(b.occurValue, 0)), 0) ELSE 0 END AS adjustedAmount FROM bdo_dg.dg_unauditreport a LEFT JOIN (SELECT SUM(adjustValue) AS occurValue, reportSubjectId, customerId, projectId FROM bdo_dg.dg_tbsubjectcontract WHERE customerId = {customerId} AND projectId = {projectId} AND yyyy = {yyyy} AND ACTIVE_FLAG = 1 GROUP BY reportSubjectId) b ON a.customerId = b.customerId AND a.projectId = b.projectId AND a.colCode = b.reportSubjectId WHERE a.customerId = {customerId} AND a.projectId = {projectId} AND a.yyyy = {yyyy} AND a.columnName > '' GROUP BY a.colCode) a) a,(SELECT '0' AS iCol1,'0' AS iCol2) vv
#\u67E5\u8BE2\u8BA1\u7B97\u5BA1\u5B9A\u62A5\u8868\u6307\u6807
FA50080=SELECT a.customerId,a.projectId,a.yyyy AS reportYear,'2' AS quotaType, {quotaColumn} FROM (SELECT customerId,projectId,yyyy,{tableCol} FROM (SELECT a.customerId,a.projectId,a.yyyy,a.colCode AS reportSubjectId,a.columnName,IFNULL(a.adjustedRemain,0) AS remain,IFNULL(a.adjustedAmount,0) AS unAuditAmount,CASE a.contrastStatus WHEN 1 THEN IFNULL((a.adjustedAmount + IFNULL(b.occurValue, 0)), 0) ELSE 0 END AS adjustedAmount FROM bdo_dg.dg_unauditreport a LEFT JOIN (SELECT SUM(adjustValue) AS occurValue, reportSubjectId, customerId, projectId FROM bdo_dg.dg_tbsubjectcontract WHERE customerId = {customerId} AND projectId = {projectId} AND yyyy = {yyyy} AND ACTIVE_FLAG = 1 GROUP BY reportSubjectId) b ON a.customerId = b.customerId AND a.projectId = b.projectId AND a.colCode = b.reportSubjectId WHERE a.customerId = {customerId} AND a.projectId = {projectId} AND a.yyyy = {yyyy} AND a.columnName > '' GROUP BY a.colCode) a) a,(SELECT '0' AS iCol1,'0' AS iCol2) vv
#20200107 \u67E5\u8BE2\u6240\u6709\u8005\u6743\u76CA\u8868 \u5165\u53C2\u5BA2\u6237\u7F16\u53F7\u3001\u9879\u76EE\u7F16\u53F7\u3001\u88AB\u5408\u5E76\u9879\u76EE\u7F16\u53F7\u3001\u662F\u5426\u4E0A\u671F
FA50081=SELECT t.autoId,t.customerId,t.yyyy,t.projectId,t.mergeProjectId,t.colCode,t.colDisp,t.colType,t.rowNum,t.column1,t.column2,t.column3,t.column4,t.column5,t.column6,t.column7,t.column8,t.column9,t.column10,t.column11,t.column12,t.column13,t.column14,t.column15 FROM bdo_dg.dg_auditreport_info t WHERE t.customerId = {param1} AND t.projectId = {param3} AND t.mergeProjectId ={param4} AND t.isPre = {param6} AND t.colType = 'G' 
#\u83B7\u53D6\u6307\u5B9A\u89D2\u8272\u4EBA\u5458
FA50082=SELECT GROUP_CONCAT(DISTINCT a.id) AS userId FROM bdo_base.base_user a INNER JOIN bdo_base.base_userrole b ON a.id = b.userid WHERE b.rid IN ({roleId})
#\u6839\u636E\u6A21\u677FID\u548CTB\u79D1\u76EE\u7F16\u53F7\u67E5\u8BE2\u6240\u6709\u8BA1\u7B97\u516C\u5F0F\u5305\u542BTB\u79D1\u76EE\u7F16\u53F7\u7684\u8BB0\u5F55--TB\u6A21\u677F\u8868
FA50083=SELECT a.autoId, a.tbVocationId, a.tbSubjectId, a.tbSubjectName, a.isSubject, a.calFun FROM asdb.k_tbtemplate a WHERE a.tbVocationId = {param1} AND a.calFun LIKE CONCAT('%', '{param2}', '%')
#\u6839\u636E\u6A21\u677FID\u548CTB\u79D1\u76EE\u7F16\u53F7\u67E5\u8BE2\u6240\u6709\u8BA1\u7B97\u516C\u5F0F\u5305\u542BTB\u79D1\u76EE\u7F16\u53F7\u7684\u8BB0\u5F55--TB\u79D1\u76EE\u8868
FA50084=SELECT a.autoId, a.tbTemplateId, a.vocationId, a.customerId, a.subjectCode, a.subjectName, a.reportSubjectCode, a.subjectType1, a.calFun FROM asdb.k_subjecttb a WHERE a.tbTemplateId = {param1} AND a.calFun LIKE CONCAT('%', '{param2}', '%')
#\u6807\u51C6\u9879\u76EE\u5BA1\u6838\u5E93
FA50085=SELECT a.autoId, a.reviewName, a.yyyy, DATE_FORMAT(a.LAST_UPDATE_DATE, '%Y-%m-%d %T') AS LAST_UPDATE_DATE, a.LAST_UPDATED_BY, a.ACTIVE_FLAG, a.templateType, b.attributeName as templateTypeName FROM asdb.k_projectreview a left join bdo_base.base_dic b on a.templateType = b.attributeValue1 and b.attributetype = '\u6807\u51C6\u5BA1\u6838\u6A21\u677F\u7C7B\u578B' WHERE 1 = 1 /*START #param1# AND a.autoId = {param1} #param1# END*/ /*START #param2# AND a.reviewName LIKE '%{param2}%' #param2# END*/ /*START #param3# AND a.yyyy = {param3} #param3# END*/ /*START #param4# AND a.ACTIVE_FLAG = {param4} #param4# END*/ /*START #param5# AND a.templateType = {param5} #param5# END*/
#\u5BA1\u8BA1\u5DE5\u4F5C\u5E95\u7A3F\u9001\u5BA1\u68C0\u67E5\u8868--\u5BA1\u6279\u9879
FA50086=SELECT a.autoId, a.reviewtemplateId, a.approvalItem1, a.approvalItemType1, IFNULL(a.approvalItemOptions1, '') AS approvalItemOptions1, a.approvalItemMust1, a.approvalItem2, a.approvalItemType2, IFNULL(a.approvalItemOptions2, '') AS approvalItemOptions2, a.approvalItemMust2, a.approvalItem3, a.approvalItemType3, IFNULL(a.approvalItemOptions3, '') AS approvalItemOptions3, a.approvalItemMust3, a.approvalItem4, a.approvalItemType4, IFNULL(a.approvalItemOptions4, '') AS approvalItemOptions4, a.approvalItemMust4, a.approvalItem5, a.approvalItemType5, IFNULL(a.approvalItemOptions5, '') AS approvalItemOptions5, a.approvalItemMust5, a.approvalItem6, a.approvalItemType6, IFNULL(a.approvalItemOptions6, '') AS approvalItemOptions6, a.approvalItemMust6, a.approvalItem7, a.approvalItemType7, IFNULL(a.approvalItemOptions7, '') AS approvalItemOptions7, a.approvalItemMust7, a.approvalItem8, a.approvalItemType8, IFNULL(a.approvalItemOptions8, '') AS approvalItemOptions8, a.approvalItemMust8, a.approvalItem9, a.approvalItemType9, IFNULL(a.approvalItemOptions9, '') AS approvalItemOptions9, a.approvalItemMust9, a.approvalItem10, a.approvalItemType10, IFNULL(a.approvalItemOptions10, '') AS approvalItemOptions10, a.approvalItemMust10, a.approvalItem11, a.approvalItemType11, IFNULL(a.approvalItemOptions11, '') AS approvalItemOptions11, a.approvalItemMust11, a.approvalItem12, a.approvalItemType12, IFNULL(a.approvalItemOptions12, '') AS approvalItemOptions12, a.approvalItemMust12, a.approvalItem13, a.approvalItemType13, IFNULL(a.approvalItemOptions13, '') AS approvalItemOptions13, a.approvalItemMust13, a.approvalItem14, a.approvalItemType14, IFNULL(a.approvalItemOptions14, '') AS approvalItemOptions14, a.approvalItemMust14, a.approvalItem15, a.approvalItemType15, IFNULL(a.approvalItemOptions15, '') AS approvalItemOptions15, a.approvalItemMust15, a.approvalItem16, a.approvalItemType16, IFNULL(a.approvalItemOptions16, '') AS approvalItemOptions16, a.approvalItemMust16, a.approvalItem17, a.approvalItemType17, IFNULL(a.approvalItemOptions17, '') AS approvalItemOptions17, a.approvalItemMust17, a.approvalItem18, a.approvalItemType18, IFNULL(a.approvalItemOptions18, '') AS approvalItemOptions18, a.approvalItemMust18, a.approvalItem19, a.approvalItemType19, IFNULL(a.approvalItemOptions19, '') AS approvalItemOptions19, a.approvalItemMust19, a.approvalItem20, a.approvalItemType20, IFNULL(a.approvalItemOptions20, '') AS approvalItemOptions20, a.approvalItemMust20 FROM asdb.k_dg_review_check a WHERE a.reviewtemplateId = {param1} AND a.parentid <> 0 GROUP BY a.reviewtemplateId
#\u5BA1\u8BA1\u5DE5\u4F5C\u5E95\u7A3F\u9001\u5BA1\u68C0\u67E5\u8868
FA50087=SELECT a.autoId, a.reviewtemplateId, a.id, a.title, a.parentId, a.auditor, a.approvalItem1, a.approvalItemOptions1, IFNULL(a.approvalItemValue1, '') AS approvalItemValue1, a.approvalItemType1, a.approvalItemMust1, a.approvalItem2, a.approvalItemOptions2, IFNULL(a.approvalItemValue2, '') AS approvalItemValue2, a.approvalItemType2, a.approvalItemMust2, a.approvalItem3, a.approvalItemOptions3, IFNULL(a.approvalItemValue3, '') AS approvalItemValue3, a.approvalItemType3, a.approvalItemMust3, a.approvalItem4, a.approvalItemOptions4, IFNULL(a.approvalItemValue4, '') AS approvalItemValue4, a.approvalItemType4, a.approvalItemMust4, a.approvalItem5, a.approvalItemOptions5, IFNULL(a.approvalItemValue5, '') AS approvalItemValue5, a.approvalItemType5, a.approvalItemMust5, a.approvalItem6, a.approvalItemOptions6, IFNULL(a.approvalItemValue6, '') AS approvalItemValue6, a.approvalItemType6, a.approvalItemMust6, a.approvalItem7, a.approvalItemOptions7, IFNULL(a.approvalItemValue7, '') AS approvalItemValue7, a.approvalItemType7, a.approvalItemMust7, a.approvalItem8, a.approvalItemOptions8, IFNULL(a.approvalItemValue8, '') AS approvalItemValue8, a.approvalItemType8, a.approvalItemMust8, a.approvalItem9, a.approvalItemOptions9, IFNULL(a.approvalItemValue9, '') AS approvalItemValue9, a.approvalItemType9, a.approvalItemMust9, a.approvalItem10, a.approvalItemOptions10, IFNULL(a.approvalItemValue10, '') AS approvalItemValue10, a.approvalItemType10, a.approvalItemMust10, a.approvalItem11, a.approvalItemOptions11, IFNULL(a.approvalItemValue11, '') AS approvalItemValue11, a.approvalItemType11, a.approvalItemMust11, a.approvalItem12, a.approvalItemOptions12, IFNULL(a.approvalItemValue12, '') AS approvalItemValue12, a.approvalItemType12, a.approvalItemMust12, a.approvalItem13, a.approvalItemOptions13, IFNULL(a.approvalItemValue13, '') AS approvalItemValue13, a.approvalItemType13, a.approvalItemMust13, a.approvalItem14, a.approvalItemOptions14, IFNULL(a.approvalItemValue14, '') AS approvalItemValue14, a.approvalItemType14, a.approvalItemMust14, a.approvalItem15, a.approvalItemOptions15, IFNULL(a.approvalItemValue15, '') AS approvalItemValue15, a.approvalItemType15, a.approvalItemMust15, a.approvalItem16, a.approvalItemOptions16, IFNULL(a.approvalItemValue16, '') AS approvalItemValue16, a.approvalItemType16, a.approvalItemMust16, a.approvalItem17, a.approvalItemOptions17, IFNULL(a.approvalItemValue17, '') AS approvalItemValue17, a.approvalItemType17, a.approvalItemMust17, a.approvalItem18, a.approvalItemOptions18, IFNULL(a.approvalItemValue18, '') AS approvalItemValue18, a.approvalItemType18, a.approvalItemMust18, a.approvalItem19, a.approvalItemOptions19, IFNULL(a.approvalItemValue19, '') AS approvalItemValue19, a.approvalItemType19, a.approvalItemMust19, a.approvalItem20, a.approvalItemOptions20, IFNULL(a.approvalItemValue20, '') AS approvalItemValue20, a.approvalItemType20, a.approvalItemMust20 FROM asdb.k_dg_review_check a WHERE a.reviewtemplateId = {param1}
#\u5E95\u7A3F\u8282\u70B9\u7D22\u5F15\u53F7
FA50088=SELECT a.autoId, IF ( a.parentId = a.autoId, a.indexId, CONCAT(b.indexId, '-', a.indexId)) AS indexId, a.nodeName, a.parentId FROM asdb.k_draftconfig a LEFT JOIN asdb.k_draftconfig b ON a.parentId = b.autoId
####################\u5BA1\u8BA1\u5E73\u53F0#####################
#\u5BA2\u6237\u8D44\u6599\u5E93\u6587\u4EF6\u76EE\u5F55
RC10001=SELECT DISTINCT CONCAT('cusfs_', a.fileSystemId) AS id, a.fileName AS label, a.parentId, /*IF(a.lowerState = '1', 'false', 'true') AS leaf,*/IF('{param13}' = '1', IF(a.lowerState = '1', 'false', 'true'), IF(a.fileType = '01', 'false', 'true')) AS leaf, a.fileSystemId AS VALUE, 'cusfs' AS typeName FROM cus_rcfilesystem a WHERE a.ACTIVE_FLAG = '1' /*START #param12# AND a.fileType = '01' #param12# END*/ /*START #param1# AND a.parentId = '{param1}' #param1# END*/ /*START #param10# AND a.groupId IN ({param10}) #param10# END*/ /*START #param20# AND a.parentId = {param20} #param20# END*/ /*START #param21# AND a.depth = {param21} #param21# END*/ /*START #param11# AND a.fileSystemId != {param11} #param11# END*/ /*START #param19# AND a.fileName = '{param19}' #param19# END*/ /*START #param18# AND a.fileSystemId IN ({param18}) #param18# END*/
#\u6210\u5458\u6240\u5728\u7EC4
RC10002=SELECT a.groupId FROM cus_rcgroupmember a WHERE a.userId = {userId}
#\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6:\u5BA2\u6237
RC10003=SELECT a.fileSystemId, a.parentId, a.fileName, a.lowerState, a.depth, a.fileType, a.fullPath, a.LAST_UPDATED_BY AS __ulastUpdateUser, a.LAST_UPDATE_DATE AS lastUpdateDate FROM cus_rcfilesystem a WHERE a.ACTIVE_FLAG = '1' AND a.parentId = {param1} AND a.depth > 0 AND a.groupId = {param2}
#\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6:\u5458\u5DE5
RC10004=SELECT a.fileSystemId, a.parentId, a.fileName, a.lowerState, a.depth, a.fileType, a.fullPath, a.LAST_UPDATED_BY AS __ulastUpdateUser, a.LAST_UPDATE_DATE AS lastUpdateDate FROM cus_rcfilesystem a WHERE a.ACTIVE_FLAG = '1' AND a.parentId = {param1} AND a.groupId = {param2} AND a.depth > 0 
#\u4EFB\u52A1\u5217\u8868
RC10005=SELECT a.taskId, a.groupId, a.taskName, a.intro, a.intro AS content, a.CREATED_BY AS __uuserId, (CASE WHEN {userId} = a.CREATED_BY THEN 'true' ELSE 'false' END) AS isOwner, a.CREATION_DATE AS creationDate FROM cus_rctask a WHERE a.groupId = {param1} 
#\u4EFB\u52A1\u8BC4\u8BBA
RC10006=SELECT a.taskCommentId AS commentId, a.parentId, a.taskId, a.comment, a.CREATED_BY AS __uuserId, (CASE WHEN {userId} = a.CREATED_BY THEN 'true' ELSE 'false' END) AS isOwner, b.CREATED_BY AS __uparentUserId, a.CREATION_DATE AS creationDate FROM cus_rctaskcomment a LEFT JOIN cus_rctaskcomment b ON b.taskCommentId = a.parentId WHERE a.taskId IN ({param1}) ORDER BY a.taskId
#\u4EFB\u52A1\u6216\u4EFB\u52A1\u8BC4\u8BBA\u5173\u8054\u9644\u4EF6
RC10007=SELECT b.taskResourcesId AS resId, b.taskId, b.commentId, a.fileSystemId, a.fileName, IF(b.commentId IS NULL, 'task', 'comment') AS type FROM cus_rcfilesystem a LEFT JOIN cus_rctaskresources b ON b.fileSystemId = a.fileSystemId WHERE b.taskId IN ({param1}) ORDER BY b.taskId, b.commentId
#\u5BA2\u6237\u6570\u6700\u4E0A\u5C42\u8282\u70B9
PC00012=SELECT CONCAT('auditType_', a.id) AS id, a.attributeValue1 AS label, a.attributeName AS parentid, a.attributeValue1 AS VALUE, "false" AS leaf, 'auditType_1' AS typeName FROM bdo_base.base_dic a WHERE 1 = 1 AND a.attributetype IN ('projectType')
#\u975E\u96C6\u56E2\u5BA2\u6237\u6811
PC00013=SELECT DISTINCT CONCAT('customerType_', aa.customerid) AS id, aa.customerName AS label, '' AS parentid, aa.customerid AS VALUE, 'true' AS leaf, 'customerType' AS typeName FROM asdb.cus_rccustomerinfo  aa WHERE aa.isgroup='0' and (aa.groupid is null or aa.groupid ='0') and (/*aa.type in (0,1) or*/ aa.departmentid in ({param14})) /*START #param13# AND aa.customerid in ({param13}) #param13# END*/ 
#\u96C6\u56E2\u5BA2\u6237\u6811(\u9876\u5C42)
PC00014=SELECT DISTINCT CONCAT('customerType_', aa.customerid) AS id, aa.groupName AS label, '\u96C6\u56E2' AS parentid,  aa.groupid AS VALUE, 'false' AS typeName FROM asdb.cus_rccustomerinfo  aa where aa.isgroup='1' and (/*aa.type in (0,1) or*/ aa.departmentid in ({param14})) /*START #param13# AND aa.customerid in ({param13}) #param13# END*/ 
#\u96C6\u56E2\u5BA2\u6237\u6811(\u4E2D\u4E0B)
PC00015=SELECT CONCAT('customerType_', a.CustomerId) AS id, a.customerName AS label, a.parentid AS parentid, a.customerId AS VALUE, IF(a.childIds is null,'true','false') AS leaf, 'customerType' AS typeName FROM cus_rccustomerinfo a  WHERE  a.parentid > 0  /*START #param12# AND a.parentid={param12} #param12# END*/  and (/*a.type in (0,1) or*/ a.departmentid in ({param14})) /*START #param16# AND a.customerid in ({param16}) #param16# END*/ 
#\u5BA2\u6237\u5BF9\u5E94\u9879\u76EE
PC00016=SELECT a.projectId,a.projectName, a.projectYear,d.customerName,IF(a.projectProperty='99','\u4E00\u822C\u9879\u76EE','\u91CD\u5927\u9879\u76EE') as projectProperty, a.auditType, a.otherAuditType FROM z_project a LEFT JOIN asdb.cus_rccustomerinfo d ON a.customerid = d.customerid where a.active_flag=1 /*START #param1# and a.customerid='{param1}' #param1# END*/ /*START #param2# and a.projectyear='{param2}' #param2# END*/ /*START #param2# and a.projectyear='{param2}' #param2# END*/  /*START #param3# and a.workdate >= '{param3}' #param3# END*/ /*START #param4# AND a.workdate <= '{param4}' #param4# END*/  and a.departmentid in ({param5})
#\u96C6\u56E2\u5BA2\u6237\u6811(\u6A21\u7CCA\u67E5\u8BE2)
PC00017=SELECT CONCAT('customerType_', a.CustomerId) AS id, a.customerName AS label, a.parentid AS parentid, a.customerId AS VALUE, IF(a.childIds is null,'true','false') AS leaf, 'customerType' AS typeName FROM cus_rccustomerinfo a  WHERE   (/*a.type in (0,1) or*/ a.departmentid in ({param14}))  /*START #param19# AND a.customername like '%{param19}%' #param19# END*/ 

#############################HR#############################
#\u83B7\u53D6\u6307\u5B9Alevel0\u7684\u6700\u5927\u90E8\u95E8ID
HR00001=SELECT IFNULL(MAX(autoId),0) + 1 AS departmentId FROM bdo_base.base_department WHERE 1 = 1 AND level0 = {level0}
#############################HR#############################

