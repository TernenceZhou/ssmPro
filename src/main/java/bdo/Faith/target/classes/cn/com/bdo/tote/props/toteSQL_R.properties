
####################\u5E95\u7A3F\u8003\u8BD5#####################
#\u67E5\u8BE2\u8003\u8BD5\u4EFB\u52A1
TOTE00001=SELECT a.autoId,a.examName,a.startDate,a.endDate,a.examStatus,c.attributeName as examStatusName,a.CREATED_BY AS __ucreateUser from bdo_tote.tote_exam a LEFT JOIN bdo_base.base_dic c on c.attributetype='\u65B0\u5458\u5DE5\u57F9\u8BAD\u8003\u8BD5\u72B6\u6001' and c.attributeValue1 = a.examStatus where 1=1 /*START #param1# AND a.examName LIKE '%{param1}%' #param1# END*/ and a.isTest = {param2} order by a.CREATION_DATE desc
#\u67E5\u8BE2\u8003\u8BD5\u79D1\u76EE
TOTE00002=SELECT a.autoId,a.examId,a.subjectName,a.fileFullPath,a.fileName from bdo_tote.tote_examsubject a where a.examId = {param1} order by a.CREATION_DATE desc
#\u67E5\u8BE2\u8003\u8BD5\u4EBA\u5458
TOTE00003=SELECT * from (SELECT a.autoId,a.examId,a.userId,a.userType,CONCAT(b.name,'(',b.hrLoginId,')') as name,b.hrDeptCode018,b.hrDeptCode019,b.departmentid AS __departmentid,b.hrDepart,a.CREATION_DATE,IF(sum(if(c.examStatus = '2',1,0)) = count(c.examStatus) and count(c.examStatus) > 0,'\u8003\u8BD5\u7ED3\u675F','\u8003\u8BD5\u4E2D') as examStatusName,IF(sum(if(c.examStatus = '2',1,0)) = count(c.examStatus) and count(c.examStatus) > 0,'2','1') as examStatus from bdo_tote.tote_examuser a inner join bdo_base.base_user b on a.userId =b.id left join bdo_tote.tote_examusersubject c on a.userId = c.userId and a.examId = c.examId  where a.examId = {param1} and a.userType = {param2} group by a.examId,a.userId ) a where 1=1 /*START #param3# and a.name like '%{param3}%' #param3# END*/ /*START #param4# and a.examStatus = '{param4}' #param4# END*/ order by a.CREATION_DATE desc
#\u67E5\u8BE2\u8003\u8BD5\u4EBA\u5458
TOTE00004=SELECT a.id,CONCAT(a.name,'(',ifnull(a.hrLoginId,''),')') as name,a.hrDeptCode018,a.hrDeptCode019,a.departmentid AS __departmentid,a.hrDepart from bdo_base.base_user a where a.isActive = 1 and a.hrLoginId is not null /*START #param1# AND a.name LIKE '%{param1}%' #param1# END*/ /*START #param2# AND a.departmentid = '{param2}' #param2# END*/ order by a.id desc
#\u67E5\u8BE2\u4EBA\u5458\u8003\u8BD5\u4EFB\u52A1
TOTE00005=SELECT a.autoId,a.examId,a.userId,a.subjectId,a.fileFullPath,a.fileName,a.auditStatus,c.attributeName as auditStatusName,a.auditUser AS __uauditUser,a.auditTime,b.examName,b.endDate,b.examStatus,d.subjectName,a.examStatus as userExamStatus,e.attributeName as examStatusName,f.name from bdo_tote.tote_examusersubject a inner join bdo_tote.tote_exam b on a.examId = b.autoId /*START #param9# and b.examStatus <> '9' #param9# END*/ /*START #param1# AND b.examName LIKE '%{param1}%' #param1# END*/ /*START #param6# and b.autoId = {param6} #param6# END*/ and b.isTest = {param10} LEFT JOIN bdo_base.base_dic c on c.attributetype='\u65B0\u5458\u5DE5\u57F9\u8BAD\u5BA1\u6838\u72B6\u6001' and c.attributeValue1 = a.auditStatus inner join bdo_tote.tote_examsubject d on a.subjectId = d.autoId /*START #param2# AND d.subjectName LIKE '%{param2}%' #param2# END*/ LEFT JOIN bdo_base.base_dic e on e.attributetype='\u65B0\u5458\u5DE5\u57F9\u8BAD\u8003\u8BD5\u72B6\u6001' and e.attributeValue1 = a.examStatus inner join bdo_base.base_user f on a.userId = f.id /*START #param4# and f.name like '%{param4}%' #param4# END*/ /*START #param5# inner join bdo_tote.tote_examuser g on a.examId = g.examId and g.userId = {param5} and g.userType = '2' #param5# END*/ where 1=1 /*START #param3# and a.userId = {param3} #param3# END*/ /*START #param11# and a.examStatus = '{param11}' #param11# END*/ /*START #param12# and a.auditStatus = '{param12}' #param12# END*/ order by a.subjectId
#\u67E5\u8BE2\u4EBA\u5458\u8003\u8BD5\u4EFB\u52A1
TOTE00006=SELECT a.examId,a.userId,a.auditStatus,IF(sum(if(a.auditStatus = '2',1,0)) = count(a.auditStatus),'\u5BA1\u6838\u901A\u8FC7','\u5F85\u5BA1\u6838') as auditStatusName,a.auditTime,b.examName,b.endDate,b.examStatus,a.examStatus as userExamStatus,IF(sum(if(a.examStatus = '2',1,0)) = count(a.examStatus),'\u8003\u8BD5\u7ED3\u675F','\u8003\u8BD5\u4E2D') as examStatusName,f.name from bdo_tote.tote_examusersubject a inner join bdo_tote.tote_exam b on a.examId = b.autoId /*START #param9# and b.examStatus <> '9' #param9# END*/ /*START #param1# AND b.examName LIKE '%{param1}%' #param1# END*/ /*START #param6# and b.autoId = {param6} #param6# END*/ and b.isTest = {param10} inner join bdo_base.base_user f on a.userId = f.id /*START #param4# and f.name like '%{param4}%' #param4# END*/ /*START #param5# inner join bdo_tote.tote_examuser g on a.examId = g.examId and g.userId = {param5} and g.userType = '2' #param5# END*/ where 1=1 /*START #param3# and a.userId = {param3} #param3# END*/ group by a.examId
#\u6839\u636E\u8003\u8BD5ID\u67E5\u8BE2\u4EBA\u5458\u8003\u8BD5\u4EFB\u52A1
TOTE00007=SELECT a.autoId, a.examId, c.examName, a.userId, a.subjectId, b.subjectName, a.fileFullPath, a.fileName, a.auditStatus, a.auditUser, a.auditTime, a.examStatus FROM bdo_tote.tote_examusersubject a LEFT JOIN bdo_tote.tote_examsubject b ON a.subjectId = b.autoId AND a.examId = b.examId LEFT JOIN bdo_tote.tote_exam c ON a.examId = c.autoId WHERE a.userId = {param1} AND a.examId = {param2}
####################\u5E95\u7A3F\u8003\u8BD5#####################